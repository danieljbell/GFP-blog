!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):window.atomic=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(n){"use strict";var i,r={method:"GET",username:null,password:null,data:{},headers:{"Content-type":"application/x-www-form-urlencoded"},responseType:"text",timeout:null,withCredentials:!1},o=function(){for(var n={},e=0;e<arguments.length;e++){!function(e){for(var t in e)e.hasOwnProperty(t)&&("[object Object]"===Object.prototype.toString.call(e[t])?n[t]=o(n[t],e[t]):n[t]=e[t])}(arguments[e])}return n},a=function(r){var o=new XMLHttpRequest,e=new Promise(function(e,t){for(var n in o.onreadystatechange=function(){4===o.readyState&&(200<=o.status&&o.status<300?e(function(t){var n;if("text"!==i.responseType&&""!==i.responseType)return{data:t.response,xhr:t};try{n=JSON.parse(t.responseText)}catch(e){n=t.responseText}return{data:n,xhr:t}}(o)):t({status:o.status,statusText:o.statusText}))},o.open(i.method,r,!0,i.username,i.password),o.responseType=i.responseType,i.headers)i.headers.hasOwnProperty(n)&&o.setRequestHeader(n,i.headers[n]);i.timeout&&(o.timeout=i.timeout,o.ontimeout=function(e){t({status:408,statusText:"Request timeout"})}),i.withCredentials&&(o.withCredentials=!0),o.send(function(e){if("string"==typeof e||"[object FormData]"===Object.prototype.toString.call(e))return e;if(/application\/json/i.test(i.headers["Content-type"])||"[object Array]"===Object.prototype.toString.call(e))return JSON.stringify(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(i.data))});return e.cancel=function(){o.abort()},e};return function(e,t){if(!("XMLHttpRequest"in n&&"JSON"in n&&"Promise"in n))throw"Atomic: This browser does not support the methods used in this plugin.";return i=o(r,t||{}),a(e)}}),window.innerWidth,document.querySelector("button#hamburger").addEventListener("click",function(e){toggleMenu();var t=document.querySelector(".site-header").offsetHeight;document.querySelector(".navigation--level-zero").style.top=t+"px"});for(var headerTopButtons=document.querySelectorAll(".navigation--button"),navLevelOne=document.querySelectorAll(".navigation--level-one"),i=0;i<navLevelOne.length;i++)navLevelOne[i].querySelector("li:first-child a").classList.add("active");for(i=0;i<headerTopButtons.length;i++)headerTopButtons[i].addEventListener("click",function(e){e.preventDefault();var t=e.target,n=t.nextElementSibling.querySelector(".navigation--level-one");n.classList.contains("active")?(n.classList.remove("active"),t.nextElementSibling.classList.remove("active")):(t.parentElement.classList.add("active"),t.nextElementSibling.classList.add("active"),t.nextElementSibling.querySelector(".navigation--level-one").classList.add("active"))});var allLevelOneLinks=document.querySelectorAll(".navigation--level-one > li > a");for(i=0;i<allLevelOneLinks.length;i++)allLevelOneLinks[i].addEventListener("click",function(e){e.preventDefault();for(var t=document.querySelectorAll(".navigation--level-one > li > a"),n=0;n<t.length;n++)t[n].classList.remove("active");e.target.classList.add("active")});function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}!function(){if(document.querySelector(".alert--cart-item"))var i=document.querySelector(".alert--cart-item").innerHTML;var a=[];document.querySelector(".alert--cart-list")&&(document.querySelector(".alert--cart-list").innerHTML="");var e=document.querySelector("#modelModifiers");document.querySelector("#main_content");e&&e.addEventListener("change",function(e){var t=e.target.value;window.location.href=window.location.origin+"/"+t});for(var t=document.querySelectorAll("table tr"),n=0;n<t.length;n++)t[n].addEventListener("mouseenter",function(e){if(!(window.innerWidth<1080||"false"===e.target.querySelector("td:first-child").dataset.productSold)){var t=e.target.querySelector("td:first-child .product-image-container");if(t)t.classList.remove("product-image--is-hidden");else{var n=e.target.querySelector("td:first-child").dataset.productImage,r=document.createElement("img");r.classList.add("product-image"),r.src=void 0===n?"https://cdn3.volusion.com/yxhfe.dfqew/v/vspfiles/templates/gfp-test/images/nophoto.gif":n;var o=document.createElement("div");o.classList.add("product-image-container"),o.appendChild(r);e.target.querySelector("td:first-child").appendChild(o)}}}),t[n].addEventListener("mouseleave",function(e){e.target.querySelector("td:first-child .product-image-container").classList.add("product-image--is-hidden")});function r(){for(var e="https://www.greenfarmparts.com/shoppingcart.asp?",t=[],n=document.querySelectorAll(".alert--cart-item"),r=0;r<n.length;r++){var o=n[r].dataset.productcode,i=n[r].querySelector('input[name="product_quantity"]').value;t.push({productCode:o,productQty:i})}for(r=0;r<t.length;r++)e=r<1?e+"productcode="+t[r].productCode+"&QTY."+t[r].productCode+"="+t[r].productQty:e+"&productcode="+t[r].productCode+"&QTY."+t[r].productCode+"="+t[r].productQty;return e}document.addEventListener("click",function(e){if(e.target.classList.contains("add-to-cart")){var t=document.querySelector(".alert--add-to-cart"),n=e.target.parentElement.parentElement.querySelector("td:first-child").innerText,r=e.target.parentElement.parentElement.querySelector("td:nth-child(2)").innerText;if(a.includes(r))return;a.push(r);var o=document.createElement("li");o.classList.add("alert--cart-item"),o.dataset.productcode=r,o.innerHTML=i,o.querySelector(".alert--cart-part-number").innerText=r,o.querySelector(".alert--cart-part-type").innerText=n,document.querySelector(".alert--cart-list").appendChild(o),t.classList.add("alert--is-active"),t.classList.contains("alert--is-minimized")&&t.classList.remove("alert--is-minimized")}}),document.querySelector("#closeAlert")&&document.querySelector("#closeAlert").addEventListener("click",function(e){var t=e.target.parentElement.parentElement,n=t.classList.toString();n.includes("alert--is-minimized")&&n.includes("alert--is-active")?t.classList.remove("alert--is-minimized"):(t.classList.add("alert--is-minimized"),t.classList.add("alert--is-active"))}),document.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("alert--remove-item")){var n=t.parentElement.parentElement.dataset.productcode,r=a.indexOf(n);a.splice(r,1),t.parentElement.parentElement.remove()}}),document.querySelector("#submitCheckout")&&document.querySelector("#submitCheckout").addEventListener("click",function(e){e.preventDefault(),window.location.href=r()}),document.querySelector("#saveForLater")&&document.querySelector("#saveForLater").addEventListener("click",function(e){e.preventDefault(),document.cookie="cartURL="+r(),document.querySelector(".alert--add-to-cart").classList.add("alert--is-minimized")});var o=document.querySelector(".maintenance-kit-container");o&&1080<window.innerWidth&&(window.onload=function(){var t=o.offsetTop,n=window.getComputedStyle(document.body,null).fontSize;n=parseInt(n.split("px")[0]),window.addEventListener("scroll",function(e){window.scrollY>t-3*n&&o.classList.add("maintenance-kit-container--is-fixed"),window.scrollY<t-3*n&&o.classList.remove("maintenance-kit-container--is-fixed")})})}(),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var o,i,a=0|t,s=Math.max(0<=a?a:r-Math.abs(a),0);for(;s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1}}),function(){var e=document.querySelector(".single-comments"),t=document.querySelector("#respond");document.querySelector("#commentform");if(t){var n=document.createElement("button");n.innerHTML="Add Comment",n.id="addComment",t.style.visibility="hidden",t.style.maxHeight="0px",t.style.padding="0px",t.style.marginTop="0px",e.appendChild(n),document.querySelector("#addComment").addEventListener("click",function(e){e.preventDefault(),e.target.style.opacity="0",t.style.visibility="visible",t.style.maxHeight="1000px",t.style.padding="1rem",t.style.marginTop="3rem"})}}();var loadPosts=document.querySelector("#loadMorePosts");if(loadPosts){var offset=1,postCount=10,postListing=document.querySelector(".post-listing--list");loadPosts.addEventListener("click",function(e){var t=window.location.origin+"/wp-json/wp/v2/posts?offset="+offset*postCount;atomic(t).then(function(e){for(var t=[],n=e.data,r=0;r<n.length;r++)t.push({date:n[r].date,author:n[r].author,category:n[r].categories[0],title:n[r].title.rendered,tags:n[r].tags,link:n[r].link,description:n[r].excerpt.rendered.slice(3,-5)});return e.data.length<10&&(loadPosts.textContent="All Posts Loaded",loadPosts.disabled=!0,loadPosts.classList.add("disabled")),t}).then(function(e){for(var t=0;t<e.length;t++){var n=e[t].date,r=new Date(n);r=r.toDateString().slice(3);var o=e[t].title,i="Uncategorized",a=e[t].link,s=e[t].description;switch(e[t].category){case 17:i="Maintenance Reminder";break;case 6:i="Talk With A Tech"}var c=document.createElement("div");c.classList.add("card"),c.innerHTML='<div class="card-meta"></div><div class="card-content">'+o+"</div>",c.querySelector(".card-meta").innerHTML='<time datetime="'+n+'">'+r+'</time><p><small>By: <a href="#0">Daniel</a></small></p>',c.querySelector(".card-content").innerHTML='<p class="card-category"><a href="/?cat='+e[t].postCategory+'">'+i+'</a></p><h4 class="card-title"><a href="'+a+'">'+o+'</a></h4><p class="card-description">'+s+'</p><ul class="single-tags--list"></ul>',postListing.appendChild(c)}}).catch(function(e){console.log(e)}),offset++})}!function(){var e=document.querySelectorAll(".accordian--title");if(e)for(var t=0;t<e.length;t++)e[t].parentElement.classList.add("accordian--is-collapsed"),e[t].addEventListener("click",function(e){e.target.parentElement.classList.contains("accordian--is-collapsed")?e.target.parentElement.classList.remove("accordian--is-collapsed"):e.target.parentElement.classList.add("accordian--is-collapsed")})}(),function(){var e=parseInt(window.getComputedStyle(document.querySelector("body")).getPropertyValue("font-size")),t=document.querySelector("#stickyNav"),n=window.scrollY,r=t.offsetTop,o=t.clientWidth;window.addEventListener("resize",function(){r=t.offsetTop,console.log(r)}),document.addEventListener("scroll",function(){n=window.scrollY,r-3*e<n?(t.classList.add("nav--is-sticky"),t.style.maxWidth=o+"px"):t.classList.remove("nav--is-sticky")})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF0b21pYy5taW4uanMiLCJzaXRlLWhlYWRlci5qcyIsInNpbmdsZS1wb3N0LmpzIiwic2luZ2xlLWNvbW1lbnRzLmpzIiwicG9zdC1saXN0aW5nLmpzIiwiYWNjb3JkaWFuLmpzIiwic3RpY2t5LW5hdmlnYXRpb24uanMiXSwibmFtZXMiOlsidCIsImUiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwid2luZG93IiwiYXRvbWljIiwiZ2xvYmFsIiwidGhpcyIsIm4iLCJtZXRob2QiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZGF0YSIsImhlYWRlcnMiLCJDb250ZW50LXR5cGUiLCJyZXNwb25zZVR5cGUiLCJ0aW1lb3V0Iiwid2l0aENyZWRlbnRpYWxzIiwiciIsImFyZ3VtZW50cyIsImxlbmd0aCIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiYSIsIlhNTEh0dHBSZXF1ZXN0IiwibyIsIlByb21pc2UiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJ4aHIiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJzIiwic3RhdHVzVGV4dCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwib250aW1lb3V0Iiwic2VuZCIsInRlc3QiLCJzdHJpbmdpZnkiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsImkiLCJjYW5jZWwiLCJhYm9ydCIsImlubmVyV2lkdGgiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTWVudSIsImhlYWRlckhlaWdudCIsIm9mZnNldEhlaWdodCIsInN0eWxlIiwidG9wIiwiaGVhZGVyVG9wQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXZMZXZlbE9uZSIsImNsYXNzTGlzdCIsImFkZCIsInByZXZlbnREZWZhdWx0Iiwic2VsZiIsInRhcmdldCIsImNoaWxkTWVudSIsIm5leHRFbGVtZW50U2libGluZyIsImNvbnRhaW5zIiwicmVtb3ZlIiwicGFyZW50RWxlbWVudCIsImFsbExldmVsT25lTGlua3MiLCJsaW5rcyIsImoiLCJib2R5IiwidG9nZ2xlIiwiYWxlcnRDYXJ0SXRlbVRlbXBsYXRlIiwiaW5uZXJIVE1MIiwiYWRkZWRQcm9kdWN0cyIsIm1vZGVsTW9kaWZlclNlbGVjdCIsImxvYyIsInZhbHVlIiwibG9jYXRpb24iLCJocmVmIiwib3JpZ2luIiwiYWxsUm93cyIsImRhdGFzZXQiLCJwcm9kdWN0U29sZCIsImltZ0V4aXN0cyIsImltZ1BhdGgiLCJwcm9kdWN0SW1hZ2UiLCJwcm9kSW1nIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsInByb2RJbWdDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsImJ1aWxkQ2FydFN0cmluZyIsImluaXRVUkwiLCJhbGxBZGRlZFByb2R1Y3RzIiwiYWxsQWRkZWRJdGVtcyIsInByb2R1Y3RDb2RlIiwicHJvZHVjdGNvZGUiLCJwcm9kdWN0UXR5IiwiYWxlcnQiLCJwYXJ0VHlwZSIsImlubmVyVGV4dCIsInBhcnROdW1iZXIiLCJpbmNsdWRlcyIsImFkZEl0ZW0iLCJjb250YWluZXIiLCJjbGFzc2VzIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY29va2llIiwibWFpbnRlbmFuY2VLaXRDb250YWluZXIiLCJvbmxvYWQiLCJvZmZzZXRUb3AiLCJiYXNlRm9udFNpemUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZm9udFNpemUiLCJwYXJzZUludCIsInNwbGl0Iiwic2Nyb2xsWSIsIlN0cmluZyIsInNlYXJjaCIsInN0YXJ0IiwiRWxlbWVudCIsIkNoYXJhY3RlckRhdGEiLCJEb2N1bWVudFR5cGUiLCJmb3JFYWNoIiwiaXRlbSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiQXJyYXkiLCJzZWFyY2hFbGVtZW50IiwiZnJvbUluZGV4IiwiVHlwZUVycm9yIiwibGVuIiwieCIsInkiLCJrIiwiTWF0aCIsIm1heCIsImFicyIsImlzTmFOIiwiY29tbWVudHNDb250YWluZXIiLCJjb21tZW50c1JlcGx5IiwiYnV0dG9uIiwiaWQiLCJ2aXNpYmlsaXR5IiwibWF4SGVpZ2h0IiwicGFkZGluZyIsIm1hcmdpblRvcCIsIm9wYWNpdHkiLCJsb2FkUG9zdHMiLCJvZmZzZXQiLCJwb3N0Q291bnQiLCJwb3N0TGlzdGluZyIsInVybCIsInRoZW4iLCJwb3N0T2JqIiwiZGF0ZSIsImF1dGhvciIsImNhdGVnb3J5IiwiY2F0ZWdvcmllcyIsInRpdGxlIiwicmVuZGVyZWQiLCJ0YWdzIiwibGluayIsImRlc2NyaXB0aW9uIiwiZXhjZXJwdCIsInNsaWNlIiwidGV4dENvbnRlbnQiLCJkaXNhYmxlZCIsInBvc3RUaW1lIiwicG9zdFByZXR0eVRpbWUiLCJEYXRlIiwidG9EYXRlU3RyaW5nIiwicG9zdFRpdGxlIiwicG9zdENhdGVnb3J5IiwicG9zdExpbmsiLCJwb3N0RGVzY3JpcHRpb24iLCJjYXJkIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhY2NvcmRpYW5CdXR0b25zIiwiZ2V0UHJvcGVydHlWYWx1ZSIsIm5hdiIsIm5hdk9mZnNldCIsIm5hdldpZHRoIiwiY2xpZW50V2lkdGgiLCJtYXhXaWR0aCJdLCJtYXBwaW5ncyI6IkNBQ0EsU0FBQUEsRUFBQUMsR0FBQSxtQkFBQUMsUUFBQUEsT0FBQUMsSUFBQUQsT0FBQSxHQUFBLFdBQUEsT0FBQUQsRUFBQUQsS0FBQSxpQkFBQUksUUFBQUMsT0FBQUQsUUFBQUgsRUFBQUQsR0FBQU0sT0FBQUMsT0FBQU4sRUFBQUQsR0FBQSxDQUFBLG9CQUFBUSxPQUFBQSxPQUFBLG9CQUFBRixPQUFBQSxPQUFBRyxLQUFBLFNBQUFULEdBQUEsYUFBQSxJQUFBQyxFQUFBUyxFQUFBLENBQUFDLE9BQUEsTUFBQUMsU0FBQSxLQUFBQyxTQUFBLEtBQUFDLEtB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QUE2QixJQUNBa0osRUFBQWxKLEdBQUF3QixjQUFBVCxVQUFBQyxJQUFBLDJCQUNBa0ksRUFBQWxKLEdBQUFNLGlCQUFBLFFBQUEsU0FBQXhELEdBQ0FBLEVBQUFxRSxPQUFBSyxjQUNBVCxVQUFBTyxTQUFBLDJCQUNBeEUsRUFBQXFFLE9BQUFLLGNBQUFULFVBQUFRLE9BQUEsMkJBRUF6RSxFQUFBcUUsT0FBQUssY0FBQVQsVUFBQUMsSUFBQSw2QkFYQSxHQ0FBLFdBRUEsSUFBQXdELEVBQUFHLFNBQUF4SCxPQUFBc0gsaUJBQUFyRSxTQUFBQyxjQUFBLFNBQUE4SSxpQkFBQSxjQUVBQyxFQUFBaEosU0FBQUMsY0FBQSxjQUNBd0UsRUFBQTFILE9BQUEwSCxRQUNBd0UsRUFBQUQsRUFBQTdFLFVBQ0ErRSxFQUFBRixFQUFBRyxZQUVBcE0sT0FBQW1ELGlCQUFBLFNBQUEsV0FDQStJLEVBQUFELEVBQUE3RSxVQUNBeUUsUUFBQUMsSUFBQUksS0FHQWpKLFNBQUFFLGlCQUFBLFNBQUEsV0FDQXVFLEVBQUExSCxPQUFBMEgsUUFDQXdFLEVBQUEsRUFBQTdFLEVBQUFLLEdBR0F1RSxFQUFBckksVUFBQUMsSUFBQSxrQkFDQW9JLEVBQUExSSxNQUFBOEksU0FBQUYsRUFBQSxNQUVBRixFQUFBckksVUFBQVEsT0FBQSxvQkF0QkEiLCJmaWxlIjoiZ2xvYmFsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIGF0b21pYyB2NC4yLjEgfCAoYykgMjAxOCBDaHJpcyBGZXJkaW5hbmRpIHwgTUlUIExpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vY2ZlcmRpbmFuZGkvYXRvbWljICovXG4hKGZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSwoZnVuY3Rpb24oKXtyZXR1cm4gZSh0KX0pKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHQpOndpbmRvdy5hdG9taWM9ZSh0KX0pKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlLG49e21ldGhvZDpcIkdFVFwiLHVzZXJuYW1lOm51bGwscGFzc3dvcmQ6bnVsbCxkYXRhOnt9LGhlYWRlcnM6e1wiQ29udGVudC10eXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn0scmVzcG9uc2VUeXBlOlwidGV4dFwiLHRpbWVvdXQ6bnVsbCx3aXRoQ3JlZGVudGlhbHM6ITF9LG89ZnVuY3Rpb24oKXtyZXR1cm5cIlhNTEh0dHBSZXF1ZXN0XCJpbiB0JiZcIkpTT05cImluIHQmJlwiUHJvbWlzZVwiaW4gdH0scj1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdOyEoZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKFwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZVtuXSk/dFtuXT1yKHRbbl0sZVtuXSk6dFtuXT1lW25dKX0pKG4pfXJldHVybiB0fSxzPWZ1bmN0aW9uKHQpe3ZhciBuO2lmKFwidGV4dFwiIT09ZS5yZXNwb25zZVR5cGUmJlwiXCIhPT1lLnJlc3BvbnNlVHlwZSlyZXR1cm57ZGF0YTp0LnJlc3BvbnNlLHhocjp0fTt0cnl7bj1KU09OLnBhcnNlKHQucmVzcG9uc2VUZXh0KX1jYXRjaChlKXtuPXQucmVzcG9uc2VUZXh0fXJldHVybntkYXRhOm4seGhyOnR9fSxpPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcIltvYmplY3QgRm9ybURhdGFdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIHQ7aWYoL2FwcGxpY2F0aW9uXFwvanNvbi9pLnRlc3QoZS5oZWFkZXJzW1wiQ29udGVudC10eXBlXCJdKXx8XCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBKU09OLnN0cmluZ2lmeSh0KTt2YXIgbj1bXTtmb3IodmFyIG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiZuLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KG8pK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0W29dKSk7cmV0dXJuIG4uam9pbihcIiZcIil9LGE9ZnVuY3Rpb24odCl7dmFyIG49bmV3IFhNTEh0dHBSZXF1ZXN0LG89bmV3IFByb21pc2UoZnVuY3Rpb24obyxyKXtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1uLnJlYWR5U3RhdGUmJihuLnN0YXR1cz49MjAwJiZuLnN0YXR1czwzMDA/byhzKG4pKTpyKHtzdGF0dXM6bi5zdGF0dXMsc3RhdHVzVGV4dDpuLnN0YXR1c1RleHR9KSl9LG4ub3BlbihlLm1ldGhvZCx0LCEwLGUudXNlcm5hbWUsZS5wYXNzd29yZCksbi5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGU7Zm9yKHZhciBhIGluIGUuaGVhZGVycyllLmhlYWRlcnMuaGFzT3duUHJvcGVydHkoYSkmJm4uc2V0UmVxdWVzdEhlYWRlcihhLGUuaGVhZGVyc1thXSk7ZS50aW1lb3V0JiYobi50aW1lb3V0PWUudGltZW91dCxuLm9udGltZW91dD1mdW5jdGlvbih0KXtyKHtzdGF0dXM6NDA4LHN0YXR1c1RleHQ6XCJSZXF1ZXN0IHRpbWVvdXRcIn0pfSksZS53aXRoQ3JlZGVudGlhbHMmJihuLndpdGhDcmVkZW50aWFscz0hMCksbi5zZW5kKGkoZS5kYXRhKSl9KTtyZXR1cm4gby5jYW5jZWw9ZnVuY3Rpb24oKXtuLmFib3J0KCl9LG99O3JldHVybiBmdW5jdGlvbih0LHMpe2lmKCFvKCkpdGhyb3dcIkF0b21pYzogVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIG1ldGhvZHMgdXNlZCBpbiB0aGlzIHBsdWdpbi5cIjtyZXR1cm4gZT1yKG4sc3x8e30pLGEodCl9fSkpOyIsImlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDEwODApIHtcbiAgICAvLyAkKCcubWVudS1pdGVtLS10b3AtbGV2ZWwgLnN1Yi1tZW51LS1sZXZlbC1vbmUgPiBsaTpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCdhY3RpdmUnKS5maW5kKCcuc3ViLW1lbnUtLWxldmVsLXR3bycpLmFkZENsYXNzKCdhY2NvcmRpYW4tb3BlbicpO1xuICAgIC8vIGFsZXJ0KCd0YWQnKTtcbn1cblxuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24jaGFtYnVyZ2VyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gIHRvZ2dsZU1lbnUoKTtcbiAgdmFyIGhlYWRlckhlaWdudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaXRlLWhlYWRlcicpLm9mZnNldEhlaWdodDtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24tLWxldmVsLXplcm8nKS5zdHlsZS50b3AgPSBoZWFkZXJIZWlnbnQgKyAncHgnO1xufSk7XG5cbnZhciBoZWFkZXJUb3BCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmlnYXRpb24tLWJ1dHRvbicpO1xudmFyIG5hdkxldmVsT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmlnYXRpb24tLWxldmVsLW9uZScpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IG5hdkxldmVsT25lLmxlbmd0aDsgaSsrKSB7XG4gIG5hdkxldmVsT25lW2ldLnF1ZXJ5U2VsZWN0b3IoJ2xpOmZpcnN0LWNoaWxkIGEnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbn1cblxuZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJUb3BCdXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gIGhlYWRlclRvcEJ1dHRvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgIHZhciBjaGlsZE1lbnUgPSBzZWxmLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lJyk7XG4gICAgaWYgKGNoaWxkTWVudS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICBjaGlsZE1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBzZWxmLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgc2VsZi5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBzZWxmLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKHNlbGYucGFyZW50RWxlbWVudCk7XG4gICAgLy8gc2VsZi5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH0pO1xufVxuXG52YXIgYWxsTGV2ZWxPbmVMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUgPiBsaSA+IGEnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxMZXZlbE9uZUxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gIGFsbExldmVsT25lTGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUgPiBsaSA+IGEnKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmtzLmxlbmd0aDsgaisrKSB7XG4gICAgICBsaW5rc1tqXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gICAgLy8gaWYgKGFsbExldmVsT25lTGlua3MuY2xhc3NMaXN0LmNvbnRhaW5zKCcnKSkge31cbiAgICAvLyBhbGxMZXZlbE9uZUxpbmtzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUgPiBsaSA+IGEnKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVNZW51KCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS1vcGVuJyk7XG4gICAgdmFyIG1lbnVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGFtYnVyZ2VyJyk7XG4gICAgbWVudUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbn0iLCIoZnVuY3Rpb24oKSB7XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1pdGVtJykpIHtcbiAgICB2YXIgYWxlcnRDYXJ0SXRlbVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LWl0ZW0nKS5pbm5lckhUTUw7XG4gIH1cbiAgdmFyIGFkZGVkUHJvZHVjdHMgPSBbXTtcblxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LWxpc3QnKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1saXN0JykuaW5uZXJIVE1MID0gJyc7XG4gIH1cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgTUlOSVpFUyBBTEVSVCBPTiBQQUdFIExPQUQgSUYgQ09PS0lFIFBSRVNFTlRcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIC8vIGlmIChkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAvLyAgIHJldHVybiBpdGVtLmluZGV4T2YoJ2NhcnRVUkw9JykgPj0gMFxuICAvLyB9KS5sZW5ndGgpIHtcbiAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWFkZC10by1jYXJ0JykuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLW1pbmltaXplZCcpO1xuICAvLyB9XG5cbiAgXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIENIQU5HRSBQQUdFIFdIRU4gU0VMRUNURUQgTU9ERUwgTU9ESUZJRVJcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgdmFyIG1vZGVsTW9kaWZlclNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RlbE1vZGlmaWVycycpO1xuICB2YXIgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluX2NvbnRlbnQnKTtcblxuICBpZiAobW9kZWxNb2RpZmVyU2VsZWN0KSB7XG4gICAgbW9kZWxNb2RpZmVyU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBsb2MgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvJyArIGxvYztcbiAgICB9KTtcbiAgfVxuXG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBTSE9XIFBST0RVQ1QgSU1BR0UgT04gSE9WRVJcbiAgQG5vdGUgPSBPbmx5IHJ1bnMgb24gc2NyZWVuIGxhcmdlciB0aGFuIDEwODBweFxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIHZhciBhbGxSb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGFibGUgdHInKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbFJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICBhbGxSb3dzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoKHdpbmRvdy5pbm5lcldpZHRoIDwgMTA4MCkgfHwgKGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJykuZGF0YXNldC5wcm9kdWN0U29sZCA9PT0gJ2ZhbHNlJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1nRXhpc3RzID0gZS50YXJnZXQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQgLnByb2R1Y3QtaW1hZ2UtY29udGFpbmVyJyk7XG4gICAgICBpZiAoaW1nRXhpc3RzKSB7XG4gICAgICAgIGltZ0V4aXN0cy5jbGFzc0xpc3QucmVtb3ZlKCdwcm9kdWN0LWltYWdlLS1pcy1oaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1nUGF0aCA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJykuZGF0YXNldC5wcm9kdWN0SW1hZ2U7XG4gICAgICB2YXIgcHJvZEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgcHJvZEltZy5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlJyk7XG4gICAgICBcbiAgICAgIGlmICh0eXBlb2YgaW1nUGF0aCA9PT0gJ3VuZGVmaW5lZCcpIHsgXG4gICAgICAgIHByb2RJbWcuc3JjID0gJ2h0dHBzOi8vY2RuMy52b2x1c2lvbi5jb20veXhoZmUuZGZxZXcvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1hZ2VzL25vcGhvdG8uZ2lmJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2RJbWcuc3JjID0gaW1nUGF0aDtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb2RJbWdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2RJbWdDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1pbWFnZS1jb250YWluZXInKTtcbiAgICAgIHByb2RJbWdDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZEltZyk7XG4gICAgICBcbiAgICAgIHZhciB0YWJsZUNlbGwgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCd0ZDpmaXJzdC1jaGlsZCcpLmFwcGVuZENoaWxkKHByb2RJbWdDb250YWluZXIpO1xuICAgICAgXG4gICAgfSk7XG5cbiAgICBhbGxSb3dzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCd0ZDpmaXJzdC1jaGlsZCAucHJvZHVjdC1pbWFnZS1jb250YWluZXInKS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlLS1pcy1oaWRkZW4nKTtcbiAgICB9KTtcbiAgfVxuXG5cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gIEFERElORyBQUk9EVUNUIFRPIENBUlRcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgIFxuICAgIGlmIChzZWxmLmNsYXNzTGlzdC5jb250YWlucygnYWRkLXRvLWNhcnQnKSkge1xuXG4gICAgICB2YXIgYWxlcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWFkZC10by1jYXJ0Jyk7XG4gICAgICB2YXIgcGFydFR5cGUgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQnKS5pbm5lclRleHQ7XG4gICAgICB2YXIgcGFydE51bWJlciA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCd0ZDpudGgtY2hpbGQoMiknKS5pbm5lclRleHQ7XG5cbiAgICAgIGlmIChhZGRlZFByb2R1Y3RzLmluY2x1ZGVzKHBhcnROdW1iZXIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYWRkZWRQcm9kdWN0cy5wdXNoKHBhcnROdW1iZXIpO1xuXG4gICAgICB2YXIgYWRkSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdsaScgKTtcbiAgICAgIGFkZEl0ZW0uY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWNhcnQtaXRlbScpO1xuICAgICAgYWRkSXRlbS5kYXRhc2V0LnByb2R1Y3Rjb2RlID0gcGFydE51bWJlcjtcbiAgICAgIGFkZEl0ZW0uaW5uZXJIVE1MID0gYWxlcnRDYXJ0SXRlbVRlbXBsYXRlO1xuXG4gICAgICBhZGRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1wYXJ0LW51bWJlcicpLmlubmVyVGV4dCA9IHBhcnROdW1iZXI7XG4gICAgICBhZGRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1wYXJ0LXR5cGUnKS5pbm5lclRleHQgPSBwYXJ0VHlwZTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LWxpc3QnKS5hcHBlbmRDaGlsZChhZGRJdGVtKTtcbiAgICAgIFxuXG4gICAgICBhbGVydC5jbGFzc0xpc3QuYWRkKCdhbGVydC0taXMtYWN0aXZlJyk7XG5cbiAgICAgIGlmIChhbGVydC5jbGFzc0xpc3QuY29udGFpbnMoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKSkge1xuICAgICAgICBhbGVydC5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC0taXMtbWluaW1pemVkJylcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgVE9HR0xFIENBUlQgQUxFUlRcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlQWxlcnQnKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbG9zZUFsZXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgICAgdmFyIGNvbnRhaW5lciA9IHNlbGYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgdmFyIGNsYXNzZXMgPSBjb250YWluZXIuY2xhc3NMaXN0LnRvU3RyaW5nKCk7XG5cbiAgICAgIGlmIChjbGFzc2VzLmluY2x1ZGVzKCdhbGVydC0taXMtbWluaW1pemVkJykgJiYgY2xhc3Nlcy5pbmNsdWRlcygnYWxlcnQtLWlzLWFjdGl2ZScpKSB7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC0taXMtbWluaW1pemVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLW1pbmltaXplZCcpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLWFjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFJFTU9WRSBJVEVNIEZST00gQ0FSVFxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgaWYgKHNlbGYuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbGVydC0tcmVtb3ZlLWl0ZW0nKSkge1xuICAgICAgdmFyIHByb2R1Y3RDb2RlID0gc2VsZi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZGF0YXNldC5wcm9kdWN0Y29kZTtcbiAgICAgIHZhciBpbmRleCA9IGFkZGVkUHJvZHVjdHMuaW5kZXhPZihwcm9kdWN0Q29kZSk7XG4gICAgICBhZGRlZFByb2R1Y3RzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBzZWxmLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTsgXG4gICAgfVxuICB9KTtcblxuXG5cbiAgZnVuY3Rpb24gYnVpbGRDYXJ0U3RyaW5nKCkge1xuICAgIHZhciBpbml0VVJMID0gJ2h0dHBzOi8vd3d3LmdyZWVuZmFybXBhcnRzLmNvbS9zaG9wcGluZ2NhcnQuYXNwPyc7XG4gICAgdmFyIGFsbEFkZGVkUHJvZHVjdHMgPSBbXTtcbiAgICB2YXIgYWxsQWRkZWRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbGVydC0tY2FydC1pdGVtJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEFkZGVkSXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwcm9kdWN0Q29kZSA9IGFsbEFkZGVkSXRlbXNbaV0uZGF0YXNldC5wcm9kdWN0Y29kZTtcbiAgICAgIHZhciBwcm9kdWN0UXR5ID0gYWxsQWRkZWRJdGVtc1tpXS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwicHJvZHVjdF9xdWFudGl0eVwiXScpLnZhbHVlO1xuICAgICAgYWxsQWRkZWRQcm9kdWN0cy5wdXNoKHtcbiAgICAgICAgcHJvZHVjdENvZGU6IHByb2R1Y3RDb2RlLFxuICAgICAgICBwcm9kdWN0UXR5OiBwcm9kdWN0UXR5XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEFkZGVkUHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpIDwgMSkge1xuICAgICAgICBpbml0VVJMID0gaW5pdFVSTCArICdwcm9kdWN0Y29kZT0nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0Q29kZSArICcmUVRZLicgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RDb2RlICsgJz0nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0UXR5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdFVSTCA9IGluaXRVUkwgKyAnJnByb2R1Y3Rjb2RlPScgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RDb2RlICsgJyZRVFkuJyArIGFsbEFkZGVkUHJvZHVjdHNbaV0ucHJvZHVjdENvZGUgKyAnPScgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RRdHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXRVUkw7XG4gIH1cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgQ0hFQ0tPVVQgLSBTZW5kIHByb2R1Y3RzIHRvIFZvbHVzaW9uXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1Ym1pdENoZWNrb3V0JykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VibWl0Q2hlY2tvdXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIGNhcnQgdXJsIHRlbXBsYXRlOiBodHRwczovL3d3dy5ncmVlbmZhcm1wYXJ0cy5jb20vc2hvcHBpbmdjYXJ0LmFzcD9wcm9kdWN0Y29kZT1qZHpnOTAwJlFUWS5qZHpnOTAwPTVcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYnVpbGRDYXJ0U3RyaW5nKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBTQVZFIEZPUiBMQVRFUiAtIFNlbmQgcHJvZHVjdHMgdG8gVm9sdXNpb24gYW5kIGNvb2tpZVxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmVGb3JMYXRlcicpKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmVGb3JMYXRlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZG9jdW1lbnQuY29va2llID0gJ2NhcnRVUkw9JyArIGJ1aWxkQ2FydFN0cmluZygpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1hZGQtdG8tY2FydCcpLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFNUSUNLWSBNQUlOVEVOQU5DRSBLSVQgQlVZIE5PV1xuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cblxuICB2YXIgbWFpbnRlbmFuY2VLaXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbnRlbmFuY2Uta2l0LWNvbnRhaW5lcicpO1xuICBpZiAobWFpbnRlbmFuY2VLaXRDb250YWluZXIgJiYgd2luZG93LmlubmVyV2lkdGggPiAxMDgwKSB7XG4gICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9mZnNldFRvcCA9IG1haW50ZW5hbmNlS2l0Q29udGFpbmVyLm9mZnNldFRvcDtcbiAgICAgIHZhciBiYXNlRm9udFNpemUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5LCBudWxsKS5mb250U2l6ZTtcbiAgICAgIGJhc2VGb250U2l6ZSA9IHBhcnNlSW50KGJhc2VGb250U2l6ZS5zcGxpdCgncHgnKVswXSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh3aW5kb3cuc2Nyb2xsWSA+IChvZmZzZXRUb3AgLSAoYmFzZUZvbnRTaXplICogMykpKSB7XG4gICAgICAgICAgbWFpbnRlbmFuY2VLaXRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFpbnRlbmFuY2Uta2l0LWNvbnRhaW5lci0taXMtZml4ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93LnNjcm9sbFkgPCAob2Zmc2V0VG9wIC0gKGJhc2VGb250U2l6ZSAqIDMpKSkge1xuICAgICAgICAgIG1haW50ZW5hbmNlS2l0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21haW50ZW5hbmNlLWtpdC1jb250YWluZXItLWlzLWZpeGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICB9XG5cblxufSkoKTtcblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblBPTFlGSUxMIEZPUiBzdHIuaW5jbHVkZXMoKVxuQExJTksgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL2luY2x1ZGVzXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcykge1xuICBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24oc2VhcmNoLCBzdGFydCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBpZiAodHlwZW9mIHN0YXJ0ICE9PSAnbnVtYmVyJykge1xuICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc3RhcnQgKyBzZWFyY2gubGVuZ3RoID4gdGhpcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzZWFyY2gsIHN0YXJ0KSAhPT0gLTE7XG4gICAgfVxuICB9O1xufVxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblBPTFlGSUxMIEZPUiBub2RlLnJlbW92ZSgpXG5ATElOSyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2hpbGROb2RlL3JlbW92ZVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuKGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgncmVtb3ZlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0ZW0sICdyZW1vdmUnLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlICE9PSBudWxsKVxuICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KShbRWxlbWVudC5wcm90b3R5cGUsIENoYXJhY3RlckRhdGEucHJvdG90eXBlLCBEb2N1bWVudFR5cGUucHJvdG90eXBlXSk7XG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5QT0xZRklMTCBGT1IgYXJyYXkuaW5jbHVkZXNcbkBMSU5LIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luY2x1ZGVzXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAoIUFycmF5LnByb3RvdHlwZS5pbmNsdWRlcykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnaW5jbHVkZXMnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uKHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCkge1xuXG4gICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gMS4gTGV0IE8gYmUgPyBUb09iamVjdCh0aGlzIHZhbHVlKS5cbiAgICAgIHZhciBvID0gT2JqZWN0KHRoaXMpO1xuXG4gICAgICAvLyAyLiBMZXQgbGVuIGJlID8gVG9MZW5ndGgoPyBHZXQoTywgXCJsZW5ndGhcIikpLlxuICAgICAgdmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1xuXG4gICAgICAvLyAzLiBJZiBsZW4gaXMgMCwgcmV0dXJuIGZhbHNlLlxuICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIExldCBuIGJlID8gVG9JbnRlZ2VyKGZyb21JbmRleCkuXG4gICAgICAvLyAgICAoSWYgZnJvbUluZGV4IGlzIHVuZGVmaW5lZCwgdGhpcyBzdGVwIHByb2R1Y2VzIHRoZSB2YWx1ZSAwLilcbiAgICAgIHZhciBuID0gZnJvbUluZGV4IHwgMDtcblxuICAgICAgLy8gNS4gSWYgbiDiiaUgMCwgdGhlblxuICAgICAgLy8gIGEuIExldCBrIGJlIG4uXG4gICAgICAvLyA2LiBFbHNlIG4gPCAwLFxuICAgICAgLy8gIGEuIExldCBrIGJlIGxlbiArIG4uXG4gICAgICAvLyAgYi4gSWYgayA8IDAsIGxldCBrIGJlIDAuXG4gICAgICB2YXIgayA9IE1hdGgubWF4KG4gPj0gMCA/IG4gOiBsZW4gLSBNYXRoLmFicyhuKSwgMCk7XG5cbiAgICAgIGZ1bmN0aW9uIHNhbWVWYWx1ZVplcm8oeCwgeSkge1xuICAgICAgICByZXR1cm4geCA9PT0geSB8fCAodHlwZW9mIHggPT09ICdudW1iZXInICYmIHR5cGVvZiB5ID09PSAnbnVtYmVyJyAmJiBpc05hTih4KSAmJiBpc05hTih5KSk7XG4gICAgICB9XG5cbiAgICAgIC8vIDcuIFJlcGVhdCwgd2hpbGUgayA8IGxlblxuICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAgLy8gYS4gTGV0IGVsZW1lbnRLIGJlIHRoZSByZXN1bHQgb2YgPyBHZXQoTywgISBUb1N0cmluZyhrKSkuXG4gICAgICAgIC8vIGIuIElmIFNhbWVWYWx1ZVplcm8oc2VhcmNoRWxlbWVudCwgZWxlbWVudEspIGlzIHRydWUsIHJldHVybiB0cnVlLlxuICAgICAgICBpZiAoc2FtZVZhbHVlWmVybyhvW2tdLCBzZWFyY2hFbGVtZW50KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGMuIEluY3JlYXNlIGsgYnkgMS4gXG4gICAgICAgIGsrKztcbiAgICAgIH1cblxuICAgICAgLy8gOC4gUmV0dXJuIGZhbHNlXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn0iLCIoZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGNvbW1lbnRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpbmdsZS1jb21tZW50cycpO1xuICB2YXIgY29tbWVudHNSZXBseSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXNwb25kJyk7XG4gIHZhciBjb21tZW50Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb21tZW50Zm9ybScpO1xuXG5cbiAgaWYgKGNvbW1lbnRzUmVwbHkpIHtcbiAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBidXR0b24uaW5uZXJIVE1MID0gJ0FkZCBDb21tZW50JztcbiAgICBidXR0b24uaWQgPSAnYWRkQ29tbWVudCc7XG5cbiAgICBjb21tZW50c1JlcGx5LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBjb21tZW50c1JlcGx5LnN0eWxlLm1heEhlaWdodCA9ICcwcHgnO1xuICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUucGFkZGluZyA9ICcwcHgnO1xuICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUubWFyZ2luVG9wID0gJzBweCc7XG5cbiAgICBjb21tZW50c0NvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZENvbW1lbnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgICBzZWxmLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICBjb21tZW50c1JlcGx5LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICBjb21tZW50c1JlcGx5LnN0eWxlLm1heEhlaWdodCA9ICcxMDAwcHgnO1xuICAgICAgY29tbWVudHNSZXBseS5zdHlsZS5wYWRkaW5nID0gJzFyZW0nO1xuICAgICAgY29tbWVudHNSZXBseS5zdHlsZS5tYXJnaW5Ub3AgPSAnM3JlbSc7XG4gICAgfSlcblxuICB9XG5cblxufSkoKTsiLCJ2YXIgbG9hZFBvc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvYWRNb3JlUG9zdHMnKTtcblxuaWYgKGxvYWRQb3N0cykge1xuICAgIHZhciBvZmZzZXQgPSAxO1xuICAgIHZhciBwb3N0Q291bnQgPSAxMDtcbiAgICB2YXIgcG9zdExpc3RpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9zdC1saXN0aW5nLS1saXN0Jyk7XG5cbiAgICBsb2FkUG9zdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy93cC1qc29uL3dwL3YyL3Bvc3RzP29mZnNldD0nICsgKG9mZnNldCAqIHBvc3RDb3VudCk7XG4gICAgICAgIFxuICAgICAgICBhdG9taWModXJsKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHBvc3RPYmogPSBbXTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgcG9zdE9iai5wdXNoKHtcbiAgICAgICAgICAgICAgICBkYXRlOiBkYXRhW2ldLmRhdGUsXG4gICAgICAgICAgICAgICAgYXV0aG9yOiBkYXRhW2ldLmF1dGhvcixcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogZGF0YVtpXS5jYXRlZ29yaWVzWzBdLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhW2ldLnRpdGxlLnJlbmRlcmVkLFxuICAgICAgICAgICAgICAgIHRhZ3M6IGRhdGFbaV0udGFncyxcbiAgICAgICAgICAgICAgICBsaW5rOiBkYXRhW2ldLmxpbmssXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGFbaV0uZXhjZXJwdC5yZW5kZXJlZC5zbGljZSgzLCAtNSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPCAxMCkge1xuICAgICAgICAgICAgICBsb2FkUG9zdHMudGV4dENvbnRlbnQgPSAnQWxsIFBvc3RzIExvYWRlZCc7XG4gICAgICAgICAgICAgIGxvYWRQb3N0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGxvYWRQb3N0cy5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcG9zdE9iajtcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zdE9iaikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3N0T2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIC8vIGFzc2lnbiBhbGwgZGF0YVxuICAgICAgICAgICAgICB2YXIgcG9zdFRpbWUgPSBwb3N0T2JqW2ldLmRhdGU7XG4gICAgICAgICAgICAgIHZhciBwb3N0UHJldHR5VGltZSA9IG5ldyBEYXRlKHBvc3RUaW1lKTtcbiAgICAgICAgICAgICAgICAgIHBvc3RQcmV0dHlUaW1lID0gcG9zdFByZXR0eVRpbWUudG9EYXRlU3RyaW5nKCkuc2xpY2UoMyk7XG4gICAgICAgICAgICAgIHZhciBwb3N0VGl0bGUgPSBwb3N0T2JqW2ldLnRpdGxlO1xuICAgICAgICAgICAgICB2YXIgcG9zdENhdGVnb3J5ID0gJ1VuY2F0ZWdvcml6ZWQnO1xuICAgICAgICAgICAgICB2YXIgcG9zdExpbmsgPSBwb3N0T2JqW2ldLmxpbms7XG4gICAgICAgICAgICAgIHZhciBwb3N0RGVzY3JpcHRpb24gPSBwb3N0T2JqW2ldLmRlc2NyaXB0aW9uO1xuXG4gICAgICAgICAgICAgIHN3aXRjaChwb3N0T2JqW2ldLmNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICAgIHBvc3RDYXRlZ29yeSA9ICdNYWludGVuYW5jZSBSZW1pbmRlcic7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICBwb3N0Q2F0ZWdvcnkgPSAnVGFsayBXaXRoIEEgVGVjaCc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBjYXJkXG4gICAgICAgICAgICAgIHZhciBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZCcpO1xuICAgICAgICAgICAgICBjYXJkLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiY2FyZC1tZXRhXCI+PC9kaXY+PGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPicgKyBwb3N0VGl0bGUgKyAnPC9kaXY+JztcbiAgICAgICAgICAgICAgY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1tZXRhJykuaW5uZXJIVE1MID0gJzx0aW1lIGRhdGV0aW1lPVwiJyArIHBvc3RUaW1lICsgJ1wiPicgKyBwb3N0UHJldHR5VGltZSArICc8L3RpbWU+PHA+PHNtYWxsPkJ5OiA8YSBocmVmPVwiIzBcIj5EYW5pZWw8L2E+PC9zbWFsbD48L3A+JztcbiAgICAgICAgICAgICAgY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1jb250ZW50JykuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwiY2FyZC1jYXRlZ29yeVwiPjxhIGhyZWY9XCIvP2NhdD0nICsgcG9zdE9ialtpXS5wb3N0Q2F0ZWdvcnkgKyAnXCI+JyArIHBvc3RDYXRlZ29yeSArICc8L2E+PC9wPjxoNCBjbGFzcz1cImNhcmQtdGl0bGVcIj48YSBocmVmPVwiJyArIHBvc3RMaW5rICsgJ1wiPicgKyBwb3N0VGl0bGUgKyAnPC9hPjwvaDQ+PHAgY2xhc3M9XCJjYXJkLWRlc2NyaXB0aW9uXCI+JyArIHBvc3REZXNjcmlwdGlvbiArICc8L3A+PHVsIGNsYXNzPVwic2luZ2xlLXRhZ3MtLWxpc3RcIj48L3VsPic7XG5cbiAgICAgICAgICAgICAgLy8gYWRkIHRoZSBjYXJkIHRvIHJlc3VsdHNcbiAgICAgICAgICAgICAgcG9zdExpc3RpbmcuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyAudGhlbihmdW5jdGlvbihwb3N0T2JqKSB7XG4gICAgICAgICAgLy8gICBpZiAocG9zdE9iaiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyAgICAgdmFyIGluY2x1ZGVkQ2F0cyA9IFtdO1xuXG4gICAgICAgICAgLy8gICAgIHBvc3RPYmouZm9yRWFjaChmdW5jdGlvbihwb3N0KSB7XG4gICAgICAgICAgLy8gICAgICAgaW5jbHVkZWRDYXRzLnB1c2gocG9zdC5wb3N0Q2F0ZWdvcnkpO1xuICAgICAgICAgIC8vICAgICB9KTtcblxuICAgICAgICAgIC8vICAgICBmdW5jdGlvbiByZW1vdmVEdXBzKGNhdHMpIHtcbiAgICAgICAgICAvLyAgICAgICB2YXIgdW5pcXVlID0ge307XG4gICAgICAgICAgLy8gICAgICAgY2F0cy5mb3JFYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAvLyAgICAgICAgIGlmKCF1bmlxdWVbaV0pIHtcbiAgICAgICAgICAvLyAgICAgICAgICAgdW5pcXVlW2ldID0gdHJ1ZTtcbiAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAvLyAgICAgICB9KTtcbiAgICAgICAgICAvLyAgICAgICByZXR1cm4gT2JqZWN0LmtleXModW5pcXVlKTtcbiAgICAgICAgICAvLyAgICAgfVxuXG4gICAgICAgICAgLy8gICAgIHZhciBjbGVhbkNhdHMgPSBbXTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgLy8gICAgIGF0b21pYygnL3dwLWpzb24vd3AvdjIvY2F0ZWdvcmllcy8/aW5jbHVkZT0nICsgcmVtb3ZlRHVwcyhpbmNsdWRlZENhdHMpKVxuICAgICAgICAgIC8vICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG5cbiAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgLy8gICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyAgICAgICAgIC8vICAgY2xlYW5DYXRzLnB1c2goZGF0YS5uYW1lKVxuICAgICAgICAgIC8vICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgLy8gICAgICAgfSlcblxuICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhjbGVhbkNhdHMpO1xuICAgICAgICAgIC8vICAgfVxuICAgICAgICAgIC8vIH0pXG4gICAgICAgICAgXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIG9mZnNldCsrO1xuICAgIH0pO1xufVxuXG5cbi8vIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuLy8gICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspIHtcbi8vICAgICAvLyBhc3NpZ24gYWxsIGRhdGFcbi8vICAgICB2YXIgcG9zdFRpbWUgPSByZXNwb25zZS5kYXRhW2ldLmRhdGU7XG4vLyAgICAgdmFyIHBvc3RUaXRsZSA9IHJlc3BvbnNlLmRhdGFbaV0udGl0bGUucmVuZGVyZWQ7XG4vLyAgICAgdmFyIHBvc3REZXNjcmlwdGlvbiA9IHJlc3BvbnNlLmRhdGFbaV0uZXhjZXJwdC5yZW5kZXJlZDtcbi8vICAgICBwb3N0RGVzY3JpcHRpb24gPSBwb3N0RGVzY3JpcHRpb24uc3BsaXQoJzxwPicpWzFdLnNwbGl0KCc8L3A+JylbMF07XG4vLyAgICAgdmFyIHBvc3RDYXRlZ29yeSA9IHJlc3BvbnNlLmRhdGFbaV0uY2F0ZWdvcmllc1swXTtcbi8vICAgICB2YXIgcHJpbWFyeUNhdGVnb3JpZXMgPSB7fTtcblxuLy8gICAgIGF0b21pYygnL3dwLWpzb24vd3AvdjIvY2F0ZWdvcmllcy8/aW5jbHVkZT0nICsgcG9zdENhdGVnb3J5KVxuLy8gICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlLCBwcmltYXJ5Q2F0ZWdvcmllcykge1xuICAgICAgICBcbi8vICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHBvc3QsIHByaW1hcnlDYXRlZ29yaWVzKSB7XG4vLyAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9zdC5uYW1lKTtcbi8vICAgICAgICAgICBwcmltYXJ5Q2F0ZWdvcmllcy5wdXNoKHBvc3QubmFtZSk7XG4vLyAgICAgICAgICAgY29uc29sZS5sb2cocHJpbWFyeUNhdGVnb3JpZXMpO1xuLy8gICAgICAgICB9KTtcblxuLy8gICAgICAgfSlcbi8vICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuLy8gICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4vLyAgICAgICB9KVxuXG4vLyAgICAgICBjb25zb2xlLmxvZyhwcmltYXJ5Q2F0ZWdvcmllcyk7XG4gICAgXG4vLyAgICAgLy8gY3JlYXRlIHRoZSBjYXJkXG4vLyAgICAgdmFyIGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbi8vICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQnKTtcbi8vICAgICBjYXJkLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiY2FyZC1tZXRhXCI+PC9kaXY+PGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPicgKyBwb3N0VGl0bGUgKyAnPC9kaXY+Jztcbi8vICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLW1ldGEnKS5pbm5lckhUTUwgPSAnPHRpbWUgZGF0ZXRpbWU9XCInICsgcG9zdFRpbWUgKyAnXCI+VHVlc2RheTwvdGltZT48cD48c21hbGw+Qnk6IDxhIGhyZWY9XCIjMFwiPkRhbmllbDwvYT48L3NtYWxsPjwvcD4nO1xuLy8gICAgIGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtY29udGVudCcpLmlubmVySFRNTCA9ICc8cCBjbGFzcz1cImNhcmQtY2F0ZWdvcnlcIj48YSBocmVmPVwiIzBcIj5hc2RmPC9hPjwvcD48aDQgY2xhc3M9XCJjYXJkLXRpdGxlXCI+PGEgaHJlZj1cIiMwXCI+JyArIHBvc3RUaXRsZSArICc8L2E+PC9oND48cCBjbGFzcz1cImNhcmQtZGVzY3JpcHRpb25cIj4nICsgcG9zdERlc2NyaXB0aW9uICsgJzwvcD48dWwgY2xhc3M9XCJzaW5nbGUtdGFncy0tbGlzdFwiPjwvdWw+JztcblxuLy8gICAgIC8vIGFkZCB0aGUgY2FyZCB0byByZXN1bHRzXG4vLyAgICAgcG9zdExpc3RpbmcuYXBwZW5kQ2hpbGQoY2FyZCk7XG4vLyAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YVtpXSk7XG4gICAgXG4vLyAgIH1cbiAgXG4gIFxuICBcblxuLy8gfSkiLCIoZnVuY3Rpb24oKSB7XG4gIHZhciBhY2NvcmRpYW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlhbi0tdGl0bGUnKTtcbiAgaWYgKGFjY29yZGlhbkJ1dHRvbnMpIHtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWNjb3JkaWFuQnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgYWNjb3JkaWFuQnV0dG9uc1tpXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlhbi0taXMtY29sbGFwc2VkJyk7XG4gICAgICBhY2NvcmRpYW5CdXR0b25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgY29udGFpbmluZ0VsZW1lbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAoY29udGFpbmluZ0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpYW4tLWlzLWNvbGxhcHNlZCcpKSB7XG4gICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvcmRpYW4tLWlzLWNvbGxhcHNlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWNjb3JkaWFuLS1pcy1jb2xsYXBzZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBiYXNlRm9udFNpemUgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykpLmdldFByb3BlcnR5VmFsdWUoJ2ZvbnQtc2l6ZScpKTtcblxuICB2YXIgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0aWNreU5hdicpO1xuICB2YXIgc2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xuICB2YXIgbmF2T2Zmc2V0ID0gbmF2Lm9mZnNldFRvcDtcbiAgdmFyIG5hdldpZHRoID0gbmF2LmNsaWVudFdpZHRoO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcbiAgICBuYXZPZmZzZXQgPSBuYXYub2Zmc2V0VG9wO1xuICAgIGNvbnNvbGUubG9nKG5hdk9mZnNldCk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuICAgIHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICB2YXIgbWFrZVN0aWNreSA9IHNjcm9sbFkgPiAobmF2T2Zmc2V0IC0gKGJhc2VGb250U2l6ZSAqIDMpKTtcblxuICAgIGlmIChtYWtlU3RpY2t5KSB7XG4gICAgICBuYXYuY2xhc3NMaXN0LmFkZCgnbmF2LS1pcy1zdGlja3knKTtcbiAgICAgIG5hdi5zdHlsZS5tYXhXaWR0aCA9IG5hdldpZHRoICsgJ3B4JztcbiAgICB9IGVsc2Uge1xuICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0taXMtc3RpY2t5Jyk7XG4gICAgfVxuXG5cbiAgfSk7XG5cbn0pKCk7ICJdfQ==
