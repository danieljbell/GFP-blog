!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):window.atomic=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(n){"use strict";var i,r={method:"GET",username:null,password:null,data:{},headers:{"Content-type":"application/x-www-form-urlencoded"},responseType:"text",timeout:null,withCredentials:!1},o=function(){for(var n={},e=0;e<arguments.length;e++){!function(e){for(var t in e)e.hasOwnProperty(t)&&("[object Object]"===Object.prototype.toString.call(e[t])?n[t]=o(n[t],e[t]):n[t]=e[t])}(arguments[e])}return n},a=function(r){var o=new XMLHttpRequest,e=new Promise(function(e,t){for(var n in o.onreadystatechange=function(){4===o.readyState&&(200<=o.status&&o.status<300?e(function(t){var n;if("text"!==i.responseType&&""!==i.responseType)return{data:t.response,xhr:t};try{n=JSON.parse(t.responseText)}catch(e){n=t.responseText}return{data:n,xhr:t}}(o)):t({status:o.status,statusText:o.statusText}))},o.open(i.method,r,!0,i.username,i.password),o.responseType=i.responseType,i.headers)i.headers.hasOwnProperty(n)&&o.setRequestHeader(n,i.headers[n]);i.timeout&&(o.timeout=i.timeout,o.ontimeout=function(e){t({status:408,statusText:"Request timeout"})}),i.withCredentials&&(o.withCredentials=!0),o.send(function(e){if("string"==typeof e||"[object FormData]"===Object.prototype.toString.call(e))return e;if(/application\/json/i.test(i.headers["Content-type"])||"[object Array]"===Object.prototype.toString.call(e))return JSON.stringify(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(i.data))});return e.cancel=function(){o.abort()},e};return function(e,t){if(!("XMLHttpRequest"in n&&"JSON"in n&&"Promise"in n))throw"Atomic: This browser does not support the methods used in this plugin.";return i=o(r,t||{}),a(e)}}),window.innerWidth,document.querySelector("button#hamburger").addEventListener("click",function(e){toggleMenu();var t=document.querySelector(".site-header").offsetHeight;document.querySelector(".navigation--level-zero").style.top=t+"px"});for(var headerTopButtons=document.querySelectorAll(".navigation--button"),navLevelOne=document.querySelectorAll(".navigation--level-one"),i=0;i<navLevelOne.length;i++)navLevelOne[i].querySelector("li:first-child a").classList.add("active");for(i=0;i<headerTopButtons.length;i++)headerTopButtons[i].addEventListener("click",function(e){e.preventDefault();var t=e.target,n=t.nextElementSibling.querySelector(".navigation--level-one");n.classList.contains("active")?(n.classList.remove("active"),t.nextElementSibling.classList.remove("active")):(t.parentElement.classList.add("active"),t.nextElementSibling.classList.add("active"),t.nextElementSibling.querySelector(".navigation--level-one").classList.add("active"))});var allLevelOneLinks=document.querySelectorAll(".navigation--level-one > li > a");for(i=0;i<allLevelOneLinks.length;i++)allLevelOneLinks[i].addEventListener("click",function(e){e.preventDefault();for(var t=document.querySelectorAll(".navigation--level-one > li > a"),n=0;n<t.length;n++)t[n].classList.remove("active");e.target.classList.add("active")});function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}!function(){if(document.querySelector(".alert--cart-item"))var i=document.querySelector(".alert--cart-item").innerHTML;var a=[];document.querySelector(".alert--cart-list")&&(document.querySelector(".alert--cart-list").innerHTML="");var e=document.querySelector("#modelModifiers");document.querySelector("#main_content");e&&e.addEventListener("change",function(e){var t=e.target.value;window.location.href=window.location.origin+"/"+t});for(var t=document.querySelectorAll("table tr"),n=0;n<t.length;n++)t[n].addEventListener("mouseenter",function(e){if(!(window.innerWidth<1080||"false"===e.target.querySelector("td:first-child").dataset.productSold)){var t=e.target.querySelector("td:first-child .product-image-container");if(t)t.classList.remove("product-image--is-hidden");else{var n=e.target.querySelector("td:first-child").dataset.productImage,r=document.createElement("img");r.classList.add("product-image"),r.src=void 0===n?"https://cdn3.volusion.com/yxhfe.dfqew/v/vspfiles/templates/gfp-test/images/nophoto.gif":n;var o=document.createElement("div");o.classList.add("product-image-container"),o.appendChild(r);e.target.querySelector("td:first-child").appendChild(o)}}}),t[n].addEventListener("mouseleave",function(e){e.target.querySelector("td:first-child .product-image-container").classList.add("product-image--is-hidden")});function r(){for(var e="https://www.greenfarmparts.com/shoppingcart.asp?",t=[],n=document.querySelectorAll(".alert--cart-item"),r=0;r<n.length;r++){var o=n[r].dataset.productcode,i=n[r].querySelector('input[name="product_quantity"]').value;t.push({productCode:o,productQty:i})}for(r=0;r<t.length;r++)e=r<1?e+"productcode="+t[r].productCode+"&QTY."+t[r].productCode+"="+t[r].productQty:e+"&productcode="+t[r].productCode+"&QTY."+t[r].productCode+"="+t[r].productQty;return e}document.addEventListener("click",function(e){if(e.target.classList.contains("add-to-cart")){var t=document.querySelector(".alert--add-to-cart"),n=e.target.parentElement.parentElement.querySelector("td:first-child").innerText,r=e.target.parentElement.parentElement.querySelector("td:nth-child(2)").innerText;if(a.includes(r))return;a.push(r);var o=document.createElement("li");o.classList.add("alert--cart-item"),o.dataset.productcode=r,o.innerHTML=i,o.querySelector(".alert--cart-part-number").innerText=r,o.querySelector(".alert--cart-part-type").innerText=n,document.querySelector(".alert--cart-list").appendChild(o),t.classList.add("alert--is-active"),t.classList.contains("alert--is-minimized")&&t.classList.remove("alert--is-minimized")}}),document.querySelector("#closeAlert")&&document.querySelector("#closeAlert").addEventListener("click",function(e){var t=e.target.parentElement.parentElement,n=t.classList.toString();n.includes("alert--is-minimized")&&n.includes("alert--is-active")?t.classList.remove("alert--is-minimized"):(t.classList.add("alert--is-minimized"),t.classList.add("alert--is-active"))}),document.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("alert--remove-item")){var n=t.parentElement.parentElement.dataset.productcode,r=a.indexOf(n);a.splice(r,1),t.parentElement.parentElement.remove()}}),document.querySelector("#submitCheckout")&&document.querySelector("#submitCheckout").addEventListener("click",function(e){e.preventDefault(),window.location.href=r()}),document.querySelector("#saveForLater")&&document.querySelector("#saveForLater").addEventListener("click",function(e){e.preventDefault(),document.cookie="cartURL="+r(),document.querySelector(".alert--add-to-cart").classList.add("alert--is-minimized")});var o=document.querySelector(".maintenance-kit-container");o&&1080<window.innerWidth&&(window.onload=function(){var t=o.offsetTop,n=window.getComputedStyle(document.body,null).fontSize;n=parseInt(n.split("px")[0]),window.addEventListener("scroll",function(e){window.scrollY>t-3*n&&o.classList.add("maintenance-kit-container--is-fixed"),window.scrollY<t-3*n&&o.classList.remove("maintenance-kit-container--is-fixed")})})}(),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var o,i,a=0|t,c=Math.max(0<=a?a:r-Math.abs(a),0);for(;c<r;){if((o=n[c])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;c++}return!1}}),function(){var e=document.querySelector(".single-comments"),t=document.querySelector("#respond");document.querySelector("#commentform");if(t){var n=document.createElement("button");n.innerHTML="Add Comment",n.id="addComment",t.style.visibility="hidden",t.style.maxHeight="0px",t.style.padding="0px",t.style.marginTop="0px",e.appendChild(n),document.querySelector("#addComment").addEventListener("click",function(e){e.preventDefault(),e.target.style.opacity="0",t.style.visibility="visible",t.style.maxHeight="1000px",t.style.padding="1rem",t.style.marginTop="3rem"})}}(),function(){var o=document.querySelector("#loadMorePosts");if(o){var n=1,l=document.querySelector(".post-listing--list");o.addEventListener("click",function(e){var t=window.location.origin+"/wp-json/wp/v2/posts?offset="+10*n;atomic(t).then(function(e){for(var t=[],n=e.data,r=0;r<n.length;r++)t.push({date:n[r].date,author:n[r].author,category:n[r].categories[0],title:n[r].title.rendered,tags:n[r].tags,link:n[r].link,description:n[r].excerpt.rendered.slice(3,-5)});return e.data.length<10&&(o.textContent="All Posts Loaded",o.disabled=!0,o.classList.add("disabled")),t}).then(function(e){for(var t=0;t<e.length;t++){var n=e[t].date,r=new Date(n);r=r.toDateString().slice(3);var o=e[t].title,i="Uncategorized",a=e[t].link,c=e[t].description;switch(e[t].category){case 17:i="Maintenance Reminder";break;case 63:i="Service Intervals";break;case 65:i="Troubleshooting";break;case 6:i="Talk With A Tech"}var s=document.createElement("div");s.classList.add("card"),s.innerHTML='<div class="card-content">'+o+"</div>",s.querySelector(".card-content").innerHTML='<p class="card-category"><a href="/?cat='+e[t].category+'">'+i+'</a></p><h4 class="card-title"><a href="'+a+'">'+o+'</a></h4><p class="card-description">'+c+'</p><ul class="single-tags--list"></ul>',l.appendChild(s)}}).catch(function(e){console.log(e)}),n++})}}(),function(){var e=document.querySelectorAll(".accordian--title");if(e)for(var t=0;t<e.length;t++)e[t].parentElement.classList.add("accordian--is-collapsed"),e[t].addEventListener("click",function(e){e.target.parentElement.classList.contains("accordian--is-collapsed")?e.target.parentElement.classList.remove("accordian--is-collapsed"):e.target.parentElement.classList.add("accordian--is-collapsed")})}(),function(){var e=document.querySelectorAll(".tooltip--toggle");if(e)for(var t=0;t<e.length;t++)e[t].nextElementSibling.classList.add("tooltip--is-hidden"),e[t].addEventListener("click",function(e){console.log(e.target.nextElementSibling.classList.toggle("tooltip--is-hidden"))})}(),function(){var e=document.querySelectorAll(".modal--close"),t=document.querySelectorAll("button[data-modal-launch]");if(e){for(var n=0;n<t.length;n++)t[n].addEventListener("click",function(e){var t=e.target.dataset.modalLaunch;document.querySelector(".modal[data-modal="+t+"]").classList.remove("modal--is-hidden"),document.body.classList.add("modal--is-open")});for(n=0;n<e.length;n++)e[n].addEventListener("click",function(e){e.target.parentElement.parentElement.classList.add("modal--is-hidden"),document.body.classList.remove("modal--is-open")});document.addEventListener("keyup",function(e){if(27==e.keyCode){var t=document.querySelectorAll("div[data-modal]");document.body.classList.remove("modal--is-open");for(var n=0;n<t.length;n++)t[n].classList.add("modal--is-hidden")}})}}(),window.jQuery&&$("#mc-embedded-subscribe-form").on("submit",function(e){e.preventDefault();var t=$(this),n=t.find("#mce-EMAIL").val(),r=t.find("#mce-FNAME").val(),o=t.find("#mce-LNAME").val(),i=t.find("#mce-MODEL").val(),a=t.find("#mce-CURRENT_HR").val(),c=t.find("#mce-MOWING_TIM").val();c=c.split("(")[1].split(")")[0].toLowerCase(),$.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",error:function(e){},success:function(e){"success"!=e.result?$("#mc_embed_signup_scroll").prepend('<p style="border: 1px solid red; padding: 1rem;">'+e.msg+"</p>"):(t.hide(),$('div[data-modal="sign-up-form"] .modal-heading').text("Great "+r+"!").next().text("You will receive a confirmation email soon and we will keep you up to date on your needed parts.")),$.ajax({type:"POST",url:"https://api.flock.com/hooks/sendMessage/855832cd-bd79-436d-9f1f-dcf0020251dd",data:JSON.stringify({text:r+" "+o+" has a "+i+" with "+a+" hours and takes "+c+" to mow. Contact "+r+" at "+n}),dataType:"json",contentType:"application/json"})}})}),function(){var e=parseInt(window.getComputedStyle(document.querySelector("body")).getPropertyValue("font-size")),t=document.querySelector("#stickyNav");if(t){var n=window.scrollY,r=t.offsetTop,o=t.clientWidth;window.addEventListener("resize",function(){r=t.offsetTop,console.log(r)}),document.addEventListener("scroll",function(){n=window.scrollY,r-3*e<n?(t.classList.add("nav--is-sticky"),t.style.maxWidth=o+"px"):t.classList.remove("nav--is-sticky")})}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF0b21pYy5taW4uanMiLCJzaXRlLWhlYWRlci5qcyIsInNpbmdsZS1wb3N0LmpzIiwic2luZ2xlLWNvbW1lbnRzLmpzIiwicG9zdC1saXN0aW5nLmpzIiwiYWNjb3JkaWFuLmpzIiwidG9vbHRpcC5qcyIsIm1vZGFsLmpzIiwic2lnbi11cC1mb3JtLmpzIiwic3RpY2t5LW5hdmlnYXRpb24uanMiXSwibmFtZXMiOlsidCIsImUiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwid2luZG93IiwiYXRvbWljIiwiZ2xvYmFsIiwidGhpcyIsIm4iLCJtZXRob2QiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZGF0YSIsImhlYWRlcnMiLCJDb250ZW50LXR5cGUiLCJyZXNwb25zZVR5cGUiLCJ0aW1lb3V0Iiwid2l0aENyZWRlbnRpYWxzIiwiciIsImFyZ3VtZW50cyIsImxlbmd0aCIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiYSIsIlhNTEh0dHBSZXF1ZXN0IiwibyIsIlByb21pc2UiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJ4aHIiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJzIiwic3RhdHVzVGV4dCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwib250aW1lb3V0Iiwic2VuZCIsInRlc3QiLCJzdHJpbmdpZnkiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsImkiLCJjYW5jZWwiLCJhYm9ydCIsImlubmVyV2lkdGgiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTWVudSIsImhlYWRlckhlaWdudCIsIm9mZnNldEhlaWdodCIsInN0eWxlIiwidG9wIiwiaGVhZGVyVG9wQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXZMZXZlbE9uZSIsImNsYXNzTGlzdCIsImFkZCIsInByZXZlbnREZWZhdWx0Iiwic2VsZiIsInRhcmdldCIsImNoaWxkTWVudSIsIm5leHRFbGVtZW50U2libGluZyIsImNvbnRhaW5zIiwicmVtb3ZlIiwicGFyZW50RWxlbWVudCIsImFsbExldmVsT25lTGlua3MiLCJsaW5rcyIsImoiLCJib2R5IiwidG9nZ2xlIiwiYWxlcnRDYXJ0SXRlbVRlbXBsYXRlIiwiaW5uZXJIVE1MIiwiYWRkZWRQcm9kdWN0cyIsIm1vZGVsTW9kaWZlclNlbGVjdCIsImxvYyIsInZhbHVlIiwibG9jYXRpb24iLCJocmVmIiwib3JpZ2luIiwiYWxsUm93cyIsImRhdGFzZXQiLCJwcm9kdWN0U29sZCIsImltZ0V4aXN0cyIsImltZ1BhdGgiLCJwcm9kdWN0SW1hZ2UiLCJwcm9kSW1nIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsInByb2RJbWdDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsImJ1aWxkQ2FydFN0cmluZyIsImluaXRVUkwiLCJhbGxBZGRlZFByb2R1Y3RzIiwiYWxsQWRkZWRJdGVtcyIsInByb2R1Y3RDb2RlIiwicHJvZHVjdGNvZGUiLCJwcm9kdWN0UXR5IiwiYWxlcnQiLCJwYXJ0VHlwZSIsImlubmVyVGV4dCIsInBhcnROdW1iZXIiLCJpbmNsdWRlcyIsImFkZEl0ZW0iLCJjb250YWluZXIiLCJjbGFzc2VzIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY29va2llIiwibWFpbnRlbmFuY2VLaXRDb250YWluZXIiLCJvbmxvYWQiLCJvZmZzZXRUb3AiLCJiYXNlRm9udFNpemUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZm9udFNpemUiLCJwYXJzZUludCIsInNwbGl0Iiwic2Nyb2xsWSIsIlN0cmluZyIsInNlYXJjaCIsInN0YXJ0IiwiRWxlbWVudCIsIkNoYXJhY3RlckRhdGEiLCJEb2N1bWVudFR5cGUiLCJmb3JFYWNoIiwiaXRlbSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiQXJyYXkiLCJzZWFyY2hFbGVtZW50IiwiZnJvbUluZGV4IiwiVHlwZUVycm9yIiwibGVuIiwieCIsInkiLCJrIiwiTWF0aCIsIm1heCIsImFicyIsImlzTmFOIiwiY29tbWVudHNDb250YWluZXIiLCJjb21tZW50c1JlcGx5IiwiYnV0dG9uIiwiaWQiLCJ2aXNpYmlsaXR5IiwibWF4SGVpZ2h0IiwicGFkZGluZyIsIm1hcmdpblRvcCIsIm9wYWNpdHkiLCJsb2FkUG9zdHMiLCJvZmZzZXQiLCJwb3N0TGlzdGluZyIsInVybCIsInRoZW4iLCJwb3N0T2JqIiwiZGF0ZSIsImF1dGhvciIsImNhdGVnb3J5IiwiY2F0ZWdvcmllcyIsInRpdGxlIiwicmVuZGVyZWQiLCJ0YWdzIiwibGluayIsImRlc2NyaXB0aW9uIiwiZXhjZXJwdCIsInNsaWNlIiwidGV4dENvbnRlbnQiLCJkaXNhYmxlZCIsInBvc3RUaW1lIiwicG9zdFByZXR0eVRpbWUiLCJEYXRlIiwidG9EYXRlU3RyaW5nIiwicG9zdFRpdGxlIiwicG9zdENhdGVnb3J5IiwicG9zdExpbmsiLCJwb3N0RGVzY3JpcHRpb24iLCJjYXJkIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhY2NvcmRpYW5CdXR0b25zIiwiYWxsVG9vbFRpcHMiLCJjbG9zZU1vZGFsIiwibGF1bmNoTW9kYWwiLCJtb2RhbElEIiwibW9kYWxMYXVuY2giLCJrZXlDb2RlIiwialF1ZXJ5IiwiJCIsIm9uIiwiJHRoaXMiLCJlbWFpbCIsImZpbmQiLCJ2YWwiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIm1vZGVsTnVtYmVyIiwiY3VycmVudEhvdXJzIiwibW93aW5nVGltZSIsInRvTG93ZXJDYXNlIiwiYWpheCIsInR5cGUiLCJhdHRyIiwic2VyaWFsaXplIiwiY2FjaGUiLCJkYXRhVHlwZSIsImNvbnRlbnRUeXBlIiwiZXJyIiwic3VjY2VzcyIsInJlc3VsdCIsInByZXBlbmQiLCJtc2ciLCJoaWRlIiwidGV4dCIsIm5leHQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibmF2IiwibmF2T2Zmc2V0IiwibmF2V2lkdGgiLCJjbGllbnRXaWR0aCIsIm1heFdpZHRoIl0sIm1hcHBpbmdzIjoiQ0FDQSxTQUFBQSxFQUFBQyxHQUFBLG1CQUFBQyxRQUFBQSxPQUFBQyxJQUFBRCxPQUFBLEdBQUEsV0FBQSxPQUFBRCxFQUFBRCxLQUFBLGlCQUFBSSxRQUFBQyxPQUFBRCxRQUFBSCxFQUFBRCxHQUFBTSxPQUFBQyxPQUFBTixFQUFBRCxHQUFBLENBQUEsb0JBQUFRLE9BQUFBLE9BQUEsb0JBQUFGLE9BQUFBLE9BQUFHLEtBQUEsU0FBQVQsR0FBQSxhQUFBLElBQUFDLEVBQUFTLEVBQUEsQ0FBQUMsT0FBQSxNQUFBQyxTQUFBLEtBQUFDLFNBQUEsS0FBQUMsS0FBQSxHQUFBQyxRQUFBLENBQUFDLGVBQUEscUNBQUFDLGFBQUEsT0FBQUMsUUFBQSxLQUFBQyxpQkFBQSxHQUFBQyxFQUFBLFdBQUEsSUFBQSxJQUFBcEIsRUFBQSxHQUFBQyxFQUFBLEVBQUFBLEVBQUFvQixVQUFBQyxPQUFBckIsSUFBQSxFQUFBLFNBQUFBLEdBQUEsSUFBQSxJQUFBUyxLQUFBVCxFQUFBQSxFQUFBc0IsZUFBQWIsS0FBQSxvQkFBQWMsT0FBQUMsVUFBQUMsU0FBQUMsS0FBQTFCLEVBQUFTLElBQUFWLEVBQUFVLEdBQUFVLEVBQUFwQixFQUFBVSxHQUFBVCxFQUFBUyxJQUFBVixFQUFBVSxHQUFBVCxFQUFBUyxJQUFBLENBQUFXLFVBQUFwQixJQUFBLE9BQUFELEdBQUE0QixFQUFBLFNBQUE1QixHQUFBLElBQUFVLEVBQUEsSUFBQW1CLGVBQUFDLEVBQUEsSUFBQUMsUUFBQSxTQUFBRCxFQUFBVixHQUFBLElBQUEsSUFBQVEsS0FBQWxCLEVBQUFzQixtQkFBQSxXQUFBLElBQUF0QixFQUFBdUIsYUFBQSxLQUFBdkIsRUFBQXdCLFFBQUF4QixFQUFBd0IsT0FBQSxJQUFBSixFQUFBLFNBQUE5QixHQUFBLElBQUFVLEVBQUEsR0FBQSxTQUFBVCxF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VUFDQW5ELElBQUF1QyxFQUFBWSxLQUFBLFVBQ0E1TSxLQUFBZ00sRUFBQWEsWUFDQUMsT0FBQSxFQUNBQyxTQUFBLE9BQ0FDLFlBQUEsa0NBQ0E3QixNQUFBLFNBQUE4QixLQUdBQyxRQUFBLFNBQUFsTixHQUNBLFdBQUFBLEVBQUFtTixPQUNBckIsRUFBQSwyQkFBQXNCLFFBQUEsb0RBQUFwTixFQUFBcU4sSUFBQSxTQUVBckIsRUFBQXNCLE9BQ0F4QixFQUFBLGlEQUFBeUIsS0FBQSxTQUFBbkIsRUFBQSxLQUFBb0IsT0FBQUQsS0FBQSxxR0FFQXpCLEVBQUFZLEtBQUEsQ0FDQUMsS0FBQSxPQUNBbEQsSUFBQSwrRUFDQXpKLEtBQUF1QixLQUFBVSxVQUFBLENBQ0FzTCxLQUFBbkIsRUFBQSxJQUFBQyxFQUFBLFVBQUFDLEVBQUEsU0FBQUMsRUFBQSxvQkFBQUMsRUFBQSxvQkFBQUosRUFBQSxPQUFBSCxJQUVBYyxTQUFBLE9BQ0FDLFlBQUEsMEJDMUNBLFdBRUEsSUFBQW5HLEVBQUFHLFNBQUF4SCxPQUFBc0gsaUJBQUFyRSxTQUFBQyxjQUFBLFNBQUErSyxpQkFBQSxjQUVBQyxFQUFBakwsU0FBQUMsY0FBQSxjQUVBLEdBQUFnTCxFQUFBLENBRUEsSUFBQXhHLEVBQUExSCxPQUFBMEgsUUFDQXlHLEVBQUFELEVBQUE5RyxVQUNBZ0gsRUFBQUYsRUFBQUcsWUFFQXJPLE9BQUFtRCxpQkFBQSxTQUFBLFdBQ0FnTCxFQUFBRCxFQUFBOUcsVUFDQXdFLFFBQUFDLElBQUFzQyxLQUdBbEwsU0FBQUUsaUJBQUEsU0FBQSxXQUNBdUUsRUFBQTFILE9BQUEwSCxRQUNBeUcsRUFBQSxFQUFBOUcsRUFBQUssR0FHQXdHLEVBQUF0SyxVQUFBQyxJQUFBLGtCQUNBcUssRUFBQTNLLE1BQUErSyxTQUFBRixFQUFBLE1BRUFGLEVBQUF0SyxVQUFBUSxPQUFBLHFCQXpCQSIsImZpbGUiOiJnbG9iYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgYXRvbWljIHY0LjIuMSB8IChjKSAyMDE4IENocmlzIEZlcmRpbmFuZGkgfCBNSVQgTGljZW5zZSB8IGh0dHBzOi8vZ2l0aHViLmNvbS9jZmVyZGluYW5kaS9hdG9taWMgKi9cbiEoZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLChmdW5jdGlvbigpe3JldHVybiBlKHQpfSkpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUodCk6d2luZG93LmF0b21pYz1lKHQpfSkoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcywoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGUsbj17bWV0aG9kOlwiR0VUXCIsdXNlcm5hbWU6bnVsbCxwYXNzd29yZDpudWxsLGRhdGE6e30saGVhZGVyczp7XCJDb250ZW50LXR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSxyZXNwb25zZVR5cGU6XCJ0ZXh0XCIsdGltZW91dDpudWxsLHdpdGhDcmVkZW50aWFsczohMX0sbz1mdW5jdGlvbigpe3JldHVyblwiWE1MSHR0cFJlcXVlc3RcImluIHQmJlwiSlNPTlwiaW4gdCYmXCJQcm9taXNlXCJpbiB0fSxyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXt9LGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07IShmdW5jdGlvbihlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYoXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlW25dKT90W25dPXIodFtuXSxlW25dKTp0W25dPWVbbl0pfSkobil9cmV0dXJuIHR9LHM9ZnVuY3Rpb24odCl7dmFyIG47aWYoXCJ0ZXh0XCIhPT1lLnJlc3BvbnNlVHlwZSYmXCJcIiE9PWUucmVzcG9uc2VUeXBlKXJldHVybntkYXRhOnQucmVzcG9uc2UseGhyOnR9O3RyeXtuPUpTT04ucGFyc2UodC5yZXNwb25zZVRleHQpfWNhdGNoKGUpe249dC5yZXNwb25zZVRleHR9cmV0dXJue2RhdGE6bix4aHI6dH19LGk9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHR8fFwiW29iamVjdCBGb3JtRGF0YV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gdDtpZigvYXBwbGljYXRpb25cXC9qc29uL2kudGVzdChlLmhlYWRlcnNbXCJDb250ZW50LXR5cGVcIl0pfHxcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpO3ZhciBuPVtdO2Zvcih2YXIgbyBpbiB0KXQuaGFzT3duUHJvcGVydHkobykmJm4ucHVzaChlbmNvZGVVUklDb21wb25lbnQobykrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHRbb10pKTtyZXR1cm4gbi5qb2luKFwiJlwiKX0sYT1mdW5jdGlvbih0KXt2YXIgbj1uZXcgWE1MSHR0cFJlcXVlc3Qsbz1uZXcgUHJvbWlzZShmdW5jdGlvbihvLHIpe24ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PW4ucmVhZHlTdGF0ZSYmKG4uc3RhdHVzPj0yMDAmJm4uc3RhdHVzPDMwMD9vKHMobikpOnIoe3N0YXR1czpuLnN0YXR1cyxzdGF0dXNUZXh0Om4uc3RhdHVzVGV4dH0pKX0sbi5vcGVuKGUubWV0aG9kLHQsITAsZS51c2VybmFtZSxlLnBhc3N3b3JkKSxuLnJlc3BvbnNlVHlwZT1lLnJlc3BvbnNlVHlwZTtmb3IodmFyIGEgaW4gZS5oZWFkZXJzKWUuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShhKSYmbi5zZXRSZXF1ZXN0SGVhZGVyKGEsZS5oZWFkZXJzW2FdKTtlLnRpbWVvdXQmJihuLnRpbWVvdXQ9ZS50aW1lb3V0LG4ub250aW1lb3V0PWZ1bmN0aW9uKHQpe3Ioe3N0YXR1czo0MDgsc3RhdHVzVGV4dDpcIlJlcXVlc3QgdGltZW91dFwifSl9KSxlLndpdGhDcmVkZW50aWFscyYmKG4ud2l0aENyZWRlbnRpYWxzPSEwKSxuLnNlbmQoaShlLmRhdGEpKX0pO3JldHVybiBvLmNhbmNlbD1mdW5jdGlvbigpe24uYWJvcnQoKX0sb307cmV0dXJuIGZ1bmN0aW9uKHQscyl7aWYoIW8oKSl0aHJvd1wiQXRvbWljOiBUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgbWV0aG9kcyB1c2VkIGluIHRoaXMgcGx1Z2luLlwiO3JldHVybiBlPXIobixzfHx7fSksYSh0KX19KSk7IiwiaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gMTA4MCkge1xuICAgIC8vICQoJy5tZW51LWl0ZW0tLXRvcC1sZXZlbCAuc3ViLW1lbnUtLWxldmVsLW9uZSA+IGxpOmZpcnN0LWNoaWxkJykuYWRkQ2xhc3MoJ2FjdGl2ZScpLmZpbmQoJy5zdWItbWVudS0tbGV2ZWwtdHdvJykuYWRkQ2xhc3MoJ2FjY29yZGlhbi1vcGVuJyk7XG4gICAgLy8gYWxlcnQoJ3RhZCcpO1xufVxuXG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiNoYW1idXJnZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgdG9nZ2xlTWVudSgpO1xuICB2YXIgaGVhZGVySGVpZ250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpdGUtaGVhZGVyJykub2Zmc2V0SGVpZ2h0O1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi0tbGV2ZWwtemVybycpLnN0eWxlLnRvcCA9IGhlYWRlckhlaWdudCArICdweCc7XG59KTtcblxudmFyIGhlYWRlclRvcEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aWdhdGlvbi0tYnV0dG9uJyk7XG52YXIgbmF2TGV2ZWxPbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lJyk7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgbmF2TGV2ZWxPbmUubGVuZ3RoOyBpKyspIHtcbiAgbmF2TGV2ZWxPbmVbaV0ucXVlcnlTZWxlY3RvcignbGk6Zmlyc3QtY2hpbGQgYScpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xufVxuXG5mb3IgKHZhciBpID0gMDsgaSA8IGhlYWRlclRvcEJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgaGVhZGVyVG9wQnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgdmFyIGNoaWxkTWVudSA9IHNlbGYubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUnKTtcbiAgICBpZiAoY2hpbGRNZW51LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIGNoaWxkTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIHNlbGYubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBzZWxmLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHNlbGYubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coc2VsZi5wYXJlbnRFbGVtZW50KTtcbiAgICAvLyBzZWxmLnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfSk7XG59XG5cbnZhciBhbGxMZXZlbE9uZUxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmlnYXRpb24tLWxldmVsLW9uZSA+IGxpID4gYScpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IGFsbExldmVsT25lTGlua3MubGVuZ3RoOyBpKyspIHtcbiAgYWxsTGV2ZWxPbmVMaW5rc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmlnYXRpb24tLWxldmVsLW9uZSA+IGxpID4gYScpO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGlua3MubGVuZ3RoOyBqKyspIHtcbiAgICAgIGxpbmtzW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgICAvLyBpZiAoYWxsTGV2ZWxPbmVMaW5rcy5jbGFzc0xpc3QuY29udGFpbnMoJycpKSB7fVxuICAgIC8vIGFsbExldmVsT25lTGlua3MuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgLy8gY29uc29sZS5sb2coZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24tLWxldmVsLW9uZSA+IGxpID4gYScpKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZU1lbnUoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdtZW51LW9wZW4nKTtcbiAgICB2YXIgbWVudUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoYW1idXJnZXInKTtcbiAgICBtZW51QnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xufSIsIihmdW5jdGlvbigpIHtcblxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LWl0ZW0nKSkge1xuICAgIHZhciBhbGVydENhcnRJdGVtVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtaXRlbScpLmlubmVySFRNTDtcbiAgfVxuICB2YXIgYWRkZWRQcm9kdWN0cyA9IFtdO1xuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtbGlzdCcpKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LWxpc3QnKS5pbm5lckhUTUwgPSAnJztcbiAgfVxuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBNSU5JWkVTIEFMRVJUIE9OIFBBR0UgTE9BRCBJRiBDT09LSUUgUFJFU0VOVFxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgLy8gaWYgKGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gIC8vICAgcmV0dXJuIGl0ZW0uaW5kZXhPZignY2FydFVSTD0nKSA+PSAwXG4gIC8vIH0pLmxlbmd0aCkge1xuICAvLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tYWRkLXRvLWNhcnQnKS5jbGFzc0xpc3QuYWRkKCdhbGVydC0taXMtbWluaW1pemVkJyk7XG4gIC8vIH1cblxuICBcbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgQ0hBTkdFIFBBR0UgV0hFTiBTRUxFQ1RFRCBNT0RFTCBNT0RJRklFUlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICB2YXIgbW9kZWxNb2RpZmVyU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZGVsTW9kaWZpZXJzJyk7XG4gIHZhciBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW5fY29udGVudCcpO1xuXG4gIGlmIChtb2RlbE1vZGlmZXJTZWxlY3QpIHtcbiAgICBtb2RlbE1vZGlmZXJTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGxvYyA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy8nICsgbG9jO1xuICAgIH0pO1xuICB9XG5cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFNIT1cgUFJPRFVDVCBJTUFHRSBPTiBIT1ZFUlxuICBAbm90ZSA9IE9ubHkgcnVucyBvbiBzY3JlZW4gbGFyZ2VyIHRoYW4gMTA4MHB4XG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgdmFyIGFsbFJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0YWJsZSB0cicpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsUm93cy5sZW5ndGg7IGkrKykge1xuICAgIGFsbFJvd3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICgod2luZG93LmlubmVyV2lkdGggPCAxMDgwKSB8fCAoZS50YXJnZXQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQnKS5kYXRhc2V0LnByb2R1Y3RTb2xkID09PSAnZmFsc2UnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpbWdFeGlzdHMgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCd0ZDpmaXJzdC1jaGlsZCAucHJvZHVjdC1pbWFnZS1jb250YWluZXInKTtcbiAgICAgIGlmIChpbWdFeGlzdHMpIHtcbiAgICAgICAgaW1nRXhpc3RzLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2R1Y3QtaW1hZ2UtLWlzLWhpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpbWdQYXRoID0gZS50YXJnZXQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQnKS5kYXRhc2V0LnByb2R1Y3RJbWFnZTtcbiAgICAgIHZhciBwcm9kSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICBwcm9kSW1nLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtaW1hZ2UnKTtcbiAgICAgIFxuICAgICAgaWYgKHR5cGVvZiBpbWdQYXRoID09PSAndW5kZWZpbmVkJykgeyBcbiAgICAgICAgcHJvZEltZy5zcmMgPSAnaHR0cHM6Ly9jZG4zLnZvbHVzaW9uLmNvbS95eGhmZS5kZnFldy92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvbm9waG90by5naWYnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZEltZy5zcmMgPSBpbWdQYXRoO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvZEltZ0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcHJvZEltZ0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlLWNvbnRhaW5lcicpO1xuICAgICAgcHJvZEltZ0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9kSW1nKTtcbiAgICAgIFxuICAgICAgdmFyIHRhYmxlQ2VsbCA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJykuYXBwZW5kQ2hpbGQocHJvZEltZ0NvbnRhaW5lcik7XG4gICAgICBcbiAgICB9KTtcblxuICAgIGFsbFJvd3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkIC5wcm9kdWN0LWltYWdlLWNvbnRhaW5lcicpLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtaW1hZ2UtLWlzLWhpZGRlbicpO1xuICAgIH0pO1xuICB9XG5cblxuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgQURESU5HIFBST0RVQ1QgVE8gQ0FSVFxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgXG4gICAgaWYgKHNlbGYuY2xhc3NMaXN0LmNvbnRhaW5zKCdhZGQtdG8tY2FydCcpKSB7XG5cbiAgICAgIHZhciBhbGVydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tYWRkLXRvLWNhcnQnKTtcbiAgICAgIHZhciBwYXJ0VHlwZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCd0ZDpmaXJzdC1jaGlsZCcpLmlubmVyVGV4dDtcbiAgICAgIHZhciBwYXJ0TnVtYmVyID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RkOm50aC1jaGlsZCgyKScpLmlubmVyVGV4dDtcblxuICAgICAgaWYgKGFkZGVkUHJvZHVjdHMuaW5jbHVkZXMocGFydE51bWJlcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhZGRlZFByb2R1Y3RzLnB1c2gocGFydE51bWJlcik7XG5cbiAgICAgIHZhciBhZGRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2xpJyApO1xuICAgICAgYWRkSXRlbS5jbGFzc0xpc3QuYWRkKCdhbGVydC0tY2FydC1pdGVtJyk7XG4gICAgICBhZGRJdGVtLmRhdGFzZXQucHJvZHVjdGNvZGUgPSBwYXJ0TnVtYmVyO1xuICAgICAgYWRkSXRlbS5pbm5lckhUTUwgPSBhbGVydENhcnRJdGVtVGVtcGxhdGU7XG5cbiAgICAgIGFkZEl0ZW0ucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LXBhcnQtbnVtYmVyJykuaW5uZXJUZXh0ID0gcGFydE51bWJlcjtcbiAgICAgIGFkZEl0ZW0ucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LXBhcnQtdHlwZScpLmlubmVyVGV4dCA9IHBhcnRUeXBlO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtbGlzdCcpLmFwcGVuZENoaWxkKGFkZEl0ZW0pO1xuICAgICAgXG5cbiAgICAgIGFsZXJ0LmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1hY3RpdmUnKTtcblxuICAgICAgaWYgKGFsZXJ0LmNsYXNzTGlzdC5jb250YWlucygnYWxlcnQtLWlzLW1pbmltaXplZCcpKSB7XG4gICAgICAgIGFsZXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICBUT0dHTEUgQ0FSVCBBTEVSVFxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvc2VBbGVydCcpKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlQWxlcnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgICB2YXIgY29udGFpbmVyID0gc2VsZi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICB2YXIgY2xhc3NlcyA9IGNvbnRhaW5lci5jbGFzc0xpc3QudG9TdHJpbmcoKTtcblxuICAgICAgaWYgKGNsYXNzZXMuaW5jbHVkZXMoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKSAmJiBjbGFzc2VzLmluY2x1ZGVzKCdhbGVydC0taXMtYWN0aXZlJykpIHtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhbGVydC0taXMtbWluaW1pemVkJyk7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhbGVydC0taXMtYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgUkVNT1ZFIElURU0gRlJPTSBDQVJUXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICBpZiAoc2VsZi5jbGFzc0xpc3QuY29udGFpbnMoJ2FsZXJ0LS1yZW1vdmUtaXRlbScpKSB7XG4gICAgICB2YXIgcHJvZHVjdENvZGUgPSBzZWxmLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0LnByb2R1Y3Rjb2RlO1xuICAgICAgdmFyIGluZGV4ID0gYWRkZWRQcm9kdWN0cy5pbmRleE9mKHByb2R1Y3RDb2RlKTtcbiAgICAgIGFkZGVkUHJvZHVjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHNlbGYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpOyBcbiAgICB9XG4gIH0pO1xuXG5cblxuICBmdW5jdGlvbiBidWlsZENhcnRTdHJpbmcoKSB7XG4gICAgdmFyIGluaXRVUkwgPSAnaHR0cHM6Ly93d3cuZ3JlZW5mYXJtcGFydHMuY29tL3Nob3BwaW5nY2FydC5hc3A/JztcbiAgICB2YXIgYWxsQWRkZWRQcm9kdWN0cyA9IFtdO1xuICAgIHZhciBhbGxBZGRlZEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFsZXJ0LS1jYXJ0LWl0ZW0nKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsQWRkZWRJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHByb2R1Y3RDb2RlID0gYWxsQWRkZWRJdGVtc1tpXS5kYXRhc2V0LnByb2R1Y3Rjb2RlO1xuICAgICAgdmFyIHByb2R1Y3RRdHkgPSBhbGxBZGRlZEl0ZW1zW2ldLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJwcm9kdWN0X3F1YW50aXR5XCJdJykudmFsdWU7XG4gICAgICBhbGxBZGRlZFByb2R1Y3RzLnB1c2goe1xuICAgICAgICBwcm9kdWN0Q29kZTogcHJvZHVjdENvZGUsXG4gICAgICAgIHByb2R1Y3RRdHk6IHByb2R1Y3RRdHlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsQWRkZWRQcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgPCAxKSB7XG4gICAgICAgIGluaXRVUkwgPSBpbml0VVJMICsgJ3Byb2R1Y3Rjb2RlPScgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RDb2RlICsgJyZRVFkuJyArIGFsbEFkZGVkUHJvZHVjdHNbaV0ucHJvZHVjdENvZGUgKyAnPScgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RRdHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbml0VVJMID0gaW5pdFVSTCArICcmcHJvZHVjdGNvZGU9JyArIGFsbEFkZGVkUHJvZHVjdHNbaV0ucHJvZHVjdENvZGUgKyAnJlFUWS4nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0Q29kZSArICc9JyArIGFsbEFkZGVkUHJvZHVjdHNbaV0ucHJvZHVjdFF0eTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5pdFVSTDtcbiAgfVxuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBDSEVDS09VVCAtIFNlbmQgcHJvZHVjdHMgdG8gVm9sdXNpb25cbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VibWl0Q2hlY2tvdXQnKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXRDaGVja291dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gY2FydCB1cmwgdGVtcGxhdGU6IGh0dHBzOi8vd3d3LmdyZWVuZmFybXBhcnRzLmNvbS9zaG9wcGluZ2NhcnQuYXNwP3Byb2R1Y3Rjb2RlPWpkemc5MDAmUVRZLmpkemc5MDA9NVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBidWlsZENhcnRTdHJpbmcoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFNBVkUgRk9SIExBVEVSIC0gU2VuZCBwcm9kdWN0cyB0byBWb2x1c2lvbiBhbmQgY29va2llXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2F2ZUZvckxhdGVyJykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2F2ZUZvckxhdGVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBkb2N1bWVudC5jb29raWUgPSAnY2FydFVSTD0nICsgYnVpbGRDYXJ0U3RyaW5nKCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWFkZC10by1jYXJ0JykuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLW1pbmltaXplZCcpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgU1RJQ0tZIE1BSU5URU5BTkNFIEtJVCBCVVkgTk9XXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuXG4gIHZhciBtYWludGVuYW5jZUtpdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWludGVuYW5jZS1raXQtY29udGFpbmVyJyk7XG4gIGlmIChtYWludGVuYW5jZUtpdENvbnRhaW5lciAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDEwODApIHtcbiAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2Zmc2V0VG9wID0gbWFpbnRlbmFuY2VLaXRDb250YWluZXIub2Zmc2V0VG9wO1xuICAgICAgdmFyIGJhc2VGb250U2l6ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHksIG51bGwpLmZvbnRTaXplO1xuICAgICAgYmFzZUZvbnRTaXplID0gcGFyc2VJbnQoYmFzZUZvbnRTaXplLnNwbGl0KCdweCcpWzBdKTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gKG9mZnNldFRvcCAtIChiYXNlRm9udFNpemUgKiAzKSkpIHtcbiAgICAgICAgICBtYWludGVuYW5jZUtpdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYWludGVuYW5jZS1raXQtY29udGFpbmVyLS1pcy1maXhlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuc2Nyb2xsWSA8IChvZmZzZXRUb3AgLSAoYmFzZUZvbnRTaXplICogMykpKSB7XG4gICAgICAgICAgbWFpbnRlbmFuY2VLaXRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFpbnRlbmFuY2Uta2l0LWNvbnRhaW5lci0taXMtZml4ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuXG59KSgpO1xuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuUE9MWUZJTEwgRk9SIHN0ci5pbmNsdWRlcygpXG5ATElOSyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvaW5jbHVkZXNcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzKSB7XG4gIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihzZWFyY2gsIHN0YXJ0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIFxuICAgIGlmIChzdGFydCArIHNlYXJjaC5sZW5ndGggPiB0aGlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHNlYXJjaCwgc3RhcnQpICE9PSAtMTtcbiAgICB9XG4gIH07XG59XG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuUE9MWUZJTEwgRk9SIG5vZGUucmVtb3ZlKClcbkBMSU5LIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DaGlsZE5vZGUvcmVtb3ZlXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG4oZnVuY3Rpb24gKGFycikge1xuICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdyZW1vdmUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaXRlbSwgJ3JlbW92ZScsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudE5vZGUgIT09IG51bGwpXG4gICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pKFtFbGVtZW50LnByb3RvdHlwZSwgQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUsIERvY3VtZW50VHlwZS5wcm90b3R5cGVdKTtcblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblBPTFlGSUxMIEZPUiBhcnJheS5pbmNsdWRlc1xuQExJTksgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaW5jbHVkZXNcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmICghQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdpbmNsdWRlcycsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24oc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7XG5cbiAgICAgIGlmICh0aGlzID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ0aGlzXCIgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyAxLiBMZXQgTyBiZSA/IFRvT2JqZWN0KHRoaXMgdmFsdWUpLlxuICAgICAgdmFyIG8gPSBPYmplY3QodGhpcyk7XG5cbiAgICAgIC8vIDIuIExldCBsZW4gYmUgPyBUb0xlbmd0aCg/IEdldChPLCBcImxlbmd0aFwiKSkuXG4gICAgICB2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7XG5cbiAgICAgIC8vIDMuIElmIGxlbiBpcyAwLCByZXR1cm4gZmFsc2UuXG4gICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gTGV0IG4gYmUgPyBUb0ludGVnZXIoZnJvbUluZGV4KS5cbiAgICAgIC8vICAgIChJZiBmcm9tSW5kZXggaXMgdW5kZWZpbmVkLCB0aGlzIHN0ZXAgcHJvZHVjZXMgdGhlIHZhbHVlIDAuKVxuICAgICAgdmFyIG4gPSBmcm9tSW5kZXggfCAwO1xuXG4gICAgICAvLyA1LiBJZiBuIOKJpSAwLCB0aGVuXG4gICAgICAvLyAgYS4gTGV0IGsgYmUgbi5cbiAgICAgIC8vIDYuIEVsc2UgbiA8IDAsXG4gICAgICAvLyAgYS4gTGV0IGsgYmUgbGVuICsgbi5cbiAgICAgIC8vICBiLiBJZiBrIDwgMCwgbGV0IGsgYmUgMC5cbiAgICAgIHZhciBrID0gTWF0aC5tYXgobiA+PSAwID8gbiA6IGxlbiAtIE1hdGguYWJzKG4pLCAwKTtcblxuICAgICAgZnVuY3Rpb24gc2FtZVZhbHVlWmVybyh4LCB5KSB7XG4gICAgICAgIHJldHVybiB4ID09PSB5IHx8ICh0eXBlb2YgeCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHkgPT09ICdudW1iZXInICYmIGlzTmFOKHgpICYmIGlzTmFOKHkpKTtcbiAgICAgIH1cblxuICAgICAgLy8gNy4gUmVwZWF0LCB3aGlsZSBrIDwgbGVuXG4gICAgICB3aGlsZSAoayA8IGxlbikge1xuICAgICAgICAvLyBhLiBMZXQgZWxlbWVudEsgYmUgdGhlIHJlc3VsdCBvZiA/IEdldChPLCAhIFRvU3RyaW5nKGspKS5cbiAgICAgICAgLy8gYi4gSWYgU2FtZVZhbHVlWmVybyhzZWFyY2hFbGVtZW50LCBlbGVtZW50SykgaXMgdHJ1ZSwgcmV0dXJuIHRydWUuXG4gICAgICAgIGlmIChzYW1lVmFsdWVaZXJvKG9ba10sIHNlYXJjaEVsZW1lbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYy4gSW5jcmVhc2UgayBieSAxLiBcbiAgICAgICAgaysrO1xuICAgICAgfVxuXG4gICAgICAvLyA4LiBSZXR1cm4gZmFsc2VcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufSIsIihmdW5jdGlvbigpIHtcblxuICB2YXIgY29tbWVudHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2luZ2xlLWNvbW1lbnRzJyk7XG4gIHZhciBjb21tZW50c1JlcGx5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc3BvbmQnKTtcbiAgdmFyIGNvbW1lbnRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbW1lbnRmb3JtJyk7XG5cblxuICBpZiAoY29tbWVudHNSZXBseSkge1xuICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnQWRkIENvbW1lbnQnO1xuICAgIGJ1dHRvbi5pZCA9ICdhZGRDb21tZW50JztcblxuICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUubWF4SGVpZ2h0ID0gJzBweCc7XG4gICAgY29tbWVudHNSZXBseS5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgY29tbWVudHNSZXBseS5zdHlsZS5tYXJnaW5Ub3AgPSAnMHB4JztcblxuICAgIGNvbW1lbnRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkQ29tbWVudCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICAgIHNlbGYuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUubWF4SGVpZ2h0ID0gJzEwMDBweCc7XG4gICAgICBjb21tZW50c1JlcGx5LnN0eWxlLnBhZGRpbmcgPSAnMXJlbSc7XG4gICAgICBjb21tZW50c1JlcGx5LnN0eWxlLm1hcmdpblRvcCA9ICczcmVtJztcbiAgICB9KVxuXG4gIH1cblxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcblxuICB2YXIgbG9hZFBvc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvYWRNb3JlUG9zdHMnKTtcblxuICBpZiAobG9hZFBvc3RzKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMTtcbiAgICAgIHZhciBwb3N0Q291bnQgPSAxMDtcbiAgICAgIHZhciBwb3N0TGlzdGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3N0LWxpc3RpbmctLWxpc3QnKTtcblxuICAgICAgbG9hZFBvc3RzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy93cC1qc29uL3dwL3YyL3Bvc3RzP29mZnNldD0nICsgKG9mZnNldCAqIHBvc3RDb3VudCk7XG4gICAgICAgICAgXG4gICAgICAgICAgYXRvbWljKHVybClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICB2YXIgcG9zdE9iaiA9IFtdO1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcG9zdE9iai5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIGRhdGU6IGRhdGFbaV0uZGF0ZSxcbiAgICAgICAgICAgICAgICAgIGF1dGhvcjogZGF0YVtpXS5hdXRob3IsXG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeTogZGF0YVtpXS5jYXRlZ29yaWVzWzBdLFxuICAgICAgICAgICAgICAgICAgdGl0bGU6IGRhdGFbaV0udGl0bGUucmVuZGVyZWQsXG4gICAgICAgICAgICAgICAgICB0YWdzOiBkYXRhW2ldLnRhZ3MsXG4gICAgICAgICAgICAgICAgICBsaW5rOiBkYXRhW2ldLmxpbmssXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YVtpXS5leGNlcnB0LnJlbmRlcmVkLnNsaWNlKDMsIC01KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoIDwgMTApIHtcbiAgICAgICAgICAgICAgICBsb2FkUG9zdHMudGV4dENvbnRlbnQgPSAnQWxsIFBvc3RzIExvYWRlZCc7XG4gICAgICAgICAgICAgICAgbG9hZFBvc3RzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb2FkUG9zdHMuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBwb3N0T2JqO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zdE9iaikge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc3RPYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24gYWxsIGRhdGFcbiAgICAgICAgICAgICAgICB2YXIgcG9zdFRpbWUgPSBwb3N0T2JqW2ldLmRhdGU7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3RQcmV0dHlUaW1lID0gbmV3IERhdGUocG9zdFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBwb3N0UHJldHR5VGltZSA9IHBvc3RQcmV0dHlUaW1lLnRvRGF0ZVN0cmluZygpLnNsaWNlKDMpO1xuICAgICAgICAgICAgICAgIHZhciBwb3N0VGl0bGUgPSBwb3N0T2JqW2ldLnRpdGxlO1xuICAgICAgICAgICAgICAgIHZhciBwb3N0Q2F0ZWdvcnkgPSAnVW5jYXRlZ29yaXplZCc7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3RMaW5rID0gcG9zdE9ialtpXS5saW5rO1xuICAgICAgICAgICAgICAgIHZhciBwb3N0RGVzY3JpcHRpb24gPSBwb3N0T2JqW2ldLmRlc2NyaXB0aW9uO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoKHBvc3RPYmpbaV0uY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIHBvc3RDYXRlZ29yeSA9ICdNYWludGVuYW5jZSBSZW1pbmRlcic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSA2MzpcbiAgICAgICAgICAgICAgICAgICAgcG9zdENhdGVnb3J5ID0gJ1NlcnZpY2UgSW50ZXJ2YWxzJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDY1OlxuICAgICAgICAgICAgICAgICAgICBwb3N0Q2F0ZWdvcnkgPSAnVHJvdWJsZXNob290aW5nJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIHBvc3RDYXRlZ29yeSA9ICdUYWxrIFdpdGggQSBUZWNoJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgY2FyZFxuICAgICAgICAgICAgICAgIHZhciBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdjYXJkJyk7XG4gICAgICAgICAgICAgICAgY2FyZC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPicgKyBwb3N0VGl0bGUgKyAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWNvbnRlbnQnKS5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJjYXJkLWNhdGVnb3J5XCI+PGEgaHJlZj1cIi8/Y2F0PScgKyBwb3N0T2JqW2ldLmNhdGVnb3J5ICsgJ1wiPicgKyBwb3N0Q2F0ZWdvcnkgKyAnPC9hPjwvcD48aDQgY2xhc3M9XCJjYXJkLXRpdGxlXCI+PGEgaHJlZj1cIicgKyBwb3N0TGluayArICdcIj4nICsgcG9zdFRpdGxlICsgJzwvYT48L2g0PjxwIGNsYXNzPVwiY2FyZC1kZXNjcmlwdGlvblwiPicgKyBwb3N0RGVzY3JpcHRpb24gKyAnPC9wPjx1bCBjbGFzcz1cInNpbmdsZS10YWdzLS1saXN0XCI+PC91bD4nO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBjYXJkIHRvIHJlc3VsdHNcbiAgICAgICAgICAgICAgICBwb3N0TGlzdGluZy5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBvZmZzZXQrKztcbiAgICAgIH0pO1xuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgYWNjb3JkaWFuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpYW4tLXRpdGxlJyk7XG4gIGlmIChhY2NvcmRpYW5CdXR0b25zKSB7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjY29yZGlhbkJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFjY29yZGlhbkJ1dHRvbnNbaV0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY2NvcmRpYW4tLWlzLWNvbGxhcHNlZCcpO1xuICAgICAgYWNjb3JkaWFuQnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5pbmdFbGVtZW50ID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKGNvbnRhaW5pbmdFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaWFuLS1pcy1jb2xsYXBzZWQnKSkge1xuICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWNjb3JkaWFuLS1pcy1jb2xsYXBzZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlhbi0taXMtY29sbGFwc2VkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgdmFyIGFsbFRvb2xUaXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXAtLXRvZ2dsZScpO1xuICBpZiAoYWxsVG9vbFRpcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbFRvb2xUaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhbGxUb29sVGlwc1tpXS5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmFkZCgndG9vbHRpcC0taXMtaGlkZGVuJyk7XG5cbiAgICAgIGFsbFRvb2xUaXBzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgndG9vbHRpcC0taXMtaGlkZGVuJykpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblxuICB2YXIgY2xvc2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbC0tY2xvc2UnKTtcbiAgdmFyIGxhdW5jaE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW2RhdGEtbW9kYWwtbGF1bmNoXScpO1xuXG4gIGlmIChjbG9zZU1vZGFsKSB7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhdW5jaE1vZGFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsYXVuY2hNb2RhbFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIG1vZGFsSUQgPSBlLnRhcmdldC5kYXRhc2V0Lm1vZGFsTGF1bmNoO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxbZGF0YS1tb2RhbD0nICsgbW9kYWxJRCArICddJykuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtLWlzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLS1pcy1vcGVuJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb3NlTW9kYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNsb3NlTW9kYWxbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtb2RhbC0taXMtaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtLWlzLW9wZW4nKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSAhPSAyNykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbGF1bmNoTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbZGF0YS1tb2RhbF0nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtLWlzLW9wZW4nKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF1bmNoTW9kYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGF1bmNoTW9kYWxbaV0uY2xhc3NMaXN0LmFkZCgnbW9kYWwtLWlzLWhpZGRlbicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxufSkoKTsiLCJpZiAod2luZG93LmpRdWVyeSkge1xuXG4gIChmdW5jdGlvbigpIHtcblxuXG4gICAgJCgnI21jLWVtYmVkZGVkLXN1YnNjcmliZS1mb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIFxuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgXG4gICAgICB2YXIgZW1haWwgPSAkdGhpcy5maW5kKCcjbWNlLUVNQUlMJykudmFsKCk7XG4gICAgICB2YXIgZmlyc3ROYW1lID0gJHRoaXMuZmluZCgnI21jZS1GTkFNRScpLnZhbCgpO1xuICAgICAgdmFyIGxhc3ROYW1lID0gJHRoaXMuZmluZCgnI21jZS1MTkFNRScpLnZhbCgpO1xuICAgICAgdmFyIG1vZGVsTnVtYmVyID0gJHRoaXMuZmluZCgnI21jZS1NT0RFTCcpLnZhbCgpO1xuICAgICAgdmFyIGN1cnJlbnRIb3VycyA9ICR0aGlzLmZpbmQoJyNtY2UtQ1VSUkVOVF9IUicpLnZhbCgpO1xuICAgICAgdmFyIG1vd2luZ1RpbWUgPSAkdGhpcy5maW5kKCcjbWNlLU1PV0lOR19USU0nKS52YWwoKTtcbiAgICAgIG1vd2luZ1RpbWUgPSBtb3dpbmdUaW1lLnNwbGl0KCcoJylbMV0uc3BsaXQoJyknKVswXS50b0xvd2VyQ2FzZSgpO1xuICBcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6ICR0aGlzLmF0dHIoJ21ldGhvZCcpLFxuICAgICAgICB1cmw6ICR0aGlzLmF0dHIoJ2FjdGlvbicpLFxuICAgICAgICBkYXRhOiAkdGhpcy5zZXJpYWxpemUoKSxcbiAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgXG4gICAgICAgIH0sXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICBpZiAoZGF0YS5yZXN1bHQgIT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAkKCcjbWNfZW1iZWRfc2lnbnVwX3Njcm9sbCcpLnByZXBlbmQoJzxwIHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgcmVkOyBwYWRkaW5nOiAxcmVtO1wiPicgKyBkYXRhLm1zZyArICc8L3A+Jyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICR0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICQoJ2RpdltkYXRhLW1vZGFsPVwic2lnbi11cC1mb3JtXCJdIC5tb2RhbC1oZWFkaW5nJykudGV4dCgnR3JlYXQgJyArIGZpcnN0TmFtZSArICchJykubmV4dCgpLnRleHQoJ1lvdSB3aWxsIHJlY2VpdmUgYSBjb25maXJtYXRpb24gZW1haWwgc29vbiBhbmQgd2Ugd2lsbCBrZWVwIHlvdSB1cCB0byBkYXRlIG9uIHlvdXIgbmVlZGVkIHBhcnRzLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuZmxvY2suY29tL2hvb2tzL3NlbmRNZXNzYWdlLzg1NTgzMmNkLWJkNzktNDM2ZC05ZjFmLWRjZjAwMjAyNTFkZCcsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIFwidGV4dFwiOiBmaXJzdE5hbWUgKyBcIiBcIiArIGxhc3ROYW1lICsgXCIgaGFzIGEgXCIgKyBtb2RlbE51bWJlciArIFwiIHdpdGggXCIgKyBjdXJyZW50SG91cnMgKyBcIiBob3VycyBhbmQgdGFrZXMgXCIgKyBtb3dpbmdUaW1lICsgXCIgdG8gbW93LiBDb250YWN0IFwiICsgZmlyc3ROYW1lICsgXCIgYXQgXCIgKyBlbWFpbFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIFxuICAgIH0pO1xuICBcbiAgfSkoKTtcblxufSIsIihmdW5jdGlvbigpIHtcblxuICB2YXIgYmFzZUZvbnRTaXplID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpKS5nZXRQcm9wZXJ0eVZhbHVlKCdmb250LXNpemUnKSk7XG5cbiAgdmFyIG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdGlja3lOYXYnKTtcblxuICBpZiAobmF2KSB7XG5cbiAgICB2YXIgc2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgIHZhciBuYXZPZmZzZXQgPSBuYXYub2Zmc2V0VG9wO1xuICAgIHZhciBuYXZXaWR0aCA9IG5hdi5jbGllbnRXaWR0aDtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcbiAgICAgIG5hdk9mZnNldCA9IG5hdi5vZmZzZXRUb3A7XG4gICAgICBjb25zb2xlLmxvZyhuYXZPZmZzZXQpO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oKSB7XG4gICAgICBzY3JvbGxZID0gd2luZG93LnNjcm9sbFk7XG4gICAgICB2YXIgbWFrZVN0aWNreSA9IHNjcm9sbFkgPiAobmF2T2Zmc2V0IC0gKGJhc2VGb250U2l6ZSAqIDMpKTtcblxuICAgICAgaWYgKG1ha2VTdGlja3kpIHtcbiAgICAgICAgbmF2LmNsYXNzTGlzdC5hZGQoJ25hdi0taXMtc3RpY2t5Jyk7XG4gICAgICAgIG5hdi5zdHlsZS5tYXhXaWR0aCA9IG5hdldpZHRoICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtLWlzLXN0aWNreScpO1xuICAgICAgfVxuXG5cbiAgICB9KTtcblxuICB9XG5cbn0pKCk7ICJdfQ==
