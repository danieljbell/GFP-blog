!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):window.atomic=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(n){"use strict";var i,a={method:"GET",username:null,password:null,data:{},headers:{"Content-type":"application/x-www-form-urlencoded"},responseType:"text",timeout:null,withCredentials:!1},o=function(){for(var n={},e=0;e<arguments.length;e++){!function(e){for(var t in e)e.hasOwnProperty(t)&&("[object Object]"===Object.prototype.toString.call(e[t])?n[t]=o(n[t],e[t]):n[t]=e[t])}(arguments[e])}return n},r=function(a){var o=new XMLHttpRequest,e=new Promise(function(e,t){for(var n in o.onreadystatechange=function(){4===o.readyState&&(200<=o.status&&o.status<300?e(function(t){var n;if("text"!==i.responseType&&""!==i.responseType)return{data:t.response,xhr:t};try{n=JSON.parse(t.responseText)}catch(e){n=t.responseText}return{data:n,xhr:t}}(o)):t({status:o.status,statusText:o.statusText}))},o.open(i.method,a,!0,i.username,i.password),o.responseType=i.responseType,i.headers)i.headers.hasOwnProperty(n)&&o.setRequestHeader(n,i.headers[n]);i.timeout&&(o.timeout=i.timeout,o.ontimeout=function(e){t({status:408,statusText:"Request timeout"})}),i.withCredentials&&(o.withCredentials=!0),o.send(function(e){if("string"==typeof e||"[object FormData]"===Object.prototype.toString.call(e))return e;if(/application\/json/i.test(i.headers["Content-type"])||"[object Array]"===Object.prototype.toString.call(e))return JSON.stringify(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(i.data))});return e.cancel=function(){o.abort()},e};return function(e,t){if(!("XMLHttpRequest"in n&&"JSON"in n&&"Promise"in n))throw"Atomic: This browser does not support the methods used in this plugin.";return i=o(a,t||{}),r(e)}}),window.innerWidth,document.querySelector("button#hamburger").addEventListener("click",function(e){toggleMenu();var t=document.querySelector(".site-header").offsetHeight;document.querySelector(".navigation--level-zero").style.top=t+"px"});for(var headerTopButtons=document.querySelectorAll(".navigation--button"),navLevelOne=document.querySelectorAll(".navigation--level-one"),i=0;i<navLevelOne.length;i++)navLevelOne[i].querySelector("li:first-child a").classList.add("active");for(i=0;i<headerTopButtons.length;i++)headerTopButtons[i].addEventListener("click",function(e){e.preventDefault();var t=e.target,n=t.nextElementSibling.querySelector(".navigation--level-one");n.classList.contains("active")?(n.classList.remove("active"),t.nextElementSibling.classList.remove("active")):(t.parentElement.classList.add("active"),t.nextElementSibling.classList.add("active"),t.nextElementSibling.querySelector(".navigation--level-one").classList.add("active"))});var allLevelOneLinks=document.querySelectorAll(".navigation--level-one > li > a");for(i=0;i<allLevelOneLinks.length;i++)allLevelOneLinks[i].addEventListener("click",function(e){e.preventDefault();for(var t=document.querySelectorAll(".navigation--level-one > li > a"),n=0;n<t.length;n++)t[n].classList.remove("active");e.target.classList.add("active")});function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}!function(){var e=document.querySelector("#modelModifiers");document.querySelector("#main_content");if(e&&e.addEventListener("change",function(e){var t=e.target.value;window.location.href=t}),document.body.classList.contains("single-post"))for(var t=document.querySelectorAll("table tr"),n=0;n<t.length;n++)t[n].addEventListener("mouseenter",function(e){if(!(window.innerWidth<1080||"false"===e.target.querySelector("td:first-child").dataset.productSold)){var t=e.target.querySelector("td:first-child .product-image-container");if(t)t.classList.remove("product-image--is-hidden");else{var n=e.target.querySelector("td:first-child").dataset.productImage,a=document.createElement("img");a.classList.add("product-image"),a.src=void 0===n?"https://cdn3.volusion.com/yxhfe.dfqew/v/vspfiles/templates/gfp-test/images/nophoto.gif":n;var o=document.createElement("div");o.classList.add("product-image-container"),o.appendChild(a);e.target.querySelector("td:first-child").appendChild(o)}}}),t[n].addEventListener("mouseleave",function(e){e.target.querySelector("td:first-child .product-image-container").classList.add("product-image--is-hidden")});var a=document.querySelector(".maintenance-kit-container");a&&1080<window.innerWidth&&(window.onload=function(){var t=a.offsetTop,n=window.getComputedStyle(document.body,null).fontSize;n=parseInt(n.split("px")[0]),window.addEventListener("scroll",function(e){window.scrollY>t-3*n&&a.classList.add("maintenance-kit-container--is-fixed"),window.scrollY<t-3*n&&a.classList.remove("maintenance-kit-container--is-fixed")})})}(),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),a=n.length>>>0;if(0===a)return!1;var o,i,r=0|t,c=Math.max(0<=r?r:a-Math.abs(r),0);for(;c<a;){if((o=n[c])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;c++}return!1}}),function(){var e=document.querySelector("#fitment-text-filter"),a=document.querySelectorAll(".single--part-fitment-list a");e&&e.addEventListener("keyup",function(e){for(var t=e.target.value.toUpperCase(),n=0;n<a.length;n++)a[n].parentElement.classList.add("hidden"),a[n].textContent.includes(t)&&a[n].parentElement.classList.remove("hidden")})}(),function(){var e=document.querySelector(".single-comments"),t=document.querySelector("#respond");document.querySelector("#commentform");if(t){var n=document.createElement("button");n.innerHTML="Add Comment",n.id="addComment",t.style.visibility="hidden",t.style.maxHeight="0px",t.style.padding="0px",t.style.marginTop="0px",e.appendChild(n),document.querySelector("#addComment").addEventListener("click",function(e){e.preventDefault(),e.target.style.opacity="0",t.style.visibility="visible",t.style.maxHeight="1000px",t.style.padding="1rem",t.style.marginTop="3rem"})}}(),function(){var o=document.querySelector("#loadMorePosts");if(o){var a=1,d=document.querySelector(".post-listing--list");o.addEventListener("click",function(e){var t=window.location.origin+"/wp-json/wp/v2/posts?offset="+10*a;if(document.body.classList.contains("category")){var n=document.body.classList;console.log(n)}o.disabled=!0,o.classList.add("disabled"),atomic(t).then(function(e){for(var t=[],n=e.data,a=0;a<n.length;a++)t.push({date:n[a].date,author:n[a].author,category:n[a].categories[0],title:n[a].title.rendered,tags:n[a].tags,link:n[a].link,description:n[a].excerpt.rendered.slice(3,-5)});return o.disabled=!1,o.classList.remove("disabled"),e.data.length<10&&(o.textContent="All Posts Loaded",o.disabled=!0,o.classList.add("disabled")),t}).then(function(e){for(var t=0;t<e.length;t++){var n=e[t].date,a=new Date(n);a=a.toDateString().slice(3);var o=e[t].title,i="Uncategorized",r=e[t].link,c=e[t].description;switch(e[t].category){case 17:i="Maintenance Reminder";break;case 63:i="Service Intervals";break;case 65:i="Troubleshooting";break;case 6:i="Talk With A Tech"}var s=document.createElement("div");s.classList.add("card"),s.innerHTML='<div class="card-content">'+o+"</div>",s.querySelector(".card-content").innerHTML='<p class="card-category"><a href="/?cat='+e[t].category+'">'+i+'</a></p><h4 class="card-title"><a href="'+r+'">'+o+'</a></h4><p class="card-description">'+c+'</p><ul class="single-tags--list"></ul>',d.appendChild(s)}}).catch(function(e){console.log(e)}),a++})}var i=document.querySelector(".product-list-filters-list");document.querySelector("#filter-products");i&&i.addEventListener("change",function(e){var t,n=[];i.querySelectorAll("li").forEach(function(e){e.querySelector("input").checked&&n.push(e.querySelector("input").value)}),t=n,document.querySelectorAll(".product-list-with-filters .products--item").forEach(function(e){e.classList.remove("visually-hidden"),e.dataset.brand.includes(t)||e.classList.add("visually-hidden")})})}(),function(){if(!document.body.classList.contains("woocommerce-cart")&&!document.body.classList.contains("woocommerce-checkout")){var t=document.querySelector(".alert--add-to-cart"),n=!1,a=document.querySelector(".alert--cart-list"),o=document.querySelector(".alert--header");if(a){a.addEventListener("click",function(e){e.target.matches("a")?console.log("redirect"):e.target.matches("button")&&(e.preventDefault(),function(e){if(e.preventDefault(),i("down"),e.target.matches("button")){var t=e.target.dataset.index,n=a.querySelector('[data-index="'+t+'"]');n.remove(),atomic(window.location.origin+"/wp-admin/admin-ajax.php",{method:"POST",data:{action:"remove_item_from_cart",product_id:n.dataset.productid}})}a.children.length<1&&(a.innerHTML="<li>Your shopping cart is empty.</li>")}(e))}),a.addEventListener("change",function(e){var t,n,a;t=e.target,n=t.parentElement.parentElement.dataset.productid,a=t.value,atomic(window.location.origin+"/wp-admin/admin-ajax.php",{method:"POST",data:{action:"increment_item_in_cart",product_id:n,qty:a}}).then(function(e){200===e.xhr.status&&console.log("quantity for "+n+" is set to "+a)})}),o.addEventListener("click",function(e){r()}),0<a.querySelectorAll("li").length&&function(){if(!t)return console.error("Cart Markup is not on the page");t.classList.add("alert--is-active"),t.classList.add("alert--is-minimized")}();var e=document.querySelectorAll(".add-to-cart");e&&e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),i("up"),function(e){if(!e.value)return console.log("i dont have a value"),atomic(window.location.origin+"/wp-admin/admin-ajax.php",{method:"POST",data:{action:"find_product_by_sku",sku:e.dataset.sku}}).then(function(e){console.log(e)});var n=e.value;atomic(window.location.origin+"/wp-admin/admin-ajax.php",{method:"POST",data:{action:"add_item_to_cart",product_id:n,qty:1}}).then(function(e){var t;200===e.xhr.status&&(console.log("successfully added "+n+" to cart"),atomic(window.location.origin+"/wp-admin/admin-ajax.php",{method:"POST",data:{action:"get_product_details",product_id:t}}).then(function(e){return JSON.parse(e.data.slice(0,-1))}).then(function(e){console.table(e),a.innerHTML=e.map(function(e,t){return e.salePrice?'<li class="alert--cart-item" data-productID="'+e.id+'" data-index="'+t+'"><span class="alert--cart-part"><span class="alert--cart-part-type"><a href="'+e.permalink+'">'+e.name+'</a></span><span class="alert--cart-part-number">'+e.sku+" - <del>$"+e.price+'</del> <span class="sale-price">$'+e.salePrice+'</span></span></span><span><label for="product_quantity">Qty: </label><input type="number" name="product_quantity" min="1" max="50" value="1"><button class="alert--remove-item" data-index="'+t+'">&times;</button></span></li>':'<li class="alert--cart-item" data-productID="'+e.id+'" data-index="'+t+'"><span class="alert--cart-part"><span class="alert--cart-part-type"><a href="'+e.permalink+'">'+e.name+'</a></span><span class="alert--cart-part-number">'+e.sku+" - $"+e.price+'</span></span><span><label for="product_quantity">Qty: </label><input type="number" name="product_quantity" min="1" max="50" value="1"><button class="alert--remove-item" data-index="'+t+'">&times;</button></span></li>'}).join("")}),setTimeout(function(){r()},200))})}(e.target)})})}else console.error("Ajax Cart Markup doesn't exist on the page. Add it!")}function i(e){var t=parseInt(o.querySelector(".product-count").innerText);e?("up"===e?++t:--t,o.querySelector("h4").innerHTML=1<t||0===t?'<span class="product-count">'+t+"</span> Products in Cart":'<span class="product-count">'+t+"</span> Product in Cart"):o.querySelector(".product-count").innerText=t}function r(e){t?(n=!n,t.classList.add("alert--is-active"),t.classList.contains("alert--is-minimized")&&t.classList.remove("alert--is-minimized")):console.error("Cart Markup is not on the page")}}(),function(){var e=document.querySelectorAll(".accordian--title");if(e)for(var t=0;t<e.length;t++)e[t].parentElement.classList.add("accordian--is-collapsed"),e[t].addEventListener("click",function(e){e.target.parentElement.classList.contains("accordian--is-collapsed")?e.target.parentElement.classList.remove("accordian--is-collapsed"):e.target.parentElement.classList.add("accordian--is-collapsed")})}(),function(){var e=document.querySelectorAll(".tooltip--toggle");if(e)for(var t=0;t<e.length;t++)e[t].nextElementSibling.classList.add("tooltip--is-hidden"),e[t].addEventListener("click",function(e){console.log(e.target.nextElementSibling.classList.toggle("tooltip--is-hidden"))})}(),function(){var e=document.querySelectorAll(".modal--close"),t=document.querySelectorAll("button[data-modal-launch]");if(e){for(var n=0;n<t.length;n++)t[n].addEventListener("click",function(e){var t=e.target.dataset.modalLaunch;if(document.querySelector(".modal[data-modal="+t+"]").classList.remove("modal--is-hidden"),document.body.classList.add("modal--is-open"),t="sign-up-form")for(var n=document.querySelectorAll('meta[property="article:tag"]'),a=0;a<n.length;a++)if(n[a].content.includes("John Deere")&&"John Deere Lawn Tractor"!==n[a].content){var o=n[a].content.split("John Deere ")[1];document.querySelector("#mce-MODEL").value=o.toUpperCase()}});for(n=0;n<e.length;n++)e[n].addEventListener("click",function(e){e.target.parentElement.parentElement.classList.add("modal--is-hidden"),document.body.classList.remove("modal--is-open")});document.addEventListener("keyup",function(e){if(27==e.keyCode){var t=document.querySelectorAll("div[data-modal]");document.body.classList.remove("modal--is-open");for(var n=0;n<t.length;n++)t[n].classList.add("modal--is-hidden")}})}}(),window.jQuery&&document.body.classList.contains("single-post")&&$("#mc-embedded-subscribe-form").on("submit",function(e){e.preventDefault();var t=$(this),n=t.find("#mce-EMAIL").val(),a=t.find("#mce-FNAME").val(),o=t.find("#mce-LNAME").val(),i=t.find("#mce-MODEL").val(),r=t.find("#mce-CURRENT_HR").val(),c=t.find("#mce-MOWING_TIM").val();c=c.split("(")[1].split(")")[0].toLowerCase(),$.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",error:function(e){},success:function(e){"success"!=e.result?$("#mc_embed_signup_scroll").prepend('<p style="border: 1px solid red; padding: 1rem;">'+e.msg+"</p>"):(t.hide(),$('div[data-modal="sign-up-form"] .modal-heading').text("Great "+a+"!").next().text("You will receive a confirmation email soon and we will keep you up to date on your needed parts.")),$.ajax({type:"POST",url:"https://api.flock.com/hooks/sendMessage/855832cd-bd79-436d-9f1f-dcf0020251dd",data:JSON.stringify({text:a+" "+o+" has a "+i+" with "+r+" hours and takes "+c+" to mow. Contact "+a+" at "+n}),dataType:"json",contentType:"application/json"})}})}),function(){var e=parseInt(window.getComputedStyle(document.querySelector("body")).getPropertyValue("font-size")),t=document.querySelector("#stickyNav");if(t){var n=window.scrollY,a=t.offsetTop,o=t.clientWidth;window.addEventListener("resize",function(){a=t.offsetTop,console.log(a)}),document.addEventListener("scroll",function(){n=window.scrollY,a-3*e<n?(t.classList.add("nav--is-sticky"),t.style.maxWidth=o+"px"):t.classList.remove("nav--is-sticky")})}}(),function(){var e=parseInt(window.getComputedStyle(document.querySelector("body")).getPropertyValue("font-size")),t=document.querySelector(".sticky--container"),n=document.querySelector(".sticky--element");if(t&&n&&!(window.innerWidth<960)){var a=t.parentElement.children;Array.from(a).forEach(function(e){e.classList.contains("sticky--container")||(a=e)});var o=a.offsetWidth,i=(t.offsetHeight,t.offsetTop),r=n.offsetWidth,c=(n.offsetHeight,window.scrollY);setTimeout(s,200),window.addEventListener("scroll",function(e){c=window.scrollY,s()})}function s(){i-3*e<c&&(n.classList.add("sticky--element--is-fixed"),n.style.maxWidth=r+"px",n.style.transform="translateY("+3*e+"px)",a.style.maxWidth=o+"px"),c<i-3*e&&(n.classList.remove("sticky--element--is-fixed"),n.style.transform="translateY(0)")}}(),function(){if(document.body.classList.contains("woocommerce-cart")){var e=document.querySelector(".gfp-cart--list"),t=document.querySelector('button[name="update_cart"]'),i=document.querySelector(".cart-subtotal td"),r=document.querySelector(".order-total td strong"),c=document.querySelectorAll(".cart-discount");t&&t.remove(),e.addEventListener("change",function(e){"INPUT"===e.target.tagName&&function(e){console.log("update line item price");var t=e.parentElement.parentElement.parentElement,n=t.querySelector(".regular-price"),a=t.querySelector(".sale-price");n.textContent=(n.dataset.price*e.value).toFixed(2),a&&(a.textContent="$"+(a.dataset.salePrice*e.value).toFixed(2));i.textContent="Updating...",r.textContent="Updating...",c.forEach(function(e){var t=e.dataset.discountType;"coupon-percent"===t&&(e.querySelector("td[data-title]").textContent="Updating...")}),atomic(window.location.origin+"/wp-admin/admin-ajax.php",{method:"POST",data:{action:"increment_item_in_cart",product_id:t.dataset.productid,qty:e.value}}).then(function(){o()})}(e.target)}),e.addEventListener("click",function(t){"remove"===t.target.className&&(t.preventDefault(),i.textContent="Updating...",r.textContent="Updating...",atomic(window.location.origin+"/wp-admin/admin-ajax.php",{method:"POST",data:{action:"remove_item_from_cart",product_id:t.target.dataset.product_id}}).then(function(e){console.log(e.data),t.target.parentElement.remove(),o()}))})}function o(){console.log("update cart totals"),atomic(window.location.origin+"/wp-admin/admin-ajax.php",{method:"POST",data:{action:"get_cart"}}).then(function(e){var t=Object.values(JSON.parse(e.data.slice(0,-1))),o=0,n=0;t.forEach(function(e){o+=e.line_subtotal,n+=e.line_total}),c.forEach(function(e){var t=e.dataset.discountType,n=e.dataset.discountAmount;if("coupon-percent"===t){var a=o*(n/100);e.querySelector("td[data-title]").textContent="-$"+a.toFixed(2)}}),i.textContent="$"+o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),r.textContent="$"+n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")})}}(),function(){var t=document.querySelector("#ship-to-different-address-checkbox"),n=document.querySelector(".shipping-details--is-hidden");t&&t.addEventListener("change",function(e){t.checked?n.classList.remove("shipping-details--is-hidden"):n.classList.add("shipping-details--is-hidden")})}(),console.log("hello from search-bar.js");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF0b21pYy5taW4uanMiLCJzaXRlLWhlYWRlci5qcyIsInNpbmdsZS1wb3N0LmpzIiwic2luZ2xlLXByb2R1Y3QuanMiLCJzaW5nbGUtY29tbWVudHMuanMiLCJwb3N0LWxpc3RpbmcuanMiLCJhamF4LWFkZC10by1jYXJ0LmpzIiwiYWNjb3JkaWFuLmpzIiwidG9vbHRpcC5qcyIsIm1vZGFsLmpzIiwic2lnbi11cC1mb3JtLmpzIiwic3RpY2t5LW5hdmlnYXRpb24uanMiLCJzdGlja3kuanMiLCJjYXJ0LmpzIiwiY2hlY2tvdXQuanMiLCJzZWFyY2gtYmFyLmpzIl0sIm5hbWVzIjpbInQiLCJlIiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsIm1vZHVsZSIsIndpbmRvdyIsImF0b21pYyIsImdsb2JhbCIsInRoaXMiLCJuIiwibWV0aG9kIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImRhdGEiLCJoZWFkZXJzIiwiQ29udGVudC10eXBlIiwicmVzcG9uc2VUeXBlIiwidGltZW91dCIsIndpdGhDcmVkZW50aWFscyIsInIiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJoYXNPd25Qcm9wZXJ0eSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImEiLCJYTUxIdHRwUmVxdWVzdCIsIm8iLCJQcm9taXNlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlIiwieGhyIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwicyIsInN0YXR1c1RleHQiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9udGltZW91dCIsInNlbmQiLCJ0ZXN0Iiwic3RyaW5naWZ5IiwicHVzaCIsImVuY29kZVVSSUNvbXBvbmVudCIsImpvaW4iLCJpIiwiY2FuY2VsIiwiYWJvcnQiLCJpbm5lcldpZHRoIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZU1lbnUiLCJoZWFkZXJIZWlnbnQiLCJvZmZzZXRIZWlnaHQiLCJzdHlsZSIsInRvcCIsImhlYWRlclRvcEJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2TGV2ZWxPbmUiLCJjbGFzc0xpc3QiLCJhZGQiLCJwcmV2ZW50RGVmYXVsdCIsInNlbGYiLCJ0YXJnZXQiLCJjaGlsZE1lbnUiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjb250YWlucyIsInJlbW92ZSIsInBhcmVudEVsZW1lbnQiLCJhbGxMZXZlbE9uZUxpbmtzIiwibGlua3MiLCJqIiwiYm9keSIsInRvZ2dsZSIsIm1vZGVsTW9kaWZlclNlbGVjdCIsImxvYyIsInZhbHVlIiwibG9jYXRpb24iLCJocmVmIiwiYWxsUm93cyIsImRhdGFzZXQiLCJwcm9kdWN0U29sZCIsImltZ0V4aXN0cyIsImltZ1BhdGgiLCJwcm9kdWN0SW1hZ2UiLCJwcm9kSW1nIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsInByb2RJbWdDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsIm1haW50ZW5hbmNlS2l0Q29udGFpbmVyIiwib25sb2FkIiwib2Zmc2V0VG9wIiwiYmFzZUZvbnRTaXplIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImZvbnRTaXplIiwicGFyc2VJbnQiLCJzcGxpdCIsInNjcm9sbFkiLCJTdHJpbmciLCJpbmNsdWRlcyIsInNlYXJjaCIsInN0YXJ0IiwiaW5kZXhPZiIsIkVsZW1lbnQiLCJDaGFyYWN0ZXJEYXRhIiwiRG9jdW1lbnRUeXBlIiwiZm9yRWFjaCIsIml0ZW0iLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIkFycmF5Iiwic2VhcmNoRWxlbWVudCIsImZyb21JbmRleCIsIlR5cGVFcnJvciIsImxlbiIsIngiLCJ5IiwiayIsIk1hdGgiLCJtYXgiLCJhYnMiLCJpc05hTiIsImZpdG1lbnRUZXh0RmlsdGVyIiwicHJvZHVjdEZpdG1lbnRUYWdzIiwidG9VcHBlckNhc2UiLCJ0ZXh0Q29udGVudCIsImNvbW1lbnRzQ29udGFpbmVyIiwiY29tbWVudHNSZXBseSIsImJ1dHRvbiIsImlubmVySFRNTCIsImlkIiwidmlzaWJpbGl0eSIsIm1heEhlaWdodCIsInBhZGRpbmciLCJtYXJnaW5Ub3AiLCJvcGFjaXR5IiwibG9hZFBvc3RzIiwib2Zmc2V0IiwicG9zdExpc3RpbmciLCJ1cmwiLCJvcmlnaW4iLCJjYXQiLCJjb25zb2xlIiwibG9nIiwiZGlzYWJsZWQiLCJ0aGVuIiwicG9zdE9iaiIsImRhdGUiLCJhdXRob3IiLCJjYXRlZ29yeSIsImNhdGVnb3JpZXMiLCJ0aXRsZSIsInJlbmRlcmVkIiwidGFncyIsImxpbmsiLCJkZXNjcmlwdGlvbiIsImV4Y2VycHQiLCJzbGljZSIsInBvc3RUaW1lIiwicG9zdFByZXR0eVRpbWUiLCJEYXRlIiwidG9EYXRlU3RyaW5nIiwicG9zdFRpdGxlIiwicG9zdENhdGVnb3J5IiwicG9zdExpbmsiLCJwb3N0RGVzY3JpcHRpb24iLCJjYXJkIiwiY2F0Y2giLCJlcnJvciIsInByb2R1Y3RMaXN0RmlsdGVycyIsImJyYW5kcyIsInNlbGVjdGVkQnJhbmRzIiwiYnJhbmQiLCJjaGVja2VkIiwicHJvZHVjdCIsImNhcnREcmF3ZXIiLCJjYXJ0T3BlbiIsImNhcnRMaXN0IiwiY2FydEhlYWRlciIsIm1hdGNoZXMiLCJ1cGRhdGVDYXJ0SGVhZGVyQ291bnQiLCJpbmRleCIsInBhcmVudCIsImFjdGlvbiIsInByb2R1Y3RfaWQiLCJwcm9kdWN0aWQiLCJjaGlsZHJlbiIsInJlbW92ZWZyb21DYXJ0IiwiZWxlbWVudENoYW5nZWQiLCJwcm9kdWN0SUQiLCJxdHkiLCJkaXNwbGF5Q2FydCIsImRpc3BsYXlNaW5pbWl6ZWRDYXJ0IiwiYWRkVG9DYXJ0QnV0dG9ucyIsImVsZW0iLCJza3UiLCJpdGVtQXJyYXkiLCJ0YWJsZSIsIm1hcCIsInNhbGVQcmljZSIsInBlcm1hbGluayIsIm5hbWUiLCJwcmljZSIsInNldFRpbWVvdXQiLCJhZGRUb0NhcnQiLCJkaXJlY3Rpb24iLCJjdXJyZW50Q291bnQiLCJpbm5lclRleHQiLCJpc01pbmltaXplZCIsImFjY29yZGlhbkJ1dHRvbnMiLCJhbGxUb29sVGlwcyIsImNsb3NlTW9kYWwiLCJsYXVuY2hNb2RhbCIsIm1vZGFsSUQiLCJtb2RhbExhdW5jaCIsInBhZ2VUYWdzIiwiY29udGVudCIsIm1vZGVsIiwia2V5Q29kZSIsImpRdWVyeSIsIiQiLCJvbiIsIiR0aGlzIiwiZW1haWwiLCJmaW5kIiwidmFsIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJtb2RlbE51bWJlciIsImN1cnJlbnRIb3VycyIsIm1vd2luZ1RpbWUiLCJ0b0xvd2VyQ2FzZSIsImFqYXgiLCJ0eXBlIiwiYXR0ciIsInNlcmlhbGl6ZSIsImNhY2hlIiwiZGF0YVR5cGUiLCJjb250ZW50VHlwZSIsImVyciIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJwcmVwZW5kIiwibXNnIiwiaGlkZSIsInRleHQiLCJuZXh0IiwiZ2V0UHJvcGVydHlWYWx1ZSIsIm5hdiIsIm5hdk9mZnNldCIsIm5hdldpZHRoIiwiY2xpZW50V2lkdGgiLCJtYXhXaWR0aCIsInN0aWNreUNvbnRhaW5lciIsInN0aWNreUVsZW1lbnQiLCJzdGlja3lTaWJsaW5nIiwiZnJvbSIsImNoaWxkIiwic3RpY2t5U2libGluZ1dpZHRoIiwib2Zmc2V0V2lkdGgiLCJzdGlja3lDb250YWluZXJUb3AiLCJzdGlja3lFbGVtZW50V2lkdGgiLCJ3YXRjaEZvclN0aWNreSIsInRyYW5zZm9ybSIsInVwZGF0ZUNhcnRCdXR0b24iLCJjYXJ0U3VidG90YWwiLCJjYXJ0VG90YWwiLCJjb3Vwb25zIiwidGFnTmFtZSIsIml0ZW1EZXRhaWxzIiwicmVndWxhclByaWNlIiwidG9GaXhlZCIsImNvdXBvbiIsImNvdXBvblR5cGUiLCJkaXNjb3VudFR5cGUiLCJ1cGRhdGVDYXJ0VG90YWxzIiwidXBkYXRlTGluZUl0ZW1QcmljZSIsImNsYXNzTmFtZSIsImNhcnQiLCJ2YWx1ZXMiLCJjYXJ0U3VidG90YWxBbW91bnQiLCJjYXJ0VG90YWxBbW91bnQiLCJsaW5lX3N1YnRvdGFsIiwibGluZV90b3RhbCIsImNvdXBvbkFtb3VudCIsImRpc2NvdW50QW1vdW50IiwiZGlzY291bnQiLCJyZXBsYWNlIiwic2hpcFRvRGlmZmVyZW50Iiwic2hpcERldGFpbHMiXSwibWFwcGluZ3MiOiJDQUNBLFNBQUFBLEVBQUFDLEdBQUEsbUJBQUFDLFFBQUFBLE9BQUFDLElBQUFELE9BQUEsR0FBQSxXQUFBLE9BQUFELEVBQUFELEtBQUEsaUJBQUFJLFFBQUFDLE9BQUFELFFBQUFILEVBQUFELEdBQUFNLE9BQUFDLE9BQUFOLEVBQUFELEdBQUEsQ0FBQSxvQkFBQVEsT0FBQUEsT0FBQSxvQkFBQUYsT0FBQUEsT0FBQUcsS0FBQSxTQUFBVCxHQUFBLGFBQUEsSUFBQUMsRUFBQVMsRUFBQSxDQUFBQyxPQUFBLE1BQUFDLFNBQUEsS0FBQUMsU0FBQSxLQUFBQyxLQUFBLEdBQUFDLFFBQUEsQ0FBQUMsZUFBQSxxQ0FBQUMsYUFBQSxPQUFBQyxRQUFBLEtBQUFDLGlCQUFBLEdBQUFDLEVBQUEsV0FBQSxJQUFBLElBQUFwQixFQUFBLEdBQUFDLEVBQUEsRUFBQUEsRUFBQW9CLFVBQUFDLE9BQUFyQixJQUFBLEVBQUEsU0FBQUEsR0FBQSxJQUFBLElBQUFTLEtBQUFULEVBQUFBLEVBQUFzQixlQUFBYixLQUFBLG9CQUFBYyxPQUFBQyxVQUFBQyxTQUFBQyxLQUFBMUIsRUFBQVMsSUFBQVYsRUFBQVUsR0FBQVUsRUFBQXBCLEVBQUFVLEdBQUFULEVBQUFTLElBQUFWLEVBQUFVLEdBQUFULEVBQUFTLElBQUEsQ0FBQVcsVUFBQXBCLElBQUEsT0FBQUQsR0FBQTRCLEVBQUEsU0FBQTVCLEdBQUEsSUFBQVUsRUFBQSxJQUFBbUIsZUFBQUMsRUFBQSxJQUFBQyxRQUFBLFNBQUFELEVBQUFWLEdBQUEsSUFBQSxJQUFBUSxLQUFBbEIsRUFBQXNCLG1CQUFBLFdBQUEsSUFBQXRCLEVBQUF1QixhQUFBLEtBQUF2QixFQUFBd0IsUUFBQXhCLEVB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b21pYyB2NC4yLjEgfCAoYykgMjAxOCBDaHJpcyBGZXJkaW5hbmRpIHwgTUlUIExpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vY2ZlcmRpbmFuZGkvYXRvbWljICovXG4hKGZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSwoZnVuY3Rpb24oKXtyZXR1cm4gZSh0KX0pKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHQpOndpbmRvdy5hdG9taWM9ZSh0KX0pKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlLG49e21ldGhvZDpcIkdFVFwiLHVzZXJuYW1lOm51bGwscGFzc3dvcmQ6bnVsbCxkYXRhOnt9LGhlYWRlcnM6e1wiQ29udGVudC10eXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn0scmVzcG9uc2VUeXBlOlwidGV4dFwiLHRpbWVvdXQ6bnVsbCx3aXRoQ3JlZGVudGlhbHM6ITF9LG89ZnVuY3Rpb24oKXtyZXR1cm5cIlhNTEh0dHBSZXF1ZXN0XCJpbiB0JiZcIkpTT05cImluIHQmJlwiUHJvbWlzZVwiaW4gdH0scj1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdOyEoZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKFwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZVtuXSk/dFtuXT1yKHRbbl0sZVtuXSk6dFtuXT1lW25dKX0pKG4pfXJldHVybiB0fSxzPWZ1bmN0aW9uKHQpe3ZhciBuO2lmKFwidGV4dFwiIT09ZS5yZXNwb25zZVR5cGUmJlwiXCIhPT1lLnJlc3BvbnNlVHlwZSlyZXR1cm57ZGF0YTp0LnJlc3BvbnNlLHhocjp0fTt0cnl7bj1KU09OLnBhcnNlKHQucmVzcG9uc2VUZXh0KX1jYXRjaChlKXtuPXQucmVzcG9uc2VUZXh0fXJldHVybntkYXRhOm4seGhyOnR9fSxpPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcIltvYmplY3QgRm9ybURhdGFdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIHQ7aWYoL2FwcGxpY2F0aW9uXFwvanNvbi9pLnRlc3QoZS5oZWFkZXJzW1wiQ29udGVudC10eXBlXCJdKXx8XCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBKU09OLnN0cmluZ2lmeSh0KTt2YXIgbj1bXTtmb3IodmFyIG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiZuLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KG8pK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0W29dKSk7cmV0dXJuIG4uam9pbihcIiZcIil9LGE9ZnVuY3Rpb24odCl7dmFyIG49bmV3IFhNTEh0dHBSZXF1ZXN0LG89bmV3IFByb21pc2UoZnVuY3Rpb24obyxyKXtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1uLnJlYWR5U3RhdGUmJihuLnN0YXR1cz49MjAwJiZuLnN0YXR1czwzMDA/byhzKG4pKTpyKHtzdGF0dXM6bi5zdGF0dXMsc3RhdHVzVGV4dDpuLnN0YXR1c1RleHR9KSl9LG4ub3BlbihlLm1ldGhvZCx0LCEwLGUudXNlcm5hbWUsZS5wYXNzd29yZCksbi5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGU7Zm9yKHZhciBhIGluIGUuaGVhZGVycyllLmhlYWRlcnMuaGFzT3duUHJvcGVydHkoYSkmJm4uc2V0UmVxdWVzdEhlYWRlcihhLGUuaGVhZGVyc1thXSk7ZS50aW1lb3V0JiYobi50aW1lb3V0PWUudGltZW91dCxuLm9udGltZW91dD1mdW5jdGlvbih0KXtyKHtzdGF0dXM6NDA4LHN0YXR1c1RleHQ6XCJSZXF1ZXN0IHRpbWVvdXRcIn0pfSksZS53aXRoQ3JlZGVudGlhbHMmJihuLndpdGhDcmVkZW50aWFscz0hMCksbi5zZW5kKGkoZS5kYXRhKSl9KTtyZXR1cm4gby5jYW5jZWw9ZnVuY3Rpb24oKXtuLmFib3J0KCl9LG99O3JldHVybiBmdW5jdGlvbih0LHMpe2lmKCFvKCkpdGhyb3dcIkF0b21pYzogVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIG1ldGhvZHMgdXNlZCBpbiB0aGlzIHBsdWdpbi5cIjtyZXR1cm4gZT1yKG4sc3x8e30pLGEodCl9fSkpOyIsImlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDEwODApIHtcbiAgICAvLyAkKCcubWVudS1pdGVtLS10b3AtbGV2ZWwgLnN1Yi1tZW51LS1sZXZlbC1vbmUgPiBsaTpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCdhY3RpdmUnKS5maW5kKCcuc3ViLW1lbnUtLWxldmVsLXR3bycpLmFkZENsYXNzKCdhY2NvcmRpYW4tb3BlbicpO1xuICAgIC8vIGFsZXJ0KCd0YWQnKTtcbn1cblxuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24jaGFtYnVyZ2VyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gIHRvZ2dsZU1lbnUoKTtcbiAgdmFyIGhlYWRlckhlaWdudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaXRlLWhlYWRlcicpLm9mZnNldEhlaWdodDtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24tLWxldmVsLXplcm8nKS5zdHlsZS50b3AgPSBoZWFkZXJIZWlnbnQgKyAncHgnO1xufSk7XG5cbnZhciBoZWFkZXJUb3BCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmlnYXRpb24tLWJ1dHRvbicpO1xudmFyIG5hdkxldmVsT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmlnYXRpb24tLWxldmVsLW9uZScpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IG5hdkxldmVsT25lLmxlbmd0aDsgaSsrKSB7XG4gIG5hdkxldmVsT25lW2ldLnF1ZXJ5U2VsZWN0b3IoJ2xpOmZpcnN0LWNoaWxkIGEnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbn1cblxuZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJUb3BCdXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gIGhlYWRlclRvcEJ1dHRvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgIHZhciBjaGlsZE1lbnUgPSBzZWxmLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lJyk7XG4gICAgaWYgKGNoaWxkTWVudS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICBjaGlsZE1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBzZWxmLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgc2VsZi5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBzZWxmLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKHNlbGYucGFyZW50RWxlbWVudCk7XG4gICAgLy8gc2VsZi5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH0pO1xufVxuXG52YXIgYWxsTGV2ZWxPbmVMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUgPiBsaSA+IGEnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxMZXZlbE9uZUxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gIGFsbExldmVsT25lTGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUgPiBsaSA+IGEnKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmtzLmxlbmd0aDsgaisrKSB7XG4gICAgICBsaW5rc1tqXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gICAgLy8gaWYgKGFsbExldmVsT25lTGlua3MuY2xhc3NMaXN0LmNvbnRhaW5zKCcnKSkge31cbiAgICAvLyBhbGxMZXZlbE9uZUxpbmtzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUgPiBsaSA+IGEnKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVNZW51KCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS1vcGVuJyk7XG4gICAgdmFyIG1lbnVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGFtYnVyZ2VyJyk7XG4gICAgbWVudUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbn0iLCIoZnVuY3Rpb24oKSB7XG5cbiAgLy8gaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaW5nbGUtcG9zdCcpKSB7XG5cbiAgLy8gICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LWl0ZW0nKSkge1xuICAvLyAgICAgdmFyIGFsZXJ0Q2FydEl0ZW1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1pdGVtJykuaW5uZXJIVE1MO1xuICAvLyAgIH1cbiAgLy8gICB2YXIgYWRkZWRQcm9kdWN0cyA9IFtdO1xuXG4gIC8vICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1saXN0JykpIHtcbiAgLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1saXN0JykuaW5uZXJIVE1MID0gJyc7XG4gIC8vICAgfVxuXG4gIC8vIH1cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgTUlOSVpFUyBBTEVSVCBPTiBQQUdFIExPQUQgSUYgQ09PS0lFIFBSRVNFTlRcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIC8vIGlmIChkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAvLyAgIHJldHVybiBpdGVtLmluZGV4T2YoJ2NhcnRVUkw9JykgPj0gMFxuICAvLyB9KS5sZW5ndGgpIHtcbiAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWFkZC10by1jYXJ0JykuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLW1pbmltaXplZCcpO1xuICAvLyB9XG5cbiAgXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIENIQU5HRSBQQUdFIFdIRU4gU0VMRUNURUQgTU9ERUwgTU9ESUZJRVJcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgdmFyIG1vZGVsTW9kaWZlclNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RlbE1vZGlmaWVycycpO1xuICB2YXIgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluX2NvbnRlbnQnKTtcblxuICBpZiAobW9kZWxNb2RpZmVyU2VsZWN0KSB7XG4gICAgbW9kZWxNb2RpZmVyU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBsb2MgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbG9jO1xuICAgIH0pO1xuICB9XG5cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFNIT1cgUFJPRFVDVCBJTUFHRSBPTiBIT1ZFUlxuICBAbm90ZSA9IE9ubHkgcnVucyBvbiBzY3JlZW4gbGFyZ2VyIHRoYW4gMTA4MHB4XG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaW5nbGUtcG9zdCcpKSB7XG4gICAgdmFyIGFsbFJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0YWJsZSB0cicpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxSb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhbGxSb3dzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICgod2luZG93LmlubmVyV2lkdGggPCAxMDgwKSB8fCAoZS50YXJnZXQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQnKS5kYXRhc2V0LnByb2R1Y3RTb2xkID09PSAnZmFsc2UnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbWdFeGlzdHMgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCd0ZDpmaXJzdC1jaGlsZCAucHJvZHVjdC1pbWFnZS1jb250YWluZXInKTtcbiAgICAgICAgaWYgKGltZ0V4aXN0cykge1xuICAgICAgICAgIGltZ0V4aXN0cy5jbGFzc0xpc3QucmVtb3ZlKCdwcm9kdWN0LWltYWdlLS1pcy1oaWRkZW4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW1nUGF0aCA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJykuZGF0YXNldC5wcm9kdWN0SW1hZ2U7XG4gICAgICAgIHZhciBwcm9kSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIHByb2RJbWcuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1pbWFnZScpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHR5cGVvZiBpbWdQYXRoID09PSAndW5kZWZpbmVkJykgeyBcbiAgICAgICAgICBwcm9kSW1nLnNyYyA9ICdodHRwczovL2NkbjMudm9sdXNpb24uY29tL3l4aGZlLmRmcWV3L3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltYWdlcy9ub3Bob3RvLmdpZic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvZEltZy5zcmMgPSBpbWdQYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb2RJbWdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcHJvZEltZ0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlLWNvbnRhaW5lcicpO1xuICAgICAgICBwcm9kSW1nQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2RJbWcpO1xuICAgICAgICBcbiAgICAgICAgdmFyIHRhYmxlQ2VsbCA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJykuYXBwZW5kQ2hpbGQocHJvZEltZ0NvbnRhaW5lcik7XG4gICAgICAgIFxuICAgICAgfSk7XG5cbiAgICAgIGFsbFJvd3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS50YXJnZXQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQgLnByb2R1Y3QtaW1hZ2UtY29udGFpbmVyJykuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1pbWFnZS0taXMtaGlkZGVuJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuXG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICBBRERJTkcgUFJPRFVDVCBUTyBDQVJUXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gIC8vICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICBcbiAgLy8gICBpZiAoc2VsZi5jbGFzc0xpc3QuY29udGFpbnMoJ2FkZC10by1jYXJ0JykpIHtcblxuICAvLyAgICAgdmFyIGFsZXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1hZGQtdG8tY2FydCcpO1xuICAvLyAgICAgdmFyIHBhcnRUeXBlID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJykuaW5uZXJUZXh0O1xuICAvLyAgICAgdmFyIHBhcnROdW1iZXIgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigndGQ6bnRoLWNoaWxkKDIpJykuaW5uZXJUZXh0O1xuXG4gIC8vICAgICBpZiAoYWRkZWRQcm9kdWN0cy5pbmNsdWRlcyhwYXJ0TnVtYmVyKSkge1xuICAvLyAgICAgICByZXR1cm47XG4gIC8vICAgICB9XG5cbiAgLy8gICAgIGFkZGVkUHJvZHVjdHMucHVzaChwYXJ0TnVtYmVyKTtcblxuICAvLyAgICAgdmFyIGFkZEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnbGknICk7XG4gIC8vICAgICBhZGRJdGVtLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1jYXJ0LWl0ZW0nKTtcbiAgLy8gICAgIGFkZEl0ZW0uZGF0YXNldC5wcm9kdWN0Y29kZSA9IHBhcnROdW1iZXI7XG4gIC8vICAgICBhZGRJdGVtLmlubmVySFRNTCA9IGFsZXJ0Q2FydEl0ZW1UZW1wbGF0ZTtcblxuICAvLyAgICAgYWRkSXRlbS5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtcGFydC1udW1iZXInKS5pbm5lclRleHQgPSBwYXJ0TnVtYmVyO1xuICAvLyAgICAgYWRkSXRlbS5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtcGFydC10eXBlJykuaW5uZXJUZXh0ID0gcGFydFR5cGU7XG5cbiAgLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1saXN0JykuYXBwZW5kQ2hpbGQoYWRkSXRlbSk7XG4gICAgICBcblxuICAvLyAgICAgYWxlcnQuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLWFjdGl2ZScpO1xuXG4gIC8vICAgICBpZiAoYWxlcnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbGVydC0taXMtbWluaW1pemVkJykpIHtcbiAgLy8gICAgICAgYWxlcnQuY2xhc3NMaXN0LnJlbW92ZSgnYWxlcnQtLWlzLW1pbmltaXplZCcpXG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyB9KTtcblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFRPR0dMRSBDQVJUIEFMRVJUXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbG9zZUFsZXJ0JykpIHtcbiAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvc2VBbGVydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAvLyAgICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgLy8gICAgIHZhciBjb250YWluZXIgPSBzZWxmLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgLy8gICAgIHZhciBjbGFzc2VzID0gY29udGFpbmVyLmNsYXNzTGlzdC50b1N0cmluZygpO1xuXG4gIC8vICAgICBpZiAoY2xhc3Nlcy5pbmNsdWRlcygnYWxlcnQtLWlzLW1pbmltaXplZCcpICYmIGNsYXNzZXMuaW5jbHVkZXMoJ2FsZXJ0LS1pcy1hY3RpdmUnKSkge1xuICAvLyAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWxlcnQtLWlzLW1pbmltaXplZCcpO1xuICAvLyAgICAgfSBlbHNlIHtcbiAgLy8gICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKTtcbiAgLy8gICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1hY3RpdmUnKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9KTtcbiAgLy8gfVxuXG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICBSRU1PVkUgSVRFTSBGUk9NIENBUlRcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgLy8gICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAvLyAgIGlmIChzZWxmLmNsYXNzTGlzdC5jb250YWlucygnYWxlcnQtLXJlbW92ZS1pdGVtJykpIHtcbiAgLy8gICAgIHZhciBwcm9kdWN0Q29kZSA9IHNlbGYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQucHJvZHVjdGNvZGU7XG4gIC8vICAgICB2YXIgaW5kZXggPSBhZGRlZFByb2R1Y3RzLmluZGV4T2YocHJvZHVjdENvZGUpO1xuICAvLyAgICAgYWRkZWRQcm9kdWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAvLyAgICAgc2VsZi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7IFxuICAvLyAgIH1cbiAgLy8gfSk7XG5cblxuXG4gIC8vIGZ1bmN0aW9uIGJ1aWxkQ2FydFN0cmluZygpIHtcbiAgLy8gICB2YXIgaW5pdFVSTCA9ICdodHRwczovL3d3dy5ncmVlbmZhcm1wYXJ0cy5jb20vc2hvcHBpbmdjYXJ0LmFzcD8nO1xuICAvLyAgIHZhciBhbGxBZGRlZFByb2R1Y3RzID0gW107XG4gIC8vICAgdmFyIGFsbEFkZGVkSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWxlcnQtLWNhcnQtaXRlbScpO1xuXG4gIC8vICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxBZGRlZEl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gIC8vICAgICB2YXIgcHJvZHVjdENvZGUgPSBhbGxBZGRlZEl0ZW1zW2ldLmRhdGFzZXQucHJvZHVjdGNvZGU7XG4gIC8vICAgICB2YXIgcHJvZHVjdFF0eSA9IGFsbEFkZGVkSXRlbXNbaV0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInByb2R1Y3RfcXVhbnRpdHlcIl0nKS52YWx1ZTtcbiAgLy8gICAgIGFsbEFkZGVkUHJvZHVjdHMucHVzaCh7XG4gIC8vICAgICAgIHByb2R1Y3RDb2RlOiBwcm9kdWN0Q29kZSxcbiAgLy8gICAgICAgcHJvZHVjdFF0eTogcHJvZHVjdFF0eVxuICAvLyAgICAgfSk7XG4gIC8vICAgfVxuXG4gIC8vICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxBZGRlZFByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XG4gIC8vICAgICBpZiAoaSA8IDEpIHtcbiAgLy8gICAgICAgaW5pdFVSTCA9IGluaXRVUkwgKyAncHJvZHVjdGNvZGU9JyArIGFsbEFkZGVkUHJvZHVjdHNbaV0ucHJvZHVjdENvZGUgKyAnJlFUWS4nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0Q29kZSArICc9JyArIGFsbEFkZGVkUHJvZHVjdHNbaV0ucHJvZHVjdFF0eTtcbiAgLy8gICAgIH0gZWxzZSB7XG4gIC8vICAgICAgIGluaXRVUkwgPSBpbml0VVJMICsgJyZwcm9kdWN0Y29kZT0nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0Q29kZSArICcmUVRZLicgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RDb2RlICsgJz0nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0UXR5O1xuICAvLyAgICAgfVxuICAvLyAgIH1cblxuICAvLyAgIHJldHVybiBpbml0VVJMO1xuICAvLyB9XG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIENIRUNLT1VUIC0gU2VuZCBwcm9kdWN0cyB0byBWb2x1c2lvblxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXRDaGVja291dCcpICYmIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaW5nbGUtcG9zdCcpKSB7XG4gIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1Ym1pdENoZWNrb3V0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gIC8vICAgICAvLyBjYXJ0IHVybCB0ZW1wbGF0ZTogaHR0cHM6Ly93d3cuZ3JlZW5mYXJtcGFydHMuY29tL3Nob3BwaW5nY2FydC5hc3A/cHJvZHVjdGNvZGU9amR6ZzkwMCZRVFkuamR6ZzkwMD01XG4gIC8vICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIC8vICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGJ1aWxkQ2FydFN0cmluZygpO1xuICAvLyAgIH0pO1xuICAvLyB9XG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgU0FWRSBGT1IgTEFURVIgLSBTZW5kIHByb2R1Y3RzIHRvIFZvbHVzaW9uIGFuZCBjb29raWVcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlRm9yTGF0ZXInKSkge1xuICAvLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlRm9yTGF0ZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgLy8gICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgLy8gICAgIGRvY3VtZW50LmNvb2tpZSA9ICdjYXJ0VVJMPScgKyBidWlsZENhcnRTdHJpbmcoKTtcbiAgLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tYWRkLXRvLWNhcnQnKS5jbGFzc0xpc3QuYWRkKCdhbGVydC0taXMtbWluaW1pemVkJyk7XG4gIC8vICAgfSk7XG4gIC8vIH1cblxuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBTVElDS1kgTUFJTlRFTkFOQ0UgS0lUIEJVWSBOT1dcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG5cbiAgdmFyIG1haW50ZW5hbmNlS2l0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW50ZW5hbmNlLWtpdC1jb250YWluZXInKTtcbiAgaWYgKG1haW50ZW5hbmNlS2l0Q29udGFpbmVyICYmIHdpbmRvdy5pbm5lcldpZHRoID4gMTA4MCkge1xuICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvZmZzZXRUb3AgPSBtYWludGVuYW5jZUtpdENvbnRhaW5lci5vZmZzZXRUb3A7XG4gICAgICB2YXIgYmFzZUZvbnRTaXplID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSwgbnVsbCkuZm9udFNpemU7XG4gICAgICBiYXNlRm9udFNpemUgPSBwYXJzZUludChiYXNlRm9udFNpemUuc3BsaXQoJ3B4JylbMF0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAod2luZG93LnNjcm9sbFkgPiAob2Zmc2V0VG9wIC0gKGJhc2VGb250U2l6ZSAqIDMpKSkge1xuICAgICAgICAgIG1haW50ZW5hbmNlS2l0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21haW50ZW5hbmNlLWtpdC1jb250YWluZXItLWlzLWZpeGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZIDwgKG9mZnNldFRvcCAtIChiYXNlRm9udFNpemUgKiAzKSkpIHtcbiAgICAgICAgICBtYWludGVuYW5jZUtpdENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYWludGVuYW5jZS1raXQtY29udGFpbmVyLS1pcy1maXhlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuXG5cbn0pKCk7XG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5QT0xZRklMTCBGT1Igc3RyLmluY2x1ZGVzKClcbkBMSU5LIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9pbmNsdWRlc1xuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHNlYXJjaCwgc3RhcnQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHR5cGVvZiBzdGFydCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgXG4gICAgaWYgKHN0YXJ0ICsgc2VhcmNoLmxlbmd0aCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoLCBzdGFydCkgIT09IC0xO1xuICAgIH1cbiAgfTtcbn1cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5QT0xZRklMTCBGT1Igbm9kZS5yZW1vdmUoKVxuQExJTksgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NoaWxkTm9kZS9yZW1vdmVcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbihmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ3JlbW92ZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdGVtLCAncmVtb3ZlJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSAhPT0gbnVsbClcbiAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSkoW0VsZW1lbnQucHJvdG90eXBlLCBDaGFyYWN0ZXJEYXRhLnByb3RvdHlwZSwgRG9jdW1lbnRUeXBlLnByb3RvdHlwZV0pO1xuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuUE9MWUZJTEwgRk9SIGFycmF5LmluY2x1ZGVzXG5ATElOSyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmNsdWRlc1xuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKCFBcnJheS5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2luY2x1ZGVzJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbihzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcblxuICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInRoaXNcIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIDEuIExldCBPIGJlID8gVG9PYmplY3QodGhpcyB2YWx1ZSkuXG4gICAgICB2YXIgbyA9IE9iamVjdCh0aGlzKTtcblxuICAgICAgLy8gMi4gTGV0IGxlbiBiZSA/IFRvTGVuZ3RoKD8gR2V0KE8sIFwibGVuZ3RoXCIpKS5cbiAgICAgIHZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDtcblxuICAgICAgLy8gMy4gSWYgbGVuIGlzIDAsIHJldHVybiBmYWxzZS5cbiAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBMZXQgbiBiZSA/IFRvSW50ZWdlcihmcm9tSW5kZXgpLlxuICAgICAgLy8gICAgKElmIGZyb21JbmRleCBpcyB1bmRlZmluZWQsIHRoaXMgc3RlcCBwcm9kdWNlcyB0aGUgdmFsdWUgMC4pXG4gICAgICB2YXIgbiA9IGZyb21JbmRleCB8IDA7XG5cbiAgICAgIC8vIDUuIElmIG4g4omlIDAsIHRoZW5cbiAgICAgIC8vICBhLiBMZXQgayBiZSBuLlxuICAgICAgLy8gNi4gRWxzZSBuIDwgMCxcbiAgICAgIC8vICBhLiBMZXQgayBiZSBsZW4gKyBuLlxuICAgICAgLy8gIGIuIElmIGsgPCAwLCBsZXQgayBiZSAwLlxuICAgICAgdmFyIGsgPSBNYXRoLm1heChuID49IDAgPyBuIDogbGVuIC0gTWF0aC5hYnMobiksIDApO1xuXG4gICAgICBmdW5jdGlvbiBzYW1lVmFsdWVaZXJvKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IHkgfHwgKHR5cGVvZiB4ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeSA9PT0gJ251bWJlcicgJiYgaXNOYU4oeCkgJiYgaXNOYU4oeSkpO1xuICAgICAgfVxuXG4gICAgICAvLyA3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW5cbiAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgIC8vIGEuIExldCBlbGVtZW50SyBiZSB0aGUgcmVzdWx0IG9mID8gR2V0KE8sICEgVG9TdHJpbmcoaykpLlxuICAgICAgICAvLyBiLiBJZiBTYW1lVmFsdWVaZXJvKHNlYXJjaEVsZW1lbnQsIGVsZW1lbnRLKSBpcyB0cnVlLCByZXR1cm4gdHJ1ZS5cbiAgICAgICAgaWYgKHNhbWVWYWx1ZVplcm8ob1trXSwgc2VhcmNoRWxlbWVudCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjLiBJbmNyZWFzZSBrIGJ5IDEuIFxuICAgICAgICBrKys7XG4gICAgICB9XG5cbiAgICAgIC8vIDguIFJldHVybiBmYWxzZVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59IiwiKGZ1bmN0aW9uKCkge1xuICBcbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICBGSVRNRU5UIFRFWFQgRklMVEVSXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cblxuICAvLyBHZXQgVmFyc1xuICB2YXIgZml0bWVudFRleHRGaWx0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZml0bWVudC10ZXh0LWZpbHRlcicpLFxuICAgICAgcHJvZHVjdEZpdG1lbnRUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNpbmdsZS0tcGFydC1maXRtZW50LWxpc3QgYScpO1xuXG4gIC8vIENoZWNrIHRoYXQgcGFnZSBoYXMgdGV4dCBmaWx0ZXJcbiAgaWYgKGZpdG1lbnRUZXh0RmlsdGVyKSB7XG4gICAgZml0bWVudFRleHRGaWx0ZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgdmFsdWUgPSBlLnRhcmdldC52YWx1ZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgLy8gTG9vcCBvdmVyIGFsbCBmaXRtZW50IGFuZCBhZGQvcmVtb3ZlIGhpZGRlbiBjbGFzc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0Rml0bWVudFRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcHJvZHVjdEZpdG1lbnRUYWdzW2ldLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGlmIChwcm9kdWN0Rml0bWVudFRhZ3NbaV0udGV4dENvbnRlbnQuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgICAgcHJvZHVjdEZpdG1lbnRUYWdzW2ldLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgQUREIFBST0RVQ1QgVE8gQ0FSVFxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG5cbiAgLy8gR2V0IFZhcnNcbiAgLy8gdmFyIHByb2R1Y3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpbmdsZS1wcm9kdWN0LS1hZGQtdG8tY2FydC1mb3JtJyksXG4gIC8vICAgICBhZGRQcm9kdWN0VG9DYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpbmdsZS1wcm9kdWN0LS1hZGQtdG8tY2FydCcpO1xuICBcbiAgLy8gaWYgKGFkZFByb2R1Y3RUb0NhcnQpIHtcblxuICAvLyAgIGFkZFByb2R1Y3RUb0NhcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gIC8vICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIC8vICAgICB2YXIgYWRkVG9DYXJ0RHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1hZGQtdG8tY2FydCcpO1xuICAgICAgXG4gIC8vICAgICBhdG9taWMod2luZG93LmxvY2F0aW9uLm9yaWdpbiArICc/YWRkLXRvLWNhcnQ9JyArIGUudGFyZ2V0LnZhbHVlKVxuICAvLyAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAvLyAgICAgICAgIGFkZFRvQ2FydERyYXdlci5jbGFzc0xpc3QuYWRkKCdhbGVydC0taXMtYWN0aXZlJyk7XG4gICAgICAgICAgXG4gIC8vICAgICAgICAgYWRkUHJvZHVjdFRvQ2FydChlLnRhcmdldC52YWx1ZSk7XG5cbiAgLy8gICAgICAgICBmdW5jdGlvbiBhZGRQcm9kdWN0VG9DYXJ0KHByb2R1Y3RJRCkge1xuXG4gIC8vICAgICAgICAgICAvLyBDaGVjayBmb3IgY2FydCBpdGVtIHRlbXBsYXRlIGFuZCBjb3B5IHRoZSBzdHJ1Y3R1cmVcbiAgLy8gICAgICAgICAgIHZhciBhbGVydENhcnRJdGVtVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtaXRlbScpLmlubmVySFRNTDtcblxuICAvLyAgICAgICAgICAgdmFyIGFkZEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnbGknICk7XG4gIC8vICAgICAgICAgICBhZGRJdGVtLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1jYXJ0LWl0ZW0nKTtcbiAgLy8gICAgICAgICAgIGFkZEl0ZW0uZGF0YXNldC5wcm9kdWN0SUQgPSBwcm9kdWN0SUQ7XG4gIC8vICAgICAgICAgICBhZGRJdGVtLmlubmVySFRNTCA9IGFsZXJ0Q2FydEl0ZW1UZW1wbGF0ZTtcblxuICAvLyAgICAgICAgICAgdmFyIHByb2R1Y3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVudHJ5LXRpdGxlJykuaW5uZXJUZXh0O1xuICAvLyAgICAgICAgICAgdmFyIHByb2R1Y3RTS1UgPSBwcm9kdWN0TmFtZS5zcGxpdCgnICcpLnNwbGljZSgtMSwgMSk7XG4gIC8vICAgICAgICAgICB2YXIgY29uc29saWRhdGVkUHJvZHVjdE5hbWUgPSBwcm9kdWN0TmFtZS5yZXBsYWNlKCdKb2huIERlZXJlICcsICcnKS5yZXBsYWNlKHByb2R1Y3RTS1UsICcnKTtcblxuICAvLyAgICAgICAgICAgYWRkSXRlbS5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtcGFydC1udW1iZXInKS5pbm5lclRleHQgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKVsyXS50b1VwcGVyQ2FzZSgpO1xuICAvLyAgICAgICAgICAgYWRkSXRlbS5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtcGFydC10eXBlJykuaW5uZXJUZXh0ID0gY29uc29saWRhdGVkUHJvZHVjdE5hbWU7XG5cbiAgLy8gICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1saXN0JykuYXBwZW5kQ2hpbGQoYWRkSXRlbSk7XG4gIC8vICAgICAgICAgfVxuICAvLyAgICAgICB9KVxuXG4gIC8vICAgfSlcbiAgLy8gfVxuXG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjb21tZW50c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaW5nbGUtY29tbWVudHMnKTtcbiAgdmFyIGNvbW1lbnRzUmVwbHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzcG9uZCcpO1xuICB2YXIgY29tbWVudEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29tbWVudGZvcm0nKTtcblxuXG4gIGlmIChjb21tZW50c1JlcGx5KSB7XG4gICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYnV0dG9uLmlubmVySFRNTCA9ICdBZGQgQ29tbWVudCc7XG4gICAgYnV0dG9uLmlkID0gJ2FkZENvbW1lbnQnO1xuXG4gICAgY29tbWVudHNSZXBseS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgY29tbWVudHNSZXBseS5zdHlsZS5tYXhIZWlnaHQgPSAnMHB4JztcbiAgICBjb21tZW50c1JlcGx5LnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICBjb21tZW50c1JlcGx5LnN0eWxlLm1hcmdpblRvcCA9ICcwcHgnO1xuXG4gICAgY29tbWVudHNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGRDb21tZW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgICAgc2VsZi5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgY29tbWVudHNSZXBseS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgY29tbWVudHNSZXBseS5zdHlsZS5tYXhIZWlnaHQgPSAnMTAwMHB4JztcbiAgICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUucGFkZGluZyA9ICcxcmVtJztcbiAgICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUubWFyZ2luVG9wID0gJzNyZW0nO1xuICAgIH0pXG5cbiAgfVxuXG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBsb2FkUG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9hZE1vcmVQb3N0cycpO1xuXG4gIGlmIChsb2FkUG9zdHMpIHtcbiAgICAgIHZhciBvZmZzZXQgPSAxO1xuICAgICAgdmFyIHBvc3RDb3VudCA9IDEwO1xuICAgICAgdmFyIHBvc3RMaXN0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvc3QtbGlzdGluZy0tbGlzdCcpO1xuXG4gICAgICBsb2FkUG9zdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL3dwLWpzb24vd3AvdjIvcG9zdHM/b2Zmc2V0PScgKyAob2Zmc2V0ICogcG9zdENvdW50KTtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhdGVnb3J5JykpIHtcbiAgICAgICAgICAgIHZhciBjYXQgPSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhdCk7XG4gICAgICAgICAgICAvLyB1cmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy93cC1qc29uL3dwL3YyL3Bvc3RzP29mZnNldD0nICsgKG9mZnNldCAqIHBvc3RDb3VudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbG9hZFBvc3RzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBsb2FkUG9zdHMuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICBcbiAgICAgICAgICBhdG9taWModXJsKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHZhciBwb3N0T2JqID0gW107XG4gICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwb3N0T2JqLnB1c2goe1xuICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0YVtpXS5kYXRlLFxuICAgICAgICAgICAgICAgICAgYXV0aG9yOiBkYXRhW2ldLmF1dGhvcixcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBkYXRhW2ldLmNhdGVnb3JpZXNbMF0sXG4gICAgICAgICAgICAgICAgICB0aXRsZTogZGF0YVtpXS50aXRsZS5yZW5kZXJlZCxcbiAgICAgICAgICAgICAgICAgIHRhZ3M6IGRhdGFbaV0udGFncyxcbiAgICAgICAgICAgICAgICAgIGxpbms6IGRhdGFbaV0ubGluayxcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhW2ldLmV4Y2VycHQucmVuZGVyZWQuc2xpY2UoMywgLTUpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbG9hZFBvc3RzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGxvYWRQb3N0cy5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoIDwgMTApIHtcbiAgICAgICAgICAgICAgICBsb2FkUG9zdHMudGV4dENvbnRlbnQgPSAnQWxsIFBvc3RzIExvYWRlZCc7XG4gICAgICAgICAgICAgICAgbG9hZFBvc3RzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb2FkUG9zdHMuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBwb3N0T2JqO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zdE9iaikge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc3RPYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24gYWxsIGRhdGFcbiAgICAgICAgICAgICAgICB2YXIgcG9zdFRpbWUgPSBwb3N0T2JqW2ldLmRhdGU7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3RQcmV0dHlUaW1lID0gbmV3IERhdGUocG9zdFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBwb3N0UHJldHR5VGltZSA9IHBvc3RQcmV0dHlUaW1lLnRvRGF0ZVN0cmluZygpLnNsaWNlKDMpO1xuICAgICAgICAgICAgICAgIHZhciBwb3N0VGl0bGUgPSBwb3N0T2JqW2ldLnRpdGxlO1xuICAgICAgICAgICAgICAgIHZhciBwb3N0Q2F0ZWdvcnkgPSAnVW5jYXRlZ29yaXplZCc7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3RMaW5rID0gcG9zdE9ialtpXS5saW5rO1xuICAgICAgICAgICAgICAgIHZhciBwb3N0RGVzY3JpcHRpb24gPSBwb3N0T2JqW2ldLmRlc2NyaXB0aW9uO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoKHBvc3RPYmpbaV0uY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIHBvc3RDYXRlZ29yeSA9ICdNYWludGVuYW5jZSBSZW1pbmRlcic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSA2MzpcbiAgICAgICAgICAgICAgICAgICAgcG9zdENhdGVnb3J5ID0gJ1NlcnZpY2UgSW50ZXJ2YWxzJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDY1OlxuICAgICAgICAgICAgICAgICAgICBwb3N0Q2F0ZWdvcnkgPSAnVHJvdWJsZXNob290aW5nJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIHBvc3RDYXRlZ29yeSA9ICdUYWxrIFdpdGggQSBUZWNoJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgY2FyZFxuICAgICAgICAgICAgICAgIHZhciBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdjYXJkJyk7XG4gICAgICAgICAgICAgICAgY2FyZC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPicgKyBwb3N0VGl0bGUgKyAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWNvbnRlbnQnKS5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJjYXJkLWNhdGVnb3J5XCI+PGEgaHJlZj1cIi8/Y2F0PScgKyBwb3N0T2JqW2ldLmNhdGVnb3J5ICsgJ1wiPicgKyBwb3N0Q2F0ZWdvcnkgKyAnPC9hPjwvcD48aDQgY2xhc3M9XCJjYXJkLXRpdGxlXCI+PGEgaHJlZj1cIicgKyBwb3N0TGluayArICdcIj4nICsgcG9zdFRpdGxlICsgJzwvYT48L2g0PjxwIGNsYXNzPVwiY2FyZC1kZXNjcmlwdGlvblwiPicgKyBwb3N0RGVzY3JpcHRpb24gKyAnPC9wPjx1bCBjbGFzcz1cInNpbmdsZS10YWdzLS1saXN0XCI+PC91bD4nO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBjYXJkIHRvIHJlc3VsdHNcbiAgICAgICAgICAgICAgICBwb3N0TGlzdGluZy5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBvZmZzZXQrKztcbiAgICAgIH0pO1xuICB9XG5cblxuICB2YXIgcHJvZHVjdExpc3RGaWx0ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtbGlzdC1maWx0ZXJzLWxpc3QnKTtcbiAgdmFyIHN1Ym1pdEZpbHRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsdGVyLXByb2R1Y3RzJyk7XG4gIGlmICghcHJvZHVjdExpc3RGaWx0ZXJzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvZHVjdExpc3RGaWx0ZXJzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZWN0ZWRCcmFuZHMgPSBbXTtcbiAgICBwcm9kdWN0TGlzdEZpbHRlcnMucXVlcnlTZWxlY3RvckFsbCgnbGknKS5mb3JFYWNoKGZ1bmN0aW9uKGJyYW5kKSB7XG4gICAgICBpZiAoIWJyYW5kLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWxlY3RlZEJyYW5kcy5wdXNoKGJyYW5kLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWUpO1xuICAgIH0pO1xuICAgIGZpbHRlclByb2R1Y3RzKHNlbGVjdGVkQnJhbmRzKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZmlsdGVyUHJvZHVjdHMoYnJhbmRzKSB7XG4gICAgdmFyIHByb2R1Y3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2R1Y3QtbGlzdC13aXRoLWZpbHRlcnMgLnByb2R1Y3RzLS1pdGVtJyk7XG4gICAgcHJvZHVjdExpc3QuZm9yRWFjaChmdW5jdGlvbihwcm9kdWN0KSB7XG4gICAgICBwcm9kdWN0LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc3VhbGx5LWhpZGRlbicpO1xuICAgICAgaWYgKCFwcm9kdWN0LmRhdGFzZXQuYnJhbmQuaW5jbHVkZXMoYnJhbmRzKSkge1xuICAgICAgICBwcm9kdWN0LmNsYXNzTGlzdC5hZGQoJ3Zpc3VhbGx5LWhpZGRlbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXG4gIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnd29vY29tbWVyY2UtY2FydCcpIHx8IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd3b29jb21tZXJjZS1jaGVja291dCcpKSB7XG4gICAgLy8gYmFpbFxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjYXJ0RHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1hZGQtdG8tY2FydCcpO1xuICB2YXIgY2FydE9wZW4gPSBmYWxzZTtcbiAgdmFyIGNhcnRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LWxpc3QnKTtcbiAgdmFyIGNhcnRIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWhlYWRlcicpO1xuICB2YXIgY2FydExpbmVJdGVtcyA9IFtdO1xuXG4gIGlmICghY2FydExpc3QpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBamF4IENhcnQgTWFya3VwIGRvZXNuXFwndCBleGlzdCBvbiB0aGUgcGFnZS4gQWRkIGl0IScpO1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgY2FydExpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoJ2EnKSkge1xuICAgICAgY29uc29sZS5sb2coJ3JlZGlyZWN0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlLnRhcmdldC5tYXRjaGVzKCdidXR0b24nKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmVtb3ZlZnJvbUNhcnQoZSk7IFxuICAgIH1cbiAgfSk7XG5cbiAgY2FydExpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAgIGluY3JlbWVudEl0ZW0oZSk7XG4gIH0pO1xuXG4gIGNhcnRIZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZGlzcGxheUNhcnQoKTtcbiAgfSk7XG5cbiAgaWYgKGNhcnRMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykubGVuZ3RoID4gMCkge1xuICAgIGRpc3BsYXlNaW5pbWl6ZWRDYXJ0KCk7XG4gIH1cblxuICB2YXIgYWRkVG9DYXJ0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hZGQtdG8tY2FydCcpO1xuICBpZiAoYWRkVG9DYXJ0QnV0dG9ucykge1xuICAgIGFkZFRvQ2FydEJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbihidXR0b24pIHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB1cGRhdGVDYXJ0SGVhZGVyQ291bnQoJ3VwJyk7XG4gICAgICAgIGFkZFRvQ2FydChlLnRhcmdldCk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVG9DYXJ0KGVsZW0pIHtcbiAgICBpZiAoIWVsZW0udmFsdWUpIHtcbiAgICAgIC8vIGdldCBpZCBzb21lIG90aGVyIHdheVxuICAgICAgY29uc29sZS5sb2coJ2kgZG9udCBoYXZlIGEgdmFsdWUnKTtcbiAgICAgIGF0b21pYyh3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy93cC1hZG1pbi9hZG1pbi1hamF4LnBocCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhY3Rpb246ICdmaW5kX3Byb2R1Y3RfYnlfc2t1JyxcbiAgICAgICAgICBza3U6IGVsZW0uZGF0YXNldC5za3VcbiAgICAgICAgfVxuICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICB9KVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHJvZHVjdElEID0gZWxlbS52YWx1ZTtcbiAgICBhdG9taWMod2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvd3AtYWRtaW4vYWRtaW4tYWpheC5waHAnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYWN0aW9uOiAnYWRkX2l0ZW1fdG9fY2FydCcsXG4gICAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3RJRCxcbiAgICAgICAgcXR5OiAxXG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLnhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBjb25zb2xlLmxvZygnc3VjY2Vzc2Z1bGx5IGFkZGVkICcgKyBwcm9kdWN0SUQgKyAnIHRvIGNhcnQnKTtcbiAgICAgICAgcG9wdWxhdGVDYXJ0KCk7XG4gICAgICB9XG4gICAgICBcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcG9wdWxhdGVDYXJ0KCkge1xuICAgIHZhciBsaW5lSXRlbXMgPSBnZXRQcm9kdWN0RGV0YWlscygpO1xuXG4gICAgbGluZUl0ZW1zLnRoZW4oZnVuY3Rpb24oaXRlbUFycmF5KSB7XG4gICAgICBjb25zb2xlLnRhYmxlKGl0ZW1BcnJheSk7XG4gICAgICBjYXJ0TGlzdC5pbm5lckhUTUwgPSBpdGVtQXJyYXkubWFwKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIGlmIChpdGVtLnNhbGVQcmljZSkge1xuICAgICAgICAgIHJldHVybiAnPGxpIGNsYXNzPVwiYWxlcnQtLWNhcnQtaXRlbVwiIGRhdGEtcHJvZHVjdElEPVwiJyArIGl0ZW0uaWQgKyAnXCIgZGF0YS1pbmRleD1cIicgKyBpbmRleCArICdcIj48c3BhbiBjbGFzcz1cImFsZXJ0LS1jYXJ0LXBhcnRcIj48c3BhbiBjbGFzcz1cImFsZXJ0LS1jYXJ0LXBhcnQtdHlwZVwiPjxhIGhyZWY9XCInICsgaXRlbS5wZXJtYWxpbmsgKyAnXCI+JyArIGl0ZW0ubmFtZSArICc8L2E+PC9zcGFuPjxzcGFuIGNsYXNzPVwiYWxlcnQtLWNhcnQtcGFydC1udW1iZXJcIj4nICsgaXRlbS5za3UgKyAnIC0gPGRlbD4kJyArIGl0ZW0ucHJpY2UgKyAnPC9kZWw+IDxzcGFuIGNsYXNzPVwic2FsZS1wcmljZVwiPiQnICsgaXRlbS5zYWxlUHJpY2UgKyAnPC9zcGFuPjwvc3Bhbj48L3NwYW4+PHNwYW4+PGxhYmVsIGZvcj1cInByb2R1Y3RfcXVhbnRpdHlcIj5RdHk6IDwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwicHJvZHVjdF9xdWFudGl0eVwiIG1pbj1cIjFcIiBtYXg9XCI1MFwiIHZhbHVlPVwiMVwiPjxidXR0b24gY2xhc3M9XCJhbGVydC0tcmVtb3ZlLWl0ZW1cIiBkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiPiZ0aW1lczs8L2J1dHRvbj48L3NwYW4+PC9saT4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAnPGxpIGNsYXNzPVwiYWxlcnQtLWNhcnQtaXRlbVwiIGRhdGEtcHJvZHVjdElEPVwiJyArIGl0ZW0uaWQgKyAnXCIgZGF0YS1pbmRleD1cIicgKyBpbmRleCArICdcIj48c3BhbiBjbGFzcz1cImFsZXJ0LS1jYXJ0LXBhcnRcIj48c3BhbiBjbGFzcz1cImFsZXJ0LS1jYXJ0LXBhcnQtdHlwZVwiPjxhIGhyZWY9XCInICsgaXRlbS5wZXJtYWxpbmsgKyAnXCI+JyArIGl0ZW0ubmFtZSArICc8L2E+PC9zcGFuPjxzcGFuIGNsYXNzPVwiYWxlcnQtLWNhcnQtcGFydC1udW1iZXJcIj4nICsgaXRlbS5za3UgKyAnIC0gJCcgKyBpdGVtLnByaWNlICsgJzwvc3Bhbj48L3NwYW4+PHNwYW4+PGxhYmVsIGZvcj1cInByb2R1Y3RfcXVhbnRpdHlcIj5RdHk6IDwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwicHJvZHVjdF9xdWFudGl0eVwiIG1pbj1cIjFcIiBtYXg9XCI1MFwiIHZhbHVlPVwiMVwiPjxidXR0b24gY2xhc3M9XCJhbGVydC0tcmVtb3ZlLWl0ZW1cIiBkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiPiZ0aW1lczs8L2J1dHRvbj48L3NwYW4+PC9saT4nO1xuICAgICAgICB9XG4gICAgICB9KS5qb2luKCcnKTtcbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgZGlzcGxheUNhcnQoKTtcbiAgICB9LCAyMDApXG4gIH1cblxuICBmdW5jdGlvbiBnZXRQcm9kdWN0RGV0YWlscyhpZCkge1xuICAgIHJldHVybiBhdG9taWMod2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvd3AtYWRtaW4vYWRtaW4tYWpheC5waHAnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYWN0aW9uOiAnZ2V0X3Byb2R1Y3RfZGV0YWlscycsXG4gICAgICAgIHByb2R1Y3RfaWQ6IGlkXG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YS5zbGljZSgwLC0xKSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlZnJvbUNhcnQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHVwZGF0ZUNhcnRIZWFkZXJDb3VudCgnZG93bicpO1xuICAgIFxuICAgIGlmIChlLnRhcmdldC5tYXRjaGVzKCdidXR0b24nKSkge1xuICAgICAgdmFyIGluZGV4ID0gZS50YXJnZXQuZGF0YXNldC5pbmRleDtcbiAgICAgIHZhciBwYXJlbnQgPSBjYXJ0TGlzdC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbmRleD1cIicgKyBpbmRleCArICdcIl0nKTtcbiAgICAgIHBhcmVudC5yZW1vdmUoKTtcbiAgICAgIGF0b21pYyh3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy93cC1hZG1pbi9hZG1pbi1hamF4LnBocCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhY3Rpb246ICdyZW1vdmVfaXRlbV9mcm9tX2NhcnQnLFxuICAgICAgICAgIHByb2R1Y3RfaWQ6IHBhcmVudC5kYXRhc2V0LnByb2R1Y3RpZFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChjYXJ0TGlzdC5jaGlsZHJlbi5sZW5ndGggPCAxKSB7XG4gICAgICBjYXJ0TGlzdC5pbm5lckhUTUwgPSAnPGxpPllvdXIgc2hvcHBpbmcgY2FydCBpcyBlbXB0eS48L2xpPic7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDYXJ0SGVhZGVyQ291bnQoZGlyZWN0aW9uKSB7XG4gICAgdmFyIGN1cnJlbnRDb3VudCA9IHBhcnNlSW50KGNhcnRIZWFkZXIucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtY291bnQnKS5pbm5lclRleHQpO1xuICAgIGlmICghZGlyZWN0aW9uKSB7XG4gICAgICBjYXJ0SGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LWNvdW50JykuaW5uZXJUZXh0ID0gY3VycmVudENvdW50O1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkaXJlY3Rpb24gPT09ICd1cCcpIHtcbiAgICAgICsrY3VycmVudENvdW50O1xuICAgIH0gZWxzZSB7XG4gICAgICAtLWN1cnJlbnRDb3VudDtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudENvdW50ID4gMSB8fCBjdXJyZW50Q291bnQgPT09IDApIHtcbiAgICAgIGNhcnRIZWFkZXIucXVlcnlTZWxlY3RvcignaDQnKS5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJwcm9kdWN0LWNvdW50XCI+JyArIGN1cnJlbnRDb3VudCArICc8L3NwYW4+IFByb2R1Y3RzIGluIENhcnQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYXJ0SGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJ2g0JykuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwicHJvZHVjdC1jb3VudFwiPicgKyBjdXJyZW50Q291bnQgKyAnPC9zcGFuPiBQcm9kdWN0IGluIENhcnQnO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BsYXlDYXJ0KGlzTWluaW1pemVkKSB7XG4gICAgaWYgKCFjYXJ0RHJhd2VyKSB7IFxuICAgICAgY29uc29sZS5lcnJvcignQ2FydCBNYXJrdXAgaXMgbm90IG9uIHRoZSBwYWdlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FydE9wZW4gPSAhY2FydE9wZW47XG4gICAgY2FydERyYXdlci5jbGFzc0xpc3QuYWRkKCdhbGVydC0taXMtYWN0aXZlJyk7XG5cbiAgICBpZiAoY2FydERyYXdlci5jbGFzc0xpc3QuY29udGFpbnMoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKSkge1xuICAgICAgY2FydERyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC0taXMtbWluaW1pemVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGxheU1pbmltaXplZENhcnQoKSB7XG4gICAgaWYgKCFjYXJ0RHJhd2VyKSB7IFxuICAgICAgY29uc29sZS5lcnJvcignQ2FydCBNYXJrdXAgaXMgbm90IG9uIHRoZSBwYWdlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhcnREcmF3ZXIuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLWFjdGl2ZScpO1xuICAgIGNhcnREcmF3ZXIuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLW1pbmltaXplZCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5jcmVtZW50SXRlbShlKSB7XG4gICAgdmFyIGVsZW1lbnRDaGFuZ2VkID0gZS50YXJnZXQ7XG4gICAgdmFyIHByb2R1Y3RJRCA9IGVsZW1lbnRDaGFuZ2VkLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0LnByb2R1Y3RpZDtcbiAgICB2YXIgcXR5ID0gZWxlbWVudENoYW5nZWQudmFsdWU7XG4gICAgYXRvbWljKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL3dwLWFkbWluL2FkbWluLWFqYXgucGhwJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGFjdGlvbjogJ2luY3JlbWVudF9pdGVtX2luX2NhcnQnLFxuICAgICAgICBwcm9kdWN0X2lkOiBwcm9kdWN0SUQsXG4gICAgICAgIHF0eTogcXR5XG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLnhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAvLyB2YXIgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlc3BvbnNlLmRhdGEuc2xpY2UoMCwtMSkpO1xuICAgICAgICBjb25zb2xlLmxvZygncXVhbnRpdHkgZm9yICcgKyBwcm9kdWN0SUQgKyAnIGlzIHNldCB0byAnICsgcXR5KTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgYWNjb3JkaWFuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpYW4tLXRpdGxlJyk7XG4gIGlmIChhY2NvcmRpYW5CdXR0b25zKSB7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjY29yZGlhbkJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFjY29yZGlhbkJ1dHRvbnNbaV0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY2NvcmRpYW4tLWlzLWNvbGxhcHNlZCcpO1xuICAgICAgYWNjb3JkaWFuQnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5pbmdFbGVtZW50ID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKGNvbnRhaW5pbmdFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaWFuLS1pcy1jb2xsYXBzZWQnKSkge1xuICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWNjb3JkaWFuLS1pcy1jb2xsYXBzZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlhbi0taXMtY29sbGFwc2VkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgdmFyIGFsbFRvb2xUaXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXAtLXRvZ2dsZScpO1xuICBpZiAoYWxsVG9vbFRpcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbFRvb2xUaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhbGxUb29sVGlwc1tpXS5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmFkZCgndG9vbHRpcC0taXMtaGlkZGVuJyk7XG5cbiAgICAgIGFsbFRvb2xUaXBzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgndG9vbHRpcC0taXMtaGlkZGVuJykpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblxuICB2YXIgY2xvc2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbC0tY2xvc2UnKTtcbiAgdmFyIGxhdW5jaE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW2RhdGEtbW9kYWwtbGF1bmNoXScpO1xuXG4gIGlmIChjbG9zZU1vZGFsKSB7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhdW5jaE1vZGFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsYXVuY2hNb2RhbFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIG1vZGFsSUQgPSBlLnRhcmdldC5kYXRhc2V0Lm1vZGFsTGF1bmNoO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxbZGF0YS1tb2RhbD0nICsgbW9kYWxJRCArICddJykuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtLWlzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLS1pcy1vcGVuJyk7XG5cbiAgICAgICAgLy8gUG9wdWxhdGUgTW9kZWwgRmllbGQgd2l0aCBDdXJyZW50IE1vZGVsIFBhZ2VcbiAgICAgICAgaWYgKG1vZGFsSUQgPSAnc2lnbi11cC1mb3JtJykge1xuICAgICAgICAgIHZhciBwYWdlVGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ21ldGFbcHJvcGVydHk9XCJhcnRpY2xlOnRhZ1wiXScpO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZVRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgocGFnZVRhZ3NbaV0uY29udGVudC5pbmNsdWRlcygnSm9obiBEZWVyZScpKSAmJiAocGFnZVRhZ3NbaV0uY29udGVudCAhPT0gJ0pvaG4gRGVlcmUgTGF3biBUcmFjdG9yJykpIHtcbiAgICAgICAgICAgICAgdmFyIG1vZGVsID0gcGFnZVRhZ3NbaV0uY29udGVudC5zcGxpdCgnSm9obiBEZWVyZSAnKVsxXTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21jZS1NT0RFTCcpLnZhbHVlID0gbW9kZWwudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbG9zZU1vZGFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjbG9zZU1vZGFsW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbW9kYWwtLWlzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLS1pcy1vcGVuJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgIT0gMjcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGxhdW5jaE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2W2RhdGEtbW9kYWxdJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLS1pcy1vcGVuJyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhdW5jaE1vZGFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxhdW5jaE1vZGFsW2ldLmNsYXNzTGlzdC5hZGQoJ21vZGFsLS1pcy1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbn0pKCk7IiwiaWYgKHdpbmRvdy5qUXVlcnkgJiYgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3NpbmdsZS1wb3N0JykpIHtcblxuICAoZnVuY3Rpb24oKSB7XG5cblxuICAgICQoJyNtYy1lbWJlZGRlZC1zdWJzY3JpYmUtZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gIFxuICAgICAgdmFyIGVtYWlsID0gJHRoaXMuZmluZCgnI21jZS1FTUFJTCcpLnZhbCgpO1xuICAgICAgdmFyIGZpcnN0TmFtZSA9ICR0aGlzLmZpbmQoJyNtY2UtRk5BTUUnKS52YWwoKTtcbiAgICAgIHZhciBsYXN0TmFtZSA9ICR0aGlzLmZpbmQoJyNtY2UtTE5BTUUnKS52YWwoKTtcbiAgICAgIHZhciBtb2RlbE51bWJlciA9ICR0aGlzLmZpbmQoJyNtY2UtTU9ERUwnKS52YWwoKTtcbiAgICAgIHZhciBjdXJyZW50SG91cnMgPSAkdGhpcy5maW5kKCcjbWNlLUNVUlJFTlRfSFInKS52YWwoKTtcbiAgICAgIHZhciBtb3dpbmdUaW1lID0gJHRoaXMuZmluZCgnI21jZS1NT1dJTkdfVElNJykudmFsKCk7XG4gICAgICBtb3dpbmdUaW1lID0gbW93aW5nVGltZS5zcGxpdCgnKCcpWzFdLnNwbGl0KCcpJylbMF0udG9Mb3dlckNhc2UoKTtcbiAgXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAkdGhpcy5hdHRyKCdtZXRob2QnKSxcbiAgICAgICAgdXJsOiAkdGhpcy5hdHRyKCdhY3Rpb24nKSxcbiAgICAgICAgZGF0YTogJHRoaXMuc2VyaWFsaXplKCksXG4gICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gIFxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgaWYgKGRhdGEucmVzdWx0ICE9ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgJCgnI21jX2VtYmVkX3NpZ251cF9zY3JvbGwnKS5wcmVwZW5kKCc8cCBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIHJlZDsgcGFkZGluZzogMXJlbTtcIj4nICsgZGF0YS5tc2cgKyAnPC9wPicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAkKCdkaXZbZGF0YS1tb2RhbD1cInNpZ24tdXAtZm9ybVwiXSAubW9kYWwtaGVhZGluZycpLnRleHQoJ0dyZWF0ICcgKyBmaXJzdE5hbWUgKyAnIScpLm5leHQoKS50ZXh0KCdZb3Ugd2lsbCByZWNlaXZlIGEgY29uZmlybWF0aW9uIGVtYWlsIHNvb24gYW5kIHdlIHdpbGwga2VlcCB5b3UgdXAgdG8gZGF0ZSBvbiB5b3VyIG5lZWRlZCBwYXJ0cy4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXBpLmZsb2NrLmNvbS9ob29rcy9zZW5kTWVzc2FnZS84NTU4MzJjZC1iZDc5LTQzNmQtOWYxZi1kY2YwMDIwMjUxZGQnLFxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBcInRleHRcIjogZmlyc3ROYW1lICsgXCIgXCIgKyBsYXN0TmFtZSArIFwiIGhhcyBhIFwiICsgbW9kZWxOdW1iZXIgKyBcIiB3aXRoIFwiICsgY3VycmVudEhvdXJzICsgXCIgaG91cnMgYW5kIHRha2VzIFwiICsgbW93aW5nVGltZSArIFwiIHRvIG1vdy4gQ29udGFjdCBcIiArIGZpcnN0TmFtZSArIFwiIGF0IFwiICsgZW1haWxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICBcbiAgICB9KTtcbiAgXG4gIH0pKCk7XG5cbn0iLCIoZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGJhc2VGb250U2l6ZSA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKSkuZ2V0UHJvcGVydHlWYWx1ZSgnZm9udC1zaXplJykpO1xuXG4gIHZhciBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RpY2t5TmF2Jyk7XG5cbiAgaWYgKG5hdikge1xuXG4gICAgdmFyIHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICB2YXIgbmF2T2Zmc2V0ID0gbmF2Lm9mZnNldFRvcDtcbiAgICB2YXIgbmF2V2lkdGggPSBuYXYuY2xpZW50V2lkdGg7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gICAgICBuYXZPZmZzZXQgPSBuYXYub2Zmc2V0VG9wO1xuICAgICAgY29uc29sZS5sb2cobmF2T2Zmc2V0KTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgdmFyIG1ha2VTdGlja3kgPSBzY3JvbGxZID4gKG5hdk9mZnNldCAtIChiYXNlRm9udFNpemUgKiAzKSk7XG5cbiAgICAgIGlmIChtYWtlU3RpY2t5KSB7XG4gICAgICAgIG5hdi5jbGFzc0xpc3QuYWRkKCduYXYtLWlzLXN0aWNreScpO1xuICAgICAgICBuYXYuc3R5bGUubWF4V2lkdGggPSBuYXZXaWR0aCArICdweCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LS1pcy1zdGlja3knKTtcbiAgICAgIH1cblxuXG4gICAgfSk7XG5cbiAgfVxuXG59KSgpOyAiLCIoZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGJhc2VGb250U2l6ZSA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKSkuZ2V0UHJvcGVydHlWYWx1ZSgnZm9udC1zaXplJykpO1xuICB2YXIgc3RpY2t5Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0aWNreS0tY29udGFpbmVyJyk7XG4gIHZhciBzdGlja3lFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0aWNreS0tZWxlbWVudCcpO1xuXG4gIC8vIElmIGVsZW1lbnRzIGFyZSBub3Qgb24gcGFnZSBvciBzbWFsbGVyIHNjcmVlbiwgZXhpdCBmdW5jdGlvblxuICBpZiAoIXN0aWNreUNvbnRhaW5lciB8fCAhc3RpY2t5RWxlbWVudCB8fCAod2luZG93LmlubmVyV2lkdGggPCA5NjApKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gIEdFVCBTSUJMSU5HIFdJRFRIXG4gIHZhciBzdGlja3lTaWJsaW5nID0gc3RpY2t5Q29udGFpbmVyLnBhcmVudEVsZW1lbnQuY2hpbGRyZW47XG4gIEFycmF5LmZyb20oc3RpY2t5U2libGluZykuZm9yRWFjaChmdW5jdGlvbihjaGlsZCkge1xuICAgIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0aWNreS0tY29udGFpbmVyJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RpY2t5U2libGluZyA9IGNoaWxkO1xuICB9KVxuICB2YXIgc3RpY2t5U2libGluZ1dpZHRoID0gc3RpY2t5U2libGluZy5vZmZzZXRXaWR0aDtcblxuXG4gIC8vIGdldCBzaXplcyBvZiBlbGVtZW50c1xuICB2YXIgc3RpY2t5Q29udGFpbmVySGVpZ2h0ID0gc3RpY2t5Q29udGFpbmVyLm9mZnNldEhlaWdodDtcbiAgdmFyIHN0aWNreUNvbnRhaW5lclRvcCA9IHN0aWNreUNvbnRhaW5lci5vZmZzZXRUb3A7XG4gIHZhciBzdGlja3lFbGVtZW50V2lkdGggPSBzdGlja3lFbGVtZW50Lm9mZnNldFdpZHRoO1xuICB2YXIgc3RpY2t5RWxlbWVudEhlaWdodCA9IHN0aWNreUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gIFxuXG4gIHZhciBzY3JvbGxZID0gd2luZG93LnNjcm9sbFk7XG5cbiAgLy8gZnVuIG9uIHBhZ2UgbG9hZFxuICBzZXRUaW1lb3V0KHdhdGNoRm9yU3RpY2t5LCAyMDApO1xuICBcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oZSkge1xuICAgIHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICB3YXRjaEZvclN0aWNreSgpO1xuICB9KTtcblxuICBmdW5jdGlvbiB3YXRjaEZvclN0aWNreSgpIHtcbiAgICBpZiAoc2Nyb2xsWSA+IChzdGlja3lDb250YWluZXJUb3AgLSAoYmFzZUZvbnRTaXplICogMykpKSB7XG4gICAgICBzdGlja3lFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3N0aWNreS0tZWxlbWVudC0taXMtZml4ZWQnKTtcbiAgICAgIHN0aWNreUVsZW1lbnQuc3R5bGUubWF4V2lkdGggPSBzdGlja3lFbGVtZW50V2lkdGggKyAncHgnO1xuICAgICAgc3RpY2t5RWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgnICsgKGJhc2VGb250U2l6ZSAqIDMpICsgJ3B4KSc7XG4gICAgICBzdGlja3lTaWJsaW5nLnN0eWxlLm1heFdpZHRoID0gc3RpY2t5U2libGluZ1dpZHRoICsgJ3B4JztcblxuICAgICAgLy8gaWYgKHNjcm9sbFkgPiAoc3RpY2t5Q29udGFpbmVySGVpZ2h0IC0gc3RpY2t5Q29udGFpbmVyVG9wKSkge1xuICAgICAgLy8gICBjb25zb2xlLmxvZygnc2Nyb2xsJyk7XG4gICAgICAgIC8vIHZhciBzY3JvbGxUcmFuc2Zvcm1BbW91bnQgPSBzY3JvbGxZIC0gc3RpY2t5Q29udGFpbmVySGVpZ2h0ICsgc3RpY2t5Q29udGFpbmVyVG9wICsgKGJhc2VGb250U2l6ZSAqIDMpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhzY3JvbGxUcmFuc2Zvcm1BbW91bnQpO1xuICAgICAgICAvLyBzdGlja3lFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC0nICsgc2Nyb2xsVHJhbnNmb3JtQW1vdW50ICsgJ3B4KSc7XG4gICAgICAvLyB9XG5cbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsWSA8IChzdGlja3lDb250YWluZXJUb3AgLSAoYmFzZUZvbnRTaXplICogMykpKSB7XG4gICAgICBzdGlja3lFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3N0aWNreS0tZWxlbWVudC0taXMtZml4ZWQnKTtcbiAgICAgIHN0aWNreUVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCknO1xuICAgIH1cblxuICB9XG4gIFxuICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXG4gIGlmICghZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3dvb2NvbW1lcmNlLWNhcnQnKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG5cbiAgdmFyIGNhcnRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdmcC1jYXJ0LS1saXN0Jyk7XG4gIHZhciB1cGRhdGVDYXJ0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW25hbWU9XCJ1cGRhdGVfY2FydFwiXScpO1xuICB2YXIgY2FydFN1YnRvdGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcnQtc3VidG90YWwgdGQnKTtcbiAgdmFyIGNhcnRUb3RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcmRlci10b3RhbCB0ZCBzdHJvbmcnKTtcbiAgdmFyIGNvdXBvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FydC1kaXNjb3VudCcpO1xuXG5cbiAgLy8gUkVNT1ZFIFVQREFURSBDQVJUIEJVVFRPTiBJRiBKUyBFTkFCTEVEXG4gIGlmICh1cGRhdGVDYXJ0QnV0dG9uKSB7XG4gICAgdXBkYXRlQ2FydEJ1dHRvbi5yZW1vdmUoKTtcbiAgfVxuXG4gIFxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgSGFuZGxlIERpc2FibGUgb2YgXCJVcGRhdGUgQ2FydFwiIEJ1dHRvblxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi8gXG4gIGNhcnRMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS50YXJnZXQudGFnTmFtZSAhPT0gJ0lOUFVUJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVMaW5lSXRlbVByaWNlKGUudGFyZ2V0KTtcbiAgICAvLyB1cGRhdGVDYXJ0VG90YWxzKCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmVJdGVtUHJpY2UoaXRlbSkge1xuICAgIGNvbnNvbGUubG9nKCd1cGRhdGUgbGluZSBpdGVtIHByaWNlJyk7XG4gICAgXG4gICAgdmFyIGl0ZW1EZXRhaWxzID0gaXRlbS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICB2YXIgcmVndWxhclByaWNlID0gaXRlbURldGFpbHMucXVlcnlTZWxlY3RvcignLnJlZ3VsYXItcHJpY2UnKTtcbiAgICB2YXIgc2FsZVByaWNlID0gaXRlbURldGFpbHMucXVlcnlTZWxlY3RvcignLnNhbGUtcHJpY2UnKTtcbiAgICBcbiAgICByZWd1bGFyUHJpY2UudGV4dENvbnRlbnQgPSAocmVndWxhclByaWNlLmRhdGFzZXQucHJpY2UgKiBpdGVtLnZhbHVlKS50b0ZpeGVkKDIpO1xuICAgIFxuICAgIGlmIChzYWxlUHJpY2UpIHtcbiAgICAgIHNhbGVQcmljZS50ZXh0Q29udGVudCA9ICckJyArIChzYWxlUHJpY2UuZGF0YXNldC5zYWxlUHJpY2UgKiBpdGVtLnZhbHVlKS50b0ZpeGVkKDIpO1xuICAgIH1cblxuICAgIGNhcnRTdWJ0b3RhbC50ZXh0Q29udGVudCA9ICdVcGRhdGluZy4uLic7XG4gICAgY2FydFRvdGFsLnRleHRDb250ZW50ID0gJ1VwZGF0aW5nLi4uJztcbiAgICBjb3Vwb25zLmZvckVhY2goZnVuY3Rpb24oY291cG9uKSB7XG4gICAgICB2YXIgY291cG9uVHlwZSA9IGNvdXBvbi5kYXRhc2V0LmRpc2NvdW50VHlwZTtcbiAgICAgIGlmIChjb3Vwb25UeXBlID09PSAnY291cG9uLXBlcmNlbnQnKSB7XG4gICAgICAgIGNvdXBvbi5xdWVyeVNlbGVjdG9yKCd0ZFtkYXRhLXRpdGxlXScpLnRleHRDb250ZW50ID0gJ1VwZGF0aW5nLi4uJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGF0b21pYyh3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy93cC1hZG1pbi9hZG1pbi1hamF4LnBocCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgZGF0YToge1xuICAgICAgICBhY3Rpb246ICdpbmNyZW1lbnRfaXRlbV9pbl9jYXJ0JyxcbiAgICAgICAgcHJvZHVjdF9pZDogaXRlbURldGFpbHMuZGF0YXNldC5wcm9kdWN0aWQsXG4gICAgICAgIHF0eTogaXRlbS52YWx1ZVxuICAgICAgfVxuICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICB1cGRhdGVDYXJ0VG90YWxzKCk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNhcnRUb3RhbHMoKSB7XG4gICAgY29uc29sZS5sb2coJ3VwZGF0ZSBjYXJ0IHRvdGFscycpO1xuICAgIGF0b21pYyh3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy93cC1hZG1pbi9hZG1pbi1hamF4LnBocCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgZGF0YToge1xuICAgICAgICBhY3Rpb246ICdnZXRfY2FydCcsXG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgdmFyIGNhcnQgPSBPYmplY3QudmFsdWVzKEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YS5zbGljZSgwLC0xKSkpO1xuICAgICAgdmFyIGNhcnRTdWJ0b3RhbEFtb3VudCA9IDA7XG4gICAgICB2YXIgY2FydFRvdGFsQW1vdW50ID0gMDtcbiAgICAgIFxuICAgICAgY2FydC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgY2FydFN1YnRvdGFsQW1vdW50ID0gY2FydFN1YnRvdGFsQW1vdW50ICsgaXRlbS5saW5lX3N1YnRvdGFsO1xuICAgICAgICBjYXJ0VG90YWxBbW91bnQgPSBjYXJ0VG90YWxBbW91bnQgKyBpdGVtLmxpbmVfdG90YWw7XG4gICAgICB9KTtcblxuICAgICAgY291cG9ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvdXBvbikge1xuICAgICAgICB2YXIgY291cG9uVHlwZSA9IGNvdXBvbi5kYXRhc2V0LmRpc2NvdW50VHlwZTtcbiAgICAgICAgdmFyIGNvdXBvbkFtb3VudCA9IGNvdXBvbi5kYXRhc2V0LmRpc2NvdW50QW1vdW50O1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhjb3Vwb25BbW91bnQpO1xuICAgICAgICBpZiAoY291cG9uVHlwZSA9PT0gJ2NvdXBvbi1wZXJjZW50Jykge1xuICAgICAgICAgIHZhciBkaXNjb3VudCA9IGNhcnRTdWJ0b3RhbEFtb3VudCAqIChjb3Vwb25BbW91bnQgLyAxMDApO1xuICAgICAgICAgIGNvdXBvbi5xdWVyeVNlbGVjdG9yKCd0ZFtkYXRhLXRpdGxlXScpLnRleHRDb250ZW50ID0gJy0kJyArIGRpc2NvdW50LnRvRml4ZWQoMik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjYXJ0U3VidG90YWwudGV4dENvbnRlbnQgPSAnJCcgKyBjYXJ0U3VidG90YWxBbW91bnQudG9GaXhlZCgyKS5yZXBsYWNlKC9cXGQoPz0oXFxkezN9KStcXC4pL2csICckJiwnKTtcbiAgICAgIGNhcnRUb3RhbC50ZXh0Q29udGVudCA9ICckJyArIGNhcnRUb3RhbEFtb3VudC50b0ZpeGVkKDIpLnJlcGxhY2UoL1xcZCg/PShcXGR7M30pK1xcLikvZywgJyQmLCcpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFJFTU9WRSBBTiBJVEVNIEZST00gVEhFIENBUlRcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBjYXJ0TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAvLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvY2FydC8/cmVtb3ZlX2l0ZW09ZTcyMWE1NGE4Y2YxOGM4NTQzZDQ0NzgyZDllZjY4MWYmX3dwbm9uY2U9YzEzOTg5NzhjY1xuICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgIT09ICdyZW1vdmUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjYXJ0U3VidG90YWwudGV4dENvbnRlbnQgPSAnVXBkYXRpbmcuLi4nO1xuICAgIGNhcnRUb3RhbC50ZXh0Q29udGVudCA9ICdVcGRhdGluZy4uLic7XG4gICAgYXRvbWljKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL3dwLWFkbWluL2FkbWluLWFqYXgucGhwJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGFjdGlvbjogJ3JlbW92ZV9pdGVtX2Zyb21fY2FydCcsXG4gICAgICAgIHByb2R1Y3RfaWQ6IGUudGFyZ2V0LmRhdGFzZXQucHJvZHVjdF9pZFxuICAgICAgfVxuICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgdXBkYXRlQ2FydFRvdGFscygpO1xuICAgICAgfSk7XG4gIH0pO1xuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgXG4gIHZhciBzaGlwVG9EaWZmZXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hpcC10by1kaWZmZXJlbnQtYWRkcmVzcy1jaGVja2JveCcpO1xuICB2YXIgc2hpcERldGFpbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hpcHBpbmctZGV0YWlscy0taXMtaGlkZGVuJyk7XG4gIFxuICBpZiAoc2hpcFRvRGlmZmVyZW50KSB7XG4gICAgc2hpcFRvRGlmZmVyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghc2hpcFRvRGlmZmVyZW50LmNoZWNrZWQpIHtcbiAgICAgICAgc2hpcERldGFpbHMuY2xhc3NMaXN0LmFkZCgnc2hpcHBpbmctZGV0YWlscy0taXMtaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNoaXBEZXRhaWxzLmNsYXNzTGlzdC5yZW1vdmUoJ3NoaXBwaW5nLWRldGFpbHMtLWlzLWhpZGRlbicpO1xuICAgIH0pO1xuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXG4gIGNvbnNvbGUubG9nKCdoZWxsbyBmcm9tIHNlYXJjaC1iYXIuanMnKTtcblxufSkoKTsiXX0=
