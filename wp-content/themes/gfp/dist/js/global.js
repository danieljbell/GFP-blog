!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):window.atomic=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(n){"use strict";var i,r={method:"GET",username:null,password:null,data:{},headers:{"Content-type":"application/x-www-form-urlencoded"},responseType:"text",timeout:null,withCredentials:!1},o=function(){for(var n={},e=0;e<arguments.length;e++){!function(e){for(var t in e)e.hasOwnProperty(t)&&("[object Object]"===Object.prototype.toString.call(e[t])?n[t]=o(n[t],e[t]):n[t]=e[t])}(arguments[e])}return n},a=function(r){var o=new XMLHttpRequest,e=new Promise(function(e,t){for(var n in o.onreadystatechange=function(){4===o.readyState&&(200<=o.status&&o.status<300?e(function(t){var n;if("text"!==i.responseType&&""!==i.responseType)return{data:t.response,xhr:t};try{n=JSON.parse(t.responseText)}catch(e){n=t.responseText}return{data:n,xhr:t}}(o)):t({status:o.status,statusText:o.statusText}))},o.open(i.method,r,!0,i.username,i.password),o.responseType=i.responseType,i.headers)i.headers.hasOwnProperty(n)&&o.setRequestHeader(n,i.headers[n]);i.timeout&&(o.timeout=i.timeout,o.ontimeout=function(e){t({status:408,statusText:"Request timeout"})}),i.withCredentials&&(o.withCredentials=!0),o.send(function(e){if("string"==typeof e||"[object FormData]"===Object.prototype.toString.call(e))return e;if(/application\/json/i.test(i.headers["Content-type"])||"[object Array]"===Object.prototype.toString.call(e))return JSON.stringify(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(i.data))});return e.cancel=function(){o.abort()},e};return function(e,t){if(!("XMLHttpRequest"in n&&"JSON"in n&&"Promise"in n))throw"Atomic: This browser does not support the methods used in this plugin.";return i=o(r,t||{}),a(e)}}),window.innerWidth,document.querySelector("button#hamburger").addEventListener("click",function(e){toggleMenu();var t=document.querySelector(".site-header").offsetHeight;document.querySelector(".navigation--level-zero").style.top=t+"px"});for(var headerTopButtons=document.querySelectorAll(".navigation--button"),navLevelOne=document.querySelectorAll(".navigation--level-one"),i=0;i<navLevelOne.length;i++)navLevelOne[i].querySelector("li:first-child a").classList.add("active");for(i=0;i<headerTopButtons.length;i++)headerTopButtons[i].addEventListener("click",function(e){e.preventDefault();var t=e.target,n=t.nextElementSibling.querySelector(".navigation--level-one");n.classList.contains("active")?(n.classList.remove("active"),t.nextElementSibling.classList.remove("active")):(t.parentElement.classList.add("active"),t.nextElementSibling.classList.add("active"),t.nextElementSibling.querySelector(".navigation--level-one").classList.add("active"))});var allLevelOneLinks=document.querySelectorAll(".navigation--level-one > li > a");for(i=0;i<allLevelOneLinks.length;i++)allLevelOneLinks[i].addEventListener("click",function(e){e.preventDefault();for(var t=document.querySelectorAll(".navigation--level-one > li > a"),n=0;n<t.length;n++)t[n].classList.remove("active");e.target.classList.add("active")});function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}!function(){if(document.querySelector(".alert--cart-item"))var i=document.querySelector(".alert--cart-item").innerHTML;var a=[];document.querySelector(".alert--cart-list")&&(document.querySelector(".alert--cart-list").innerHTML="");var e=document.querySelector("#modelModifiers");document.querySelector("#main_content");e&&e.addEventListener("change",function(e){var t=e.target.value;window.location.href=window.location.origin+"/"+t});for(var t=document.querySelectorAll("table tr"),n=0;n<t.length;n++)t[n].addEventListener("mouseenter",function(e){if(!(window.innerWidth<1080||"false"===e.target.querySelector("td:first-child").dataset.productSold)){var t=e.target.querySelector("td:first-child .product-image-container");if(t)t.classList.remove("product-image--is-hidden");else{var n=e.target.querySelector("td:first-child").dataset.productImage,r=document.createElement("img");r.classList.add("product-image"),r.src=void 0===n?"https://cdn3.volusion.com/yxhfe.dfqew/v/vspfiles/templates/gfp-test/images/nophoto.gif":n;var o=document.createElement("div");o.classList.add("product-image-container"),o.appendChild(r);e.target.querySelector("td:first-child").appendChild(o)}}}),t[n].addEventListener("mouseleave",function(e){e.target.querySelector("td:first-child .product-image-container").classList.add("product-image--is-hidden")});function r(){for(var e="https://www.greenfarmparts.com/shoppingcart.asp?",t=[],n=document.querySelectorAll(".alert--cart-item"),r=0;r<n.length;r++){var o=n[r].dataset.productcode,i=n[r].querySelector('input[name="product_quantity"]').value;t.push({productCode:o,productQty:i})}for(r=0;r<t.length;r++)e=r<1?e+"productcode="+t[r].productCode+"&QTY."+t[r].productCode+"="+t[r].productQty:e+"&productcode="+t[r].productCode+"&QTY."+t[r].productCode+"="+t[r].productQty;return e}document.addEventListener("click",function(e){if(e.target.classList.contains("add-to-cart")){var t=document.querySelector(".alert--add-to-cart"),n=e.target.parentElement.parentElement.querySelector("td:first-child").innerText,r=e.target.parentElement.parentElement.querySelector("td:nth-child(2)").innerText;if(a.includes(r))return;a.push(r);var o=document.createElement("li");o.classList.add("alert--cart-item"),o.dataset.productcode=r,o.innerHTML=i,o.querySelector(".alert--cart-part-number").innerText=r,o.querySelector(".alert--cart-part-type").innerText=n,document.querySelector(".alert--cart-list").appendChild(o),t.classList.add("alert--is-active"),t.classList.contains("alert--is-minimized")&&t.classList.remove("alert--is-minimized")}}),document.querySelector("#closeAlert")&&document.querySelector("#closeAlert").addEventListener("click",function(e){var t=e.target.parentElement.parentElement,n=t.classList.toString();n.includes("alert--is-minimized")&&n.includes("alert--is-active")?t.classList.remove("alert--is-minimized"):(t.classList.add("alert--is-minimized"),t.classList.add("alert--is-active"))}),document.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("alert--remove-item")){var n=t.parentElement.parentElement.dataset.productcode,r=a.indexOf(n);a.splice(r,1),t.parentElement.parentElement.remove()}}),document.querySelector("#submitCheckout")&&document.querySelector("#submitCheckout").addEventListener("click",function(e){e.preventDefault(),window.location.href=r()}),document.querySelector("#saveForLater")&&document.querySelector("#saveForLater").addEventListener("click",function(e){e.preventDefault(),document.cookie="cartURL="+r(),document.querySelector(".alert--add-to-cart").classList.add("alert--is-minimized")});var o=document.querySelector(".maintenance-kit-container");o&&1080<window.innerWidth&&(window.onload=function(){var t=o.offsetTop,n=window.getComputedStyle(document.body,null).fontSize;n=parseInt(n.split("px")[0]),window.addEventListener("scroll",function(e){window.scrollY>t-3*n&&o.classList.add("maintenance-kit-container--is-fixed"),window.scrollY<t-3*n&&o.classList.remove("maintenance-kit-container--is-fixed")})})}(),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var o,i,a=0|t,c=Math.max(0<=a?a:r-Math.abs(a),0);for(;c<r;){if((o=n[c])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;c++}return!1}}),function(){var e=document.querySelector(".single-comments"),t=document.querySelector("#respond");document.querySelector("#commentform");if(t){var n=document.createElement("button");n.innerHTML="Add Comment",n.id="addComment",t.style.visibility="hidden",t.style.maxHeight="0px",t.style.padding="0px",t.style.marginTop="0px",e.appendChild(n),document.querySelector("#addComment").addEventListener("click",function(e){e.preventDefault(),e.target.style.opacity="0",t.style.visibility="visible",t.style.maxHeight="1000px",t.style.padding="1rem",t.style.marginTop="3rem"})}}(),function(){var o=document.querySelector("#loadMorePosts");if(o){var n=1,l=document.querySelector(".post-listing--list");o.addEventListener("click",function(e){var t=window.location.origin+"/wp-json/wp/v2/posts?offset="+10*n;atomic(t).then(function(e){for(var t=[],n=e.data,r=0;r<n.length;r++)t.push({date:n[r].date,author:n[r].author,category:n[r].categories[0],title:n[r].title.rendered,tags:n[r].tags,link:n[r].link,description:n[r].excerpt.rendered.slice(3,-5)});return e.data.length<10&&(o.textContent="All Posts Loaded",o.disabled=!0,o.classList.add("disabled")),t}).then(function(e){for(var t=0;t<e.length;t++){var n=e[t].date,r=new Date(n);r=r.toDateString().slice(3);var o=e[t].title,i="Uncategorized",a=e[t].link,c=e[t].description;switch(e[t].category){case 17:i="Maintenance Reminder";break;case 63:i="Service Intervals";break;case 65:i="Troubleshooting";break;case 6:i="Talk With A Tech"}var s=document.createElement("div");s.classList.add("card"),s.innerHTML='<div class="card-content">'+o+"</div>",s.querySelector(".card-content").innerHTML='<p class="card-category"><a href="/?cat='+e[t].category+'">'+i+'</a></p><h4 class="card-title"><a href="'+a+'">'+o+'</a></h4><p class="card-description">'+c+'</p><ul class="single-tags--list"></ul>',l.appendChild(s)}}).catch(function(e){console.log(e)}),n++})}}(),function(){var e=document.querySelectorAll(".accordian--title");if(e)for(var t=0;t<e.length;t++)e[t].parentElement.classList.add("accordian--is-collapsed"),e[t].addEventListener("click",function(e){e.target.parentElement.classList.contains("accordian--is-collapsed")?e.target.parentElement.classList.remove("accordian--is-collapsed"):e.target.parentElement.classList.add("accordian--is-collapsed")})}(),function(){var e=document.querySelectorAll(".tooltip--toggle");if(e)for(var t=0;t<e.length;t++)e[t].nextElementSibling.classList.add("tooltip--is-hidden"),e[t].addEventListener("click",function(e){console.log(e.target.nextElementSibling.classList.toggle("tooltip--is-hidden"))})}(),function(){var e=document.querySelectorAll(".modal--close"),t=document.querySelectorAll("button[data-modal-launch]");if(e){for(var n=0;n<t.length;n++)t[n].addEventListener("click",function(e){var t=e.target.dataset.modalLaunch;document.querySelector(".modal[data-modal="+t+"]").classList.remove("modal--is-hidden"),document.body.classList.add("modal--is-open")});for(n=0;n<e.length;n++)e[n].addEventListener("click",function(e){e.target.parentElement.parentElement.classList.add("modal--is-hidden"),document.body.classList.remove("modal--is-open")});document.addEventListener("keyup",function(e){if(27==e.keyCode){var t=document.querySelectorAll("div[data-modal]");document.body.classList.remove("modal--is-open");for(var n=0;n<t.length;n++)t[n].classList.add("modal--is-hidden")}})}}(),window.jQuery&&$("#mc-embedded-subscribe-form").on("submit",function(e){e.preventDefault();var t=$(this),n=t.find("#mce-FNAME").val();$.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",error:function(e){},success:function(e){"success"!=e.result?$("#mc_embed_signup_scroll").prepend('<p style="border: 1px solid red; padding: 1rem;">'+e.msg+"</p>"):(t.hide(),$('div[data-modal="sign-up-form"] .modal-heading').text("Great "+n+"!").next().text("You will recieve a confirmation email soon and we will keep you up to date on your needed parts."))}})}),function(){var e=parseInt(window.getComputedStyle(document.querySelector("body")).getPropertyValue("font-size")),t=document.querySelector("#stickyNav");if(t){var n=window.scrollY,r=t.offsetTop,o=t.clientWidth;window.addEventListener("resize",function(){r=t.offsetTop,console.log(r)}),document.addEventListener("scroll",function(){n=window.scrollY,r-3*e<n?(t.classList.add("nav--is-sticky"),t.style.maxWidth=o+"px"):t.classList.remove("nav--is-sticky")})}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF0b21pYy5taW4uanMiLCJzaXRlLWhlYWRlci5qcyIsInNpbmdsZS1wb3N0LmpzIiwic2luZ2xlLWNvbW1lbnRzLmpzIiwicG9zdC1saXN0aW5nLmpzIiwiYWNjb3JkaWFuLmpzIiwidG9vbHRpcC5qcyIsIm1vZGFsLmpzIiwic2lnbi11cC1mb3JtLmpzIiwic3RpY2t5LW5hdmlnYXRpb24uanMiXSwibmFtZXMiOlsidCIsImUiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwid2luZG93IiwiYXRvbWljIiwiZ2xvYmFsIiwidGhpcyIsIm4iLCJtZXRob2QiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZGF0YSIsImhlYWRlcnMiLCJDb250ZW50LXR5cGUiLCJyZXNwb25zZVR5cGUiLCJ0aW1lb3V0Iiwid2l0aENyZWRlbnRpYWxzIiwiciIsImFyZ3VtZW50cyIsImxlbmd0aCIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiYSIsIlhNTEh0dHBSZXF1ZXN0IiwibyIsIlByb21pc2UiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJ4aHIiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJzIiwic3RhdHVzVGV4dCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwib250aW1lb3V0Iiwic2VuZCIsInRlc3QiLCJzdHJpbmdpZnkiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsImkiLCJjYW5jZWwiLCJhYm9ydCIsImlubmVyV2lkdGgiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTWVudSIsImhlYWRlckhlaWdudCIsIm9mZnNldEhlaWdodCIsInN0eWxlIiwidG9wIiwiaGVhZGVyVG9wQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXZMZXZlbE9uZSIsImNsYXNzTGlzdCIsImFkZCIsInByZXZlbnREZWZhdWx0Iiwic2VsZiIsInRhcmdldCIsImNoaWxkTWVudSIsIm5leHRFbGVtZW50U2libGluZyIsImNvbnRhaW5zIiwicmVtb3ZlIiwicGFyZW50RWxlbWVudCIsImFsbExldmVsT25lTGlua3MiLCJsaW5rcyIsImoiLCJib2R5IiwidG9nZ2xlIiwiYWxlcnRDYXJ0SXRlbVRlbXBsYXRlIiwiaW5uZXJIVE1MIiwiYWRkZWRQcm9kdWN0cyIsIm1vZGVsTW9kaWZlclNlbGVjdCIsImxvYyIsInZhbHVlIiwibG9jYXRpb24iLCJocmVmIiwib3JpZ2luIiwiYWxsUm93cyIsImRhdGFzZXQiLCJwcm9kdWN0U29sZCIsImltZ0V4aXN0cyIsImltZ1BhdGgiLCJwcm9kdWN0SW1hZ2UiLCJwcm9kSW1nIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsInByb2RJbWdDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsImJ1aWxkQ2FydFN0cmluZyIsImluaXRVUkwiLCJhbGxBZGRlZFByb2R1Y3RzIiwiYWxsQWRkZWRJdGVtcyIsInByb2R1Y3RDb2RlIiwicHJvZHVjdGNvZGUiLCJwcm9kdWN0UXR5IiwiYWxlcnQiLCJwYXJ0VHlwZSIsImlubmVyVGV4dCIsInBhcnROdW1iZXIiLCJpbmNsdWRlcyIsImFkZEl0ZW0iLCJjb250YWluZXIiLCJjbGFzc2VzIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY29va2llIiwibWFpbnRlbmFuY2VLaXRDb250YWluZXIiLCJvbmxvYWQiLCJvZmZzZXRUb3AiLCJiYXNlRm9udFNpemUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZm9udFNpemUiLCJwYXJzZUludCIsInNwbGl0Iiwic2Nyb2xsWSIsIlN0cmluZyIsInNlYXJjaCIsInN0YXJ0IiwiRWxlbWVudCIsIkNoYXJhY3RlckRhdGEiLCJEb2N1bWVudFR5cGUiLCJmb3JFYWNoIiwiaXRlbSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiQXJyYXkiLCJzZWFyY2hFbGVtZW50IiwiZnJvbUluZGV4IiwiVHlwZUVycm9yIiwibGVuIiwieCIsInkiLCJrIiwiTWF0aCIsIm1heCIsImFicyIsImlzTmFOIiwiY29tbWVudHNDb250YWluZXIiLCJjb21tZW50c1JlcGx5IiwiYnV0dG9uIiwiaWQiLCJ2aXNpYmlsaXR5IiwibWF4SGVpZ2h0IiwicGFkZGluZyIsIm1hcmdpblRvcCIsIm9wYWNpdHkiLCJsb2FkUG9zdHMiLCJvZmZzZXQiLCJwb3N0TGlzdGluZyIsInVybCIsInRoZW4iLCJwb3N0T2JqIiwiZGF0ZSIsImF1dGhvciIsImNhdGVnb3J5IiwiY2F0ZWdvcmllcyIsInRpdGxlIiwicmVuZGVyZWQiLCJ0YWdzIiwibGluayIsImRlc2NyaXB0aW9uIiwiZXhjZXJwdCIsInNsaWNlIiwidGV4dENvbnRlbnQiLCJkaXNhYmxlZCIsInBvc3RUaW1lIiwicG9zdFByZXR0eVRpbWUiLCJEYXRlIiwidG9EYXRlU3RyaW5nIiwicG9zdFRpdGxlIiwicG9zdENhdGVnb3J5IiwicG9zdExpbmsiLCJwb3N0RGVzY3JpcHRpb24iLCJjYXJkIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhY2NvcmRpYW5CdXR0b25zIiwiYWxsVG9vbFRpcHMiLCJjbG9zZU1vZGFsIiwibGF1bmNoTW9kYWwiLCJtb2RhbElEIiwibW9kYWxMYXVuY2giLCJrZXlDb2RlIiwialF1ZXJ5IiwiJCIsIm9uIiwiJHRoaXMiLCJmaXJzdE5hbWUiLCJmaW5kIiwidmFsIiwiYWpheCIsInR5cGUiLCJhdHRyIiwic2VyaWFsaXplIiwiY2FjaGUiLCJkYXRhVHlwZSIsImNvbnRlbnRUeXBlIiwiZXJyIiwic3VjY2VzcyIsInJlc3VsdCIsInByZXBlbmQiLCJtc2ciLCJoaWRlIiwidGV4dCIsIm5leHQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibmF2IiwibmF2T2Zmc2V0IiwibmF2V2lkdGgiLCJjbGllbnRXaWR0aCIs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QXhILE9BQUFzSCxpQkFBQXJFLFNBQUFDLGNBQUEsU0FBQXlLLGlCQUFBLGNBRUFDLEVBQUEzSyxTQUFBQyxjQUFBLGNBRUEsR0FBQTBLLEVBQUEsQ0FFQSxJQUFBbEcsRUFBQTFILE9BQUEwSCxRQUNBbUcsRUFBQUQsRUFBQXhHLFVBQ0EwRyxFQUFBRixFQUFBRyxZQUVBL04sT0FBQW1ELGlCQUFBLFNBQUEsV0FDQTBLLEVBQUFELEVBQUF4RyxVQUNBd0UsUUFBQUMsSUFBQWdDLEtBR0E1SyxTQUFBRSxpQkFBQSxTQUFBLFdBQ0F1RSxFQUFBMUgsT0FBQTBILFFBQ0FtRyxFQUFBLEVBQUF4RyxFQUFBSyxHQUdBa0csRUFBQWhLLFVBQUFDLElBQUEsa0JBQ0ErSixFQUFBckssTUFBQXlLLFNBQUFGLEVBQUEsTUFFQUYsRUFBQWhLLFVBQUFRLE9BQUEscUJBekJBIiwiZmlsZSI6Imdsb2JhbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBhdG9taWMgdjQuMi4xIHwgKGMpIDIwMTggQ2hyaXMgRmVyZGluYW5kaSB8IE1JVCBMaWNlbnNlIHwgaHR0cHM6Ly9naXRodWIuY29tL2NmZXJkaW5hbmRpL2F0b21pYyAqL1xuIShmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sKGZ1bmN0aW9uKCl7cmV0dXJuIGUodCl9KSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSh0KTp3aW5kb3cuYXRvbWljPWUodCl9KShcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZSxuPXttZXRob2Q6XCJHRVRcIix1c2VybmFtZTpudWxsLHBhc3N3b3JkOm51bGwsZGF0YTp7fSxoZWFkZXJzOntcIkNvbnRlbnQtdHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LHJlc3BvbnNlVHlwZTpcInRleHRcIix0aW1lb3V0Om51bGwsd2l0aENyZWRlbnRpYWxzOiExfSxvPWZ1bmN0aW9uKCl7cmV0dXJuXCJYTUxIdHRwUmVxdWVzdFwiaW4gdCYmXCJKU09OXCJpbiB0JiZcIlByb21pc2VcImluIHR9LHI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTshKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJihcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVbbl0pP3Rbbl09cih0W25dLGVbbl0pOnRbbl09ZVtuXSl9KShuKX1yZXR1cm4gdH0scz1mdW5jdGlvbih0KXt2YXIgbjtpZihcInRleHRcIiE9PWUucmVzcG9uc2VUeXBlJiZcIlwiIT09ZS5yZXNwb25zZVR5cGUpcmV0dXJue2RhdGE6dC5yZXNwb25zZSx4aHI6dH07dHJ5e249SlNPTi5wYXJzZSh0LnJlc3BvbnNlVGV4dCl9Y2F0Y2goZSl7bj10LnJlc3BvbnNlVGV4dH1yZXR1cm57ZGF0YTpuLHhocjp0fX0saT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJbb2JqZWN0IEZvcm1EYXRhXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiB0O2lmKC9hcHBsaWNhdGlvblxcL2pzb24vaS50ZXN0KGUuaGVhZGVyc1tcIkNvbnRlbnQtdHlwZVwiXSl8fFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCk7dmFyIG49W107Zm9yKHZhciBvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmbi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChvKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodFtvXSkpO3JldHVybiBuLmpvaW4oXCImXCIpfSxhPWZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBYTUxIdHRwUmVxdWVzdCxvPW5ldyBQcm9taXNlKGZ1bmN0aW9uKG8scil7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09bi5yZWFkeVN0YXRlJiYobi5zdGF0dXM+PTIwMCYmbi5zdGF0dXM8MzAwP28ocyhuKSk6cih7c3RhdHVzOm4uc3RhdHVzLHN0YXR1c1RleHQ6bi5zdGF0dXNUZXh0fSkpfSxuLm9wZW4oZS5tZXRob2QsdCwhMCxlLnVzZXJuYW1lLGUucGFzc3dvcmQpLG4ucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlO2Zvcih2YXIgYSBpbiBlLmhlYWRlcnMpZS5oZWFkZXJzLmhhc093blByb3BlcnR5KGEpJiZuLnNldFJlcXVlc3RIZWFkZXIoYSxlLmhlYWRlcnNbYV0pO2UudGltZW91dCYmKG4udGltZW91dD1lLnRpbWVvdXQsbi5vbnRpbWVvdXQ9ZnVuY3Rpb24odCl7cih7c3RhdHVzOjQwOCxzdGF0dXNUZXh0OlwiUmVxdWVzdCB0aW1lb3V0XCJ9KX0pLGUud2l0aENyZWRlbnRpYWxzJiYobi53aXRoQ3JlZGVudGlhbHM9ITApLG4uc2VuZChpKGUuZGF0YSkpfSk7cmV0dXJuIG8uY2FuY2VsPWZ1bmN0aW9uKCl7bi5hYm9ydCgpfSxvfTtyZXR1cm4gZnVuY3Rpb24odCxzKXtpZighbygpKXRocm93XCJBdG9taWM6IFRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBtZXRob2RzIHVzZWQgaW4gdGhpcyBwbHVnaW4uXCI7cmV0dXJuIGU9cihuLHN8fHt9KSxhKHQpfX0pKTsiLCJpZiAod2luZG93LmlubmVyV2lkdGggPiAxMDgwKSB7XG4gICAgLy8gJCgnLm1lbnUtaXRlbS0tdG9wLWxldmVsIC5zdWItbWVudS0tbGV2ZWwtb25lID4gbGk6Zmlyc3QtY2hpbGQnKS5hZGRDbGFzcygnYWN0aXZlJykuZmluZCgnLnN1Yi1tZW51LS1sZXZlbC10d28nKS5hZGRDbGFzcygnYWNjb3JkaWFuLW9wZW4nKTtcbiAgICAvLyBhbGVydCgndGFkJyk7XG59XG5cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uI2hhbWJ1cmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICB0b2dnbGVNZW51KCk7XG4gIHZhciBoZWFkZXJIZWlnbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1oZWFkZXInKS5vZmZzZXRIZWlnaHQ7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLS1sZXZlbC16ZXJvJykuc3R5bGUudG9wID0gaGVhZGVySGVpZ250ICsgJ3B4Jztcbn0pO1xuXG52YXIgaGVhZGVyVG9wQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLS1idXR0b24nKTtcbnZhciBuYXZMZXZlbE9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBuYXZMZXZlbE9uZS5sZW5ndGg7IGkrKykge1xuICBuYXZMZXZlbE9uZVtpXS5xdWVyeVNlbGVjdG9yKCdsaTpmaXJzdC1jaGlsZCBhJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVyVG9wQnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICBoZWFkZXJUb3BCdXR0b25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICB2YXIgY2hpbGRNZW51ID0gc2VsZi5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24tLWxldmVsLW9uZScpO1xuICAgIGlmIChjaGlsZE1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgY2hpbGRNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgc2VsZi5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHNlbGYubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgc2VsZi5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24tLWxldmVsLW9uZScpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZyhzZWxmLnBhcmVudEVsZW1lbnQpO1xuICAgIC8vIHNlbGYucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24tLWxldmVsLW9uZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9KTtcbn1cblxudmFyIGFsbExldmVsT25lTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lID4gbGkgPiBhJyk7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgYWxsTGV2ZWxPbmVMaW5rcy5sZW5ndGg7IGkrKykge1xuICBhbGxMZXZlbE9uZUxpbmtzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lID4gbGkgPiBhJyk7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5rcy5sZW5ndGg7IGorKykge1xuICAgICAgbGlua3Nbal0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICAgIC8vIGlmIChhbGxMZXZlbE9uZUxpbmtzLmNsYXNzTGlzdC5jb250YWlucygnJykpIHt9XG4gICAgLy8gYWxsTGV2ZWxPbmVMaW5rcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAvLyBjb25zb2xlLmxvZyhlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lID4gbGkgPiBhJykpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTWVudSgpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ21lbnUtb3BlbicpO1xuICAgIHZhciBtZW51QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hhbWJ1cmdlcicpO1xuICAgIG1lbnVCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG59IiwiKGZ1bmN0aW9uKCkge1xuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtaXRlbScpKSB7XG4gICAgdmFyIGFsZXJ0Q2FydEl0ZW1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1pdGVtJykuaW5uZXJIVE1MO1xuICB9XG4gIHZhciBhZGRlZFByb2R1Y3RzID0gW107XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1saXN0JykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtbGlzdCcpLmlubmVySFRNTCA9ICcnO1xuICB9XG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIE1JTklaRVMgQUxFUlQgT04gUEFHRSBMT0FEIElGIENPT0tJRSBQUkVTRU5UXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICAvLyBpZiAoZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgLy8gICByZXR1cm4gaXRlbS5pbmRleE9mKCdjYXJ0VVJMPScpID49IDBcbiAgLy8gfSkubGVuZ3RoKSB7XG4gIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1hZGQtdG8tY2FydCcpLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKTtcbiAgLy8gfVxuXG4gIFxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBDSEFOR0UgUEFHRSBXSEVOIFNFTEVDVEVEIE1PREVMIE1PRElGSUVSXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIHZhciBtb2RlbE1vZGlmZXJTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kZWxNb2RpZmllcnMnKTtcbiAgdmFyIG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbl9jb250ZW50Jyk7XG5cbiAgaWYgKG1vZGVsTW9kaWZlclNlbGVjdCkge1xuICAgIG1vZGVsTW9kaWZlclNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgbG9jID0gZS50YXJnZXQudmFsdWU7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnLycgKyBsb2M7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgU0hPVyBQUk9EVUNUIElNQUdFIE9OIEhPVkVSXG4gIEBub3RlID0gT25seSBydW5zIG9uIHNjcmVlbiBsYXJnZXIgdGhhbiAxMDgwcHhcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICB2YXIgYWxsUm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RhYmxlIHRyJyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxSb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgYWxsUm93c1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwODApIHx8IChlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCd0ZDpmaXJzdC1jaGlsZCcpLmRhdGFzZXQucHJvZHVjdFNvbGQgPT09ICdmYWxzZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGltZ0V4aXN0cyA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkIC5wcm9kdWN0LWltYWdlLWNvbnRhaW5lcicpO1xuICAgICAgaWYgKGltZ0V4aXN0cykge1xuICAgICAgICBpbWdFeGlzdHMuY2xhc3NMaXN0LnJlbW92ZSgncHJvZHVjdC1pbWFnZS0taXMtaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGltZ1BhdGggPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCd0ZDpmaXJzdC1jaGlsZCcpLmRhdGFzZXQucHJvZHVjdEltYWdlO1xuICAgICAgdmFyIHByb2RJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgIHByb2RJbWcuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1pbWFnZScpO1xuICAgICAgXG4gICAgICBpZiAodHlwZW9mIGltZ1BhdGggPT09ICd1bmRlZmluZWQnKSB7IFxuICAgICAgICBwcm9kSW1nLnNyYyA9ICdodHRwczovL2NkbjMudm9sdXNpb24uY29tL3l4aGZlLmRmcWV3L3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltYWdlcy9ub3Bob3RvLmdpZic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9kSW1nLnNyYyA9IGltZ1BhdGg7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9kSW1nQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBwcm9kSW1nQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtaW1hZ2UtY29udGFpbmVyJyk7XG4gICAgICBwcm9kSW1nQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2RJbWcpO1xuICAgICAgXG4gICAgICB2YXIgdGFibGVDZWxsID0gZS50YXJnZXQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQnKS5hcHBlbmRDaGlsZChwcm9kSW1nQ29udGFpbmVyKTtcbiAgICAgIFxuICAgIH0pO1xuXG4gICAgYWxsUm93c1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oZSkge1xuICAgICAgZS50YXJnZXQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQgLnByb2R1Y3QtaW1hZ2UtY29udGFpbmVyJykuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1pbWFnZS0taXMtaGlkZGVuJyk7XG4gICAgfSk7XG4gIH1cblxuXG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICBBRERJTkcgUFJPRFVDVCBUTyBDQVJUXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICBcbiAgICBpZiAoc2VsZi5jbGFzc0xpc3QuY29udGFpbnMoJ2FkZC10by1jYXJ0JykpIHtcblxuICAgICAgdmFyIGFsZXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1hZGQtdG8tY2FydCcpO1xuICAgICAgdmFyIHBhcnRUeXBlID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJykuaW5uZXJUZXh0O1xuICAgICAgdmFyIHBhcnROdW1iZXIgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigndGQ6bnRoLWNoaWxkKDIpJykuaW5uZXJUZXh0O1xuXG4gICAgICBpZiAoYWRkZWRQcm9kdWN0cy5pbmNsdWRlcyhwYXJ0TnVtYmVyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFkZGVkUHJvZHVjdHMucHVzaChwYXJ0TnVtYmVyKTtcblxuICAgICAgdmFyIGFkZEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnbGknICk7XG4gICAgICBhZGRJdGVtLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1jYXJ0LWl0ZW0nKTtcbiAgICAgIGFkZEl0ZW0uZGF0YXNldC5wcm9kdWN0Y29kZSA9IHBhcnROdW1iZXI7XG4gICAgICBhZGRJdGVtLmlubmVySFRNTCA9IGFsZXJ0Q2FydEl0ZW1UZW1wbGF0ZTtcblxuICAgICAgYWRkSXRlbS5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtcGFydC1udW1iZXInKS5pbm5lclRleHQgPSBwYXJ0TnVtYmVyO1xuICAgICAgYWRkSXRlbS5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtcGFydC10eXBlJykuaW5uZXJUZXh0ID0gcGFydFR5cGU7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1saXN0JykuYXBwZW5kQ2hpbGQoYWRkSXRlbSk7XG4gICAgICBcblxuICAgICAgYWxlcnQuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLWFjdGl2ZScpO1xuXG4gICAgICBpZiAoYWxlcnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbGVydC0taXMtbWluaW1pemVkJykpIHtcbiAgICAgICAgYWxlcnQuY2xhc3NMaXN0LnJlbW92ZSgnYWxlcnQtLWlzLW1pbmltaXplZCcpXG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFRPR0dMRSBDQVJUIEFMRVJUXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbG9zZUFsZXJ0JykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvc2VBbGVydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICAgIHZhciBjb250YWluZXIgPSBzZWxmLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgIHZhciBjbGFzc2VzID0gY29udGFpbmVyLmNsYXNzTGlzdC50b1N0cmluZygpO1xuXG4gICAgICBpZiAoY2xhc3Nlcy5pbmNsdWRlcygnYWxlcnQtLWlzLW1pbmltaXplZCcpICYmIGNsYXNzZXMuaW5jbHVkZXMoJ2FsZXJ0LS1pcy1hY3RpdmUnKSkge1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWxlcnQtLWlzLW1pbmltaXplZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1hY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICBSRU1PVkUgSVRFTSBGUk9NIENBUlRcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgIGlmIChzZWxmLmNsYXNzTGlzdC5jb250YWlucygnYWxlcnQtLXJlbW92ZS1pdGVtJykpIHtcbiAgICAgIHZhciBwcm9kdWN0Q29kZSA9IHNlbGYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQucHJvZHVjdGNvZGU7XG4gICAgICB2YXIgaW5kZXggPSBhZGRlZFByb2R1Y3RzLmluZGV4T2YocHJvZHVjdENvZGUpO1xuICAgICAgYWRkZWRQcm9kdWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgc2VsZi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7IFxuICAgIH1cbiAgfSk7XG5cblxuXG4gIGZ1bmN0aW9uIGJ1aWxkQ2FydFN0cmluZygpIHtcbiAgICB2YXIgaW5pdFVSTCA9ICdodHRwczovL3d3dy5ncmVlbmZhcm1wYXJ0cy5jb20vc2hvcHBpbmdjYXJ0LmFzcD8nO1xuICAgIHZhciBhbGxBZGRlZFByb2R1Y3RzID0gW107XG4gICAgdmFyIGFsbEFkZGVkSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWxlcnQtLWNhcnQtaXRlbScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxBZGRlZEl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcHJvZHVjdENvZGUgPSBhbGxBZGRlZEl0ZW1zW2ldLmRhdGFzZXQucHJvZHVjdGNvZGU7XG4gICAgICB2YXIgcHJvZHVjdFF0eSA9IGFsbEFkZGVkSXRlbXNbaV0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInByb2R1Y3RfcXVhbnRpdHlcIl0nKS52YWx1ZTtcbiAgICAgIGFsbEFkZGVkUHJvZHVjdHMucHVzaCh7XG4gICAgICAgIHByb2R1Y3RDb2RlOiBwcm9kdWN0Q29kZSxcbiAgICAgICAgcHJvZHVjdFF0eTogcHJvZHVjdFF0eVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxBZGRlZFByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaSA8IDEpIHtcbiAgICAgICAgaW5pdFVSTCA9IGluaXRVUkwgKyAncHJvZHVjdGNvZGU9JyArIGFsbEFkZGVkUHJvZHVjdHNbaV0ucHJvZHVjdENvZGUgKyAnJlFUWS4nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0Q29kZSArICc9JyArIGFsbEFkZGVkUHJvZHVjdHNbaV0ucHJvZHVjdFF0eTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluaXRVUkwgPSBpbml0VVJMICsgJyZwcm9kdWN0Y29kZT0nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0Q29kZSArICcmUVRZLicgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RDb2RlICsgJz0nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0UXR5O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbml0VVJMO1xuICB9XG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIENIRUNLT1VUIC0gU2VuZCBwcm9kdWN0cyB0byBWb2x1c2lvblxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXRDaGVja291dCcpKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1Ym1pdENoZWNrb3V0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAvLyBjYXJ0IHVybCB0ZW1wbGF0ZTogaHR0cHM6Ly93d3cuZ3JlZW5mYXJtcGFydHMuY29tL3Nob3BwaW5nY2FydC5hc3A/cHJvZHVjdGNvZGU9amR6ZzkwMCZRVFkuamR6ZzkwMD01XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGJ1aWxkQ2FydFN0cmluZygpO1xuICAgIH0pO1xuICB9XG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgU0FWRSBGT1IgTEFURVIgLSBTZW5kIHByb2R1Y3RzIHRvIFZvbHVzaW9uIGFuZCBjb29raWVcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlRm9yTGF0ZXInKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlRm9yTGF0ZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9ICdjYXJ0VVJMPScgKyBidWlsZENhcnRTdHJpbmcoKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tYWRkLXRvLWNhcnQnKS5jbGFzc0xpc3QuYWRkKCdhbGVydC0taXMtbWluaW1pemVkJyk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBTVElDS1kgTUFJTlRFTkFOQ0UgS0lUIEJVWSBOT1dcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG5cbiAgdmFyIG1haW50ZW5hbmNlS2l0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW50ZW5hbmNlLWtpdC1jb250YWluZXInKTtcbiAgaWYgKG1haW50ZW5hbmNlS2l0Q29udGFpbmVyICYmIHdpbmRvdy5pbm5lcldpZHRoID4gMTA4MCkge1xuICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvZmZzZXRUb3AgPSBtYWludGVuYW5jZUtpdENvbnRhaW5lci5vZmZzZXRUb3A7XG4gICAgICB2YXIgYmFzZUZvbnRTaXplID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSwgbnVsbCkuZm9udFNpemU7XG4gICAgICBiYXNlRm9udFNpemUgPSBwYXJzZUludChiYXNlRm9udFNpemUuc3BsaXQoJ3B4JylbMF0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAod2luZG93LnNjcm9sbFkgPiAob2Zmc2V0VG9wIC0gKGJhc2VGb250U2l6ZSAqIDMpKSkge1xuICAgICAgICAgIG1haW50ZW5hbmNlS2l0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21haW50ZW5hbmNlLWtpdC1jb250YWluZXItLWlzLWZpeGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZIDwgKG9mZnNldFRvcCAtIChiYXNlRm9udFNpemUgKiAzKSkpIHtcbiAgICAgICAgICBtYWludGVuYW5jZUtpdENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYWludGVuYW5jZS1raXQtY29udGFpbmVyLS1pcy1maXhlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuXG5cbn0pKCk7XG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5QT0xZRklMTCBGT1Igc3RyLmluY2x1ZGVzKClcbkBMSU5LIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9pbmNsdWRlc1xuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHNlYXJjaCwgc3RhcnQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHR5cGVvZiBzdGFydCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgXG4gICAgaWYgKHN0YXJ0ICsgc2VhcmNoLmxlbmd0aCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoLCBzdGFydCkgIT09IC0xO1xuICAgIH1cbiAgfTtcbn1cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5QT0xZRklMTCBGT1Igbm9kZS5yZW1vdmUoKVxuQExJTksgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NoaWxkTm9kZS9yZW1vdmVcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbihmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ3JlbW92ZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdGVtLCAncmVtb3ZlJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSAhPT0gbnVsbClcbiAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSkoW0VsZW1lbnQucHJvdG90eXBlLCBDaGFyYWN0ZXJEYXRhLnByb3RvdHlwZSwgRG9jdW1lbnRUeXBlLnByb3RvdHlwZV0pO1xuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuUE9MWUZJTEwgRk9SIGFycmF5LmluY2x1ZGVzXG5ATElOSyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmNsdWRlc1xuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKCFBcnJheS5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2luY2x1ZGVzJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbihzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcblxuICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInRoaXNcIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIDEuIExldCBPIGJlID8gVG9PYmplY3QodGhpcyB2YWx1ZSkuXG4gICAgICB2YXIgbyA9IE9iamVjdCh0aGlzKTtcblxuICAgICAgLy8gMi4gTGV0IGxlbiBiZSA/IFRvTGVuZ3RoKD8gR2V0KE8sIFwibGVuZ3RoXCIpKS5cbiAgICAgIHZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDtcblxuICAgICAgLy8gMy4gSWYgbGVuIGlzIDAsIHJldHVybiBmYWxzZS5cbiAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBMZXQgbiBiZSA/IFRvSW50ZWdlcihmcm9tSW5kZXgpLlxuICAgICAgLy8gICAgKElmIGZyb21JbmRleCBpcyB1bmRlZmluZWQsIHRoaXMgc3RlcCBwcm9kdWNlcyB0aGUgdmFsdWUgMC4pXG4gICAgICB2YXIgbiA9IGZyb21JbmRleCB8IDA7XG5cbiAgICAgIC8vIDUuIElmIG4g4omlIDAsIHRoZW5cbiAgICAgIC8vICBhLiBMZXQgayBiZSBuLlxuICAgICAgLy8gNi4gRWxzZSBuIDwgMCxcbiAgICAgIC8vICBhLiBMZXQgayBiZSBsZW4gKyBuLlxuICAgICAgLy8gIGIuIElmIGsgPCAwLCBsZXQgayBiZSAwLlxuICAgICAgdmFyIGsgPSBNYXRoLm1heChuID49IDAgPyBuIDogbGVuIC0gTWF0aC5hYnMobiksIDApO1xuXG4gICAgICBmdW5jdGlvbiBzYW1lVmFsdWVaZXJvKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IHkgfHwgKHR5cGVvZiB4ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeSA9PT0gJ251bWJlcicgJiYgaXNOYU4oeCkgJiYgaXNOYU4oeSkpO1xuICAgICAgfVxuXG4gICAgICAvLyA3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW5cbiAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgIC8vIGEuIExldCBlbGVtZW50SyBiZSB0aGUgcmVzdWx0IG9mID8gR2V0KE8sICEgVG9TdHJpbmcoaykpLlxuICAgICAgICAvLyBiLiBJZiBTYW1lVmFsdWVaZXJvKHNlYXJjaEVsZW1lbnQsIGVsZW1lbnRLKSBpcyB0cnVlLCByZXR1cm4gdHJ1ZS5cbiAgICAgICAgaWYgKHNhbWVWYWx1ZVplcm8ob1trXSwgc2VhcmNoRWxlbWVudCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjLiBJbmNyZWFzZSBrIGJ5IDEuIFxuICAgICAgICBrKys7XG4gICAgICB9XG5cbiAgICAgIC8vIDguIFJldHVybiBmYWxzZVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59IiwiKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjb21tZW50c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaW5nbGUtY29tbWVudHMnKTtcbiAgdmFyIGNvbW1lbnRzUmVwbHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzcG9uZCcpO1xuICB2YXIgY29tbWVudEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29tbWVudGZvcm0nKTtcblxuXG4gIGlmIChjb21tZW50c1JlcGx5KSB7XG4gICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYnV0dG9uLmlubmVySFRNTCA9ICdBZGQgQ29tbWVudCc7XG4gICAgYnV0dG9uLmlkID0gJ2FkZENvbW1lbnQnO1xuXG4gICAgY29tbWVudHNSZXBseS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgY29tbWVudHNSZXBseS5zdHlsZS5tYXhIZWlnaHQgPSAnMHB4JztcbiAgICBjb21tZW50c1JlcGx5LnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICBjb21tZW50c1JlcGx5LnN0eWxlLm1hcmdpblRvcCA9ICcwcHgnO1xuXG4gICAgY29tbWVudHNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGRDb21tZW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgICAgc2VsZi5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgY29tbWVudHNSZXBseS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgY29tbWVudHNSZXBseS5zdHlsZS5tYXhIZWlnaHQgPSAnMTAwMHB4JztcbiAgICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUucGFkZGluZyA9ICcxcmVtJztcbiAgICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUubWFyZ2luVG9wID0gJzNyZW0nO1xuICAgIH0pXG5cbiAgfVxuXG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBsb2FkUG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9hZE1vcmVQb3N0cycpO1xuXG4gIGlmIChsb2FkUG9zdHMpIHtcbiAgICAgIHZhciBvZmZzZXQgPSAxO1xuICAgICAgdmFyIHBvc3RDb3VudCA9IDEwO1xuICAgICAgdmFyIHBvc3RMaXN0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvc3QtbGlzdGluZy0tbGlzdCcpO1xuXG4gICAgICBsb2FkUG9zdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL3dwLWpzb24vd3AvdjIvcG9zdHM/b2Zmc2V0PScgKyAob2Zmc2V0ICogcG9zdENvdW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICBhdG9taWModXJsKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHZhciBwb3N0T2JqID0gW107XG4gICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwb3N0T2JqLnB1c2goe1xuICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0YVtpXS5kYXRlLFxuICAgICAgICAgICAgICAgICAgYXV0aG9yOiBkYXRhW2ldLmF1dGhvcixcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBkYXRhW2ldLmNhdGVnb3JpZXNbMF0sXG4gICAgICAgICAgICAgICAgICB0aXRsZTogZGF0YVtpXS50aXRsZS5yZW5kZXJlZCxcbiAgICAgICAgICAgICAgICAgIHRhZ3M6IGRhdGFbaV0udGFncyxcbiAgICAgICAgICAgICAgICAgIGxpbms6IGRhdGFbaV0ubGluayxcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhW2ldLmV4Y2VycHQucmVuZGVyZWQuc2xpY2UoMywgLTUpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPCAxMCkge1xuICAgICAgICAgICAgICAgIGxvYWRQb3N0cy50ZXh0Q29udGVudCA9ICdBbGwgUG9zdHMgTG9hZGVkJztcbiAgICAgICAgICAgICAgICBsb2FkUG9zdHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxvYWRQb3N0cy5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHBvc3RPYmo7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihwb3N0T2JqKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zdE9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGFzc2lnbiBhbGwgZGF0YVxuICAgICAgICAgICAgICAgIHZhciBwb3N0VGltZSA9IHBvc3RPYmpbaV0uZGF0ZTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zdFByZXR0eVRpbWUgPSBuZXcgRGF0ZShwb3N0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgIHBvc3RQcmV0dHlUaW1lID0gcG9zdFByZXR0eVRpbWUudG9EYXRlU3RyaW5nKCkuc2xpY2UoMyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3RUaXRsZSA9IHBvc3RPYmpbaV0udGl0bGU7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3RDYXRlZ29yeSA9ICdVbmNhdGVnb3JpemVkJztcbiAgICAgICAgICAgICAgICB2YXIgcG9zdExpbmsgPSBwb3N0T2JqW2ldLmxpbms7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3REZXNjcmlwdGlvbiA9IHBvc3RPYmpbaV0uZGVzY3JpcHRpb247XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2gocG9zdE9ialtpXS5jYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICAgICAgcG9zdENhdGVnb3J5ID0gJ01haW50ZW5hbmNlIFJlbWluZGVyJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDYzOlxuICAgICAgICAgICAgICAgICAgICBwb3N0Q2F0ZWdvcnkgPSAnU2VydmljZSBJbnRlcnZhbHMnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgNjU6XG4gICAgICAgICAgICAgICAgICAgIHBvc3RDYXRlZ29yeSA9ICdUcm91Ymxlc2hvb3RpbmcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgcG9zdENhdGVnb3J5ID0gJ1RhbGsgV2l0aCBBIFRlY2gnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBjYXJkXG4gICAgICAgICAgICAgICAgdmFyIGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQnKTtcbiAgICAgICAgICAgICAgICBjYXJkLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCI+JyArIHBvc3RUaXRsZSArICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgIGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtY29udGVudCcpLmlubmVySFRNTCA9ICc8cCBjbGFzcz1cImNhcmQtY2F0ZWdvcnlcIj48YSBocmVmPVwiLz9jYXQ9JyArIHBvc3RPYmpbaV0uY2F0ZWdvcnkgKyAnXCI+JyArIHBvc3RDYXRlZ29yeSArICc8L2E+PC9wPjxoNCBjbGFzcz1cImNhcmQtdGl0bGVcIj48YSBocmVmPVwiJyArIHBvc3RMaW5rICsgJ1wiPicgKyBwb3N0VGl0bGUgKyAnPC9hPjwvaDQ+PHAgY2xhc3M9XCJjYXJkLWRlc2NyaXB0aW9uXCI+JyArIHBvc3REZXNjcmlwdGlvbiArICc8L3A+PHVsIGNsYXNzPVwic2luZ2xlLXRhZ3MtLWxpc3RcIj48L3VsPic7XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIGNhcmQgdG8gcmVzdWx0c1xuICAgICAgICAgICAgICAgIHBvc3RMaXN0aW5nLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgfSk7XG4gIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gIHZhciBhY2NvcmRpYW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlhbi0tdGl0bGUnKTtcbiAgaWYgKGFjY29yZGlhbkJ1dHRvbnMpIHtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWNjb3JkaWFuQnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgYWNjb3JkaWFuQnV0dG9uc1tpXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlhbi0taXMtY29sbGFwc2VkJyk7XG4gICAgICBhY2NvcmRpYW5CdXR0b25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgY29udGFpbmluZ0VsZW1lbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAoY29udGFpbmluZ0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpYW4tLWlzLWNvbGxhcHNlZCcpKSB7XG4gICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvcmRpYW4tLWlzLWNvbGxhcHNlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWNjb3JkaWFuLS1pcy1jb2xsYXBzZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgYWxsVG9vbFRpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9vbHRpcC0tdG9nZ2xlJyk7XG4gIGlmIChhbGxUb29sVGlwcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsVG9vbFRpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFsbFRvb2xUaXBzW2ldLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKCd0b29sdGlwLS1pcy1oaWRkZW4nKTtcblxuICAgICAgYWxsVG9vbFRpcHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCd0b29sdGlwLS1pcy1oaWRkZW4nKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjbG9zZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLS1jbG9zZScpO1xuICB2YXIgbGF1bmNoTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b25bZGF0YS1tb2RhbC1sYXVuY2hdJyk7XG5cbiAgaWYgKGNsb3NlTW9kYWwpIHtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF1bmNoTW9kYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxhdW5jaE1vZGFsW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgbW9kYWxJRCA9IGUudGFyZ2V0LmRhdGFzZXQubW9kYWxMYXVuY2g7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbFtkYXRhLW1vZGFsPScgKyBtb2RhbElEICsgJ10nKS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC0taXMtaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbW9kYWwtLWlzLW9wZW4nKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xvc2VNb2RhbC5sZW5ndGg7IGkrKykge1xuICAgICAgY2xvc2VNb2RhbFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21vZGFsLS1pcy1oaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC0taXMtb3BlbicpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5rZXlDb2RlICE9IDI3KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBsYXVuY2hNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdltkYXRhLW1vZGFsXScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC0taXMtb3BlbicpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXVuY2hNb2RhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYXVuY2hNb2RhbFtpXS5jbGFzc0xpc3QuYWRkKCdtb2RhbC0taXMtaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG59KSgpOyIsImlmICh3aW5kb3cualF1ZXJ5KSB7XG5cbiAgKGZ1bmN0aW9uKCkge1xuXG5cbiAgICAkKCcjbWMtZW1iZWRkZWQtc3Vic2NyaWJlLWZvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgXG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICBcbiAgICAgIHZhciBmaXJzdE5hbWUgPSAkdGhpcy5maW5kKCcjbWNlLUZOQU1FJykudmFsKCk7XG4gIFxuICAgICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJHRoaXMuYXR0cignbWV0aG9kJyksXG4gICAgICAgIHVybDogJHRoaXMuYXR0cignYWN0aW9uJyksXG4gICAgICAgIGRhdGE6ICR0aGlzLnNlcmlhbGl6ZSgpLFxuICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICBcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIGlmIChkYXRhLnJlc3VsdCAhPSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICQoJyNtY19lbWJlZF9zaWdudXBfc2Nyb2xsJykucHJlcGVuZCgnPHAgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCByZWQ7IHBhZGRpbmc6IDFyZW07XCI+JyArIGRhdGEubXNnICsgJzwvcD4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgJCgnZGl2W2RhdGEtbW9kYWw9XCJzaWduLXVwLWZvcm1cIl0gLm1vZGFsLWhlYWRpbmcnKS50ZXh0KCdHcmVhdCAnICsgZmlyc3ROYW1lICsgJyEnKS5uZXh0KCkudGV4dCgnWW91IHdpbGwgcmVjaWV2ZSBhIGNvbmZpcm1hdGlvbiBlbWFpbCBzb29uIGFuZCB3ZSB3aWxsIGtlZXAgeW91IHVwIHRvIGRhdGUgb24geW91ciBuZWVkZWQgcGFydHMuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgXG4gICAgfSk7XG4gIFxuICB9KSgpO1xuXG59IiwiKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBiYXNlRm9udFNpemUgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykpLmdldFByb3BlcnR5VmFsdWUoJ2ZvbnQtc2l6ZScpKTtcblxuICB2YXIgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0aWNreU5hdicpO1xuXG4gIGlmIChuYXYpIHtcblxuICAgIHZhciBzY3JvbGxZID0gd2luZG93LnNjcm9sbFk7XG4gICAgdmFyIG5hdk9mZnNldCA9IG5hdi5vZmZzZXRUb3A7XG4gICAgdmFyIG5hdldpZHRoID0gbmF2LmNsaWVudFdpZHRoO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgbmF2T2Zmc2V0ID0gbmF2Lm9mZnNldFRvcDtcbiAgICAgIGNvbnNvbGUubG9nKG5hdk9mZnNldCk7XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIHZhciBtYWtlU3RpY2t5ID0gc2Nyb2xsWSA+IChuYXZPZmZzZXQgLSAoYmFzZUZvbnRTaXplICogMykpO1xuXG4gICAgICBpZiAobWFrZVN0aWNreSkge1xuICAgICAgICBuYXYuY2xhc3NMaXN0LmFkZCgnbmF2LS1pcy1zdGlja3knKTtcbiAgICAgICAgbmF2LnN0eWxlLm1heFdpZHRoID0gbmF2V2lkdGggKyAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0taXMtc3RpY2t5Jyk7XG4gICAgICB9XG5cblxuICAgIH0pO1xuXG4gIH1cblxufSkoKTsgIl19
