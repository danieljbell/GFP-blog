!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):window.atomic=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(n){"use strict";var a,r={method:"GET",username:null,password:null,data:{},headers:{"Content-type":"application/x-www-form-urlencoded"},responseType:"text",timeout:null,withCredentials:!1},o=function(){for(var n={},e=0;e<arguments.length;e++){!function(e){for(var t in e)e.hasOwnProperty(t)&&("[object Object]"===Object.prototype.toString.call(e[t])?n[t]=o(n[t],e[t]):n[t]=e[t])}(arguments[e])}return n},i=function(r){var o=new XMLHttpRequest,e=new Promise(function(e,t){for(var n in o.onreadystatechange=function(){4===o.readyState&&(200<=o.status&&o.status<300?e(function(t){var n;if("text"!==a.responseType&&""!==a.responseType)return{data:t.response,xhr:t};try{n=JSON.parse(t.responseText)}catch(e){n=t.responseText}return{data:n,xhr:t}}(o)):t({status:o.status,statusText:o.statusText}))},o.open(a.method,r,!0,a.username,a.password),o.responseType=a.responseType,a.headers)a.headers.hasOwnProperty(n)&&o.setRequestHeader(n,a.headers[n]);a.timeout&&(o.timeout=a.timeout,o.ontimeout=function(e){t({status:408,statusText:"Request timeout"})}),a.withCredentials&&(o.withCredentials=!0),o.send(function(e){if("string"==typeof e||"[object FormData]"===Object.prototype.toString.call(e))return e;if(/application\/json/i.test(a.headers["Content-type"])||"[object Array]"===Object.prototype.toString.call(e))return JSON.stringify(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(a.data))});return e.cancel=function(){o.abort()},e};return function(e,t){if(!("XMLHttpRequest"in n&&"JSON"in n&&"Promise"in n))throw"Atomic: This browser does not support the methods used in this plugin.";return a=o(r,t||{}),i(e)}}),window.innerWidth,document.querySelector("button#hamburger").addEventListener("click",function(e){toggleMenu();var t=document.querySelector(".site-header").offsetHeight;document.querySelector(".navigation--level-zero").style.top=t+"px"});for(var headerTopButtons=document.querySelectorAll(".navigation--button"),navLevelOne=document.querySelectorAll(".navigation--level-one"),i=0;i<navLevelOne.length;i++)navLevelOne[i].querySelector("li:first-child a").classList.add("active");for(i=0;i<headerTopButtons.length;i++)headerTopButtons[i].addEventListener("click",function(e){e.preventDefault();var t=e.target,n=t.nextElementSibling.querySelector(".navigation--level-one");n.classList.contains("active")?(n.classList.remove("active"),t.nextElementSibling.classList.remove("active")):(t.parentElement.classList.add("active"),t.nextElementSibling.classList.add("active"),t.nextElementSibling.querySelector(".navigation--level-one").classList.add("active"))});var allLevelOneLinks=document.querySelectorAll(".navigation--level-one > li > a");for(i=0;i<allLevelOneLinks.length;i++)allLevelOneLinks[i].addEventListener("click",function(e){e.preventDefault();for(var t=document.querySelectorAll(".navigation--level-one > li > a"),n=0;n<t.length;n++)t[n].classList.remove("active");e.target.classList.add("active")});function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}!function(){if(document.querySelector(".alert--cart-item"))var a=document.querySelector(".alert--cart-item").innerHTML;var i=[];document.querySelector(".alert--cart-list")&&(document.querySelector(".alert--cart-list").innerHTML="");var e=document.querySelector("#modelModifiers");document.querySelector("#main_content");e&&e.addEventListener("change",function(e){var t=e.target.value;window.location.href=t});for(var t=document.querySelectorAll("table tr"),n=0;n<t.length;n++)t[n].addEventListener("mouseenter",function(e){if(!(window.innerWidth<1080||"false"===e.target.querySelector("td:first-child").dataset.productSold)){var t=e.target.querySelector("td:first-child .product-image-container");if(t)t.classList.remove("product-image--is-hidden");else{var n=e.target.querySelector("td:first-child").dataset.productImage,r=document.createElement("img");r.classList.add("product-image"),r.src=void 0===n?"https://cdn3.volusion.com/yxhfe.dfqew/v/vspfiles/templates/gfp-test/images/nophoto.gif":n;var o=document.createElement("div");o.classList.add("product-image-container"),o.appendChild(r);e.target.querySelector("td:first-child").appendChild(o)}}}),t[n].addEventListener("mouseleave",function(e){e.target.querySelector("td:first-child .product-image-container").classList.add("product-image--is-hidden")});function r(){for(var e="https://www.greenfarmparts.com/shoppingcart.asp?",t=[],n=document.querySelectorAll(".alert--cart-item"),r=0;r<n.length;r++){var o=n[r].dataset.productcode,a=n[r].querySelector('input[name="product_quantity"]').value;t.push({productCode:o,productQty:a})}for(r=0;r<t.length;r++)e=r<1?e+"productcode="+t[r].productCode+"&QTY."+t[r].productCode+"="+t[r].productQty:e+"&productcode="+t[r].productCode+"&QTY."+t[r].productCode+"="+t[r].productQty;return e}document.addEventListener("click",function(e){if(e.target.classList.contains("add-to-cart")){var t=document.querySelector(".alert--add-to-cart"),n=e.target.parentElement.parentElement.querySelector("td:first-child").innerText,r=e.target.parentElement.parentElement.querySelector("td:nth-child(2)").innerText;if(i.includes(r))return;i.push(r);var o=document.createElement("li");o.classList.add("alert--cart-item"),o.dataset.productcode=r,o.innerHTML=a,o.querySelector(".alert--cart-part-number").innerText=r,o.querySelector(".alert--cart-part-type").innerText=n,document.querySelector(".alert--cart-list").appendChild(o),t.classList.add("alert--is-active"),t.classList.contains("alert--is-minimized")&&t.classList.remove("alert--is-minimized")}}),document.querySelector("#closeAlert")&&document.querySelector("#closeAlert").addEventListener("click",function(e){var t=e.target.parentElement.parentElement,n=t.classList.toString();n.includes("alert--is-minimized")&&n.includes("alert--is-active")?t.classList.remove("alert--is-minimized"):(t.classList.add("alert--is-minimized"),t.classList.add("alert--is-active"))}),document.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("alert--remove-item")){var n=t.parentElement.parentElement.dataset.productcode,r=i.indexOf(n);i.splice(r,1),t.parentElement.parentElement.remove()}}),document.querySelector("#submitCheckout")&&document.querySelector("#submitCheckout").addEventListener("click",function(e){e.preventDefault(),window.location.href=r()}),document.querySelector("#saveForLater")&&document.querySelector("#saveForLater").addEventListener("click",function(e){e.preventDefault(),document.cookie="cartURL="+r(),document.querySelector(".alert--add-to-cart").classList.add("alert--is-minimized")});var o=document.querySelector(".maintenance-kit-container");o&&1080<window.innerWidth&&(window.onload=function(){var t=o.offsetTop,n=window.getComputedStyle(document.body,null).fontSize;n=parseInt(n.split("px")[0]),window.addEventListener("scroll",function(e){window.scrollY>t-3*n&&o.classList.add("maintenance-kit-container--is-fixed"),window.scrollY<t-3*n&&o.classList.remove("maintenance-kit-container--is-fixed")})})}(),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var o,a,i=0|t,c=Math.max(0<=i?i:r-Math.abs(i),0);for(;c<r;){if((o=n[c])===(a=e)||"number"==typeof o&&"number"==typeof a&&isNaN(o)&&isNaN(a))return!0;c++}return!1}}),function(){var e=document.querySelector(".single-comments"),t=document.querySelector("#respond");document.querySelector("#commentform");if(t){var n=document.createElement("button");n.innerHTML="Add Comment",n.id="addComment",t.style.visibility="hidden",t.style.maxHeight="0px",t.style.padding="0px",t.style.marginTop="0px",e.appendChild(n),document.querySelector("#addComment").addEventListener("click",function(e){e.preventDefault(),e.target.style.opacity="0",t.style.visibility="visible",t.style.maxHeight="1000px",t.style.padding="1rem",t.style.marginTop="3rem"})}}(),function(){var o=document.querySelector("#loadMorePosts");if(o){var r=1,l=document.querySelector(".post-listing--list");o.addEventListener("click",function(e){var t=window.location.origin+"/wp-json/wp/v2/posts?offset="+10*r;if(document.body.classList.contains("category")){var n=document.body.classList;console.log(n)}o.disabled=!0,o.classList.add("disabled"),atomic(t).then(function(e){for(var t=[],n=e.data,r=0;r<n.length;r++)t.push({date:n[r].date,author:n[r].author,category:n[r].categories[0],title:n[r].title.rendered,tags:n[r].tags,link:n[r].link,description:n[r].excerpt.rendered.slice(3,-5)});return o.disabled=!1,o.classList.remove("disabled"),e.data.length<10&&(o.textContent="All Posts Loaded",o.disabled=!0,o.classList.add("disabled")),t}).then(function(e){for(var t=0;t<e.length;t++){var n=e[t].date,r=new Date(n);r=r.toDateString().slice(3);var o=e[t].title,a="Uncategorized",i=e[t].link,c=e[t].description;switch(e[t].category){case 17:a="Maintenance Reminder";break;case 63:a="Service Intervals";break;case 65:a="Troubleshooting";break;case 6:a="Talk With A Tech"}var s=document.createElement("div");s.classList.add("card"),s.innerHTML='<div class="card-content">'+o+"</div>",s.querySelector(".card-content").innerHTML='<p class="card-category"><a href="/?cat='+e[t].category+'">'+a+'</a></p><h4 class="card-title"><a href="'+i+'">'+o+'</a></h4><p class="card-description">'+c+'</p><ul class="single-tags--list"></ul>',l.appendChild(s)}}).catch(function(e){console.log(e)}),r++})}}(),function(){var e=document.querySelectorAll(".accordian--title");if(e)for(var t=0;t<e.length;t++)e[t].parentElement.classList.add("accordian--is-collapsed"),e[t].addEventListener("click",function(e){e.target.parentElement.classList.contains("accordian--is-collapsed")?e.target.parentElement.classList.remove("accordian--is-collapsed"):e.target.parentElement.classList.add("accordian--is-collapsed")})}(),function(){var e=document.querySelectorAll(".tooltip--toggle");if(e)for(var t=0;t<e.length;t++)e[t].nextElementSibling.classList.add("tooltip--is-hidden"),e[t].addEventListener("click",function(e){console.log(e.target.nextElementSibling.classList.toggle("tooltip--is-hidden"))})}(),function(){var e=document.querySelectorAll(".modal--close"),t=document.querySelectorAll("button[data-modal-launch]");if(e){for(var n=0;n<t.length;n++)t[n].addEventListener("click",function(e){console.log(e);var t=e.target.dataset.modalLaunch;if(document.querySelector(".modal[data-modal="+t+"]").classList.remove("modal--is-hidden"),document.body.classList.add("modal--is-open"),t="sign-up-form")for(var n=document.querySelectorAll('meta[property="article:tag"]'),r=0;r<n.length;r++)if(n[r].content.includes("John Deere")&&"John Deere Lawn Tractor"!==n[r].content){var o=n[r].content.split("John Deere ")[1];document.querySelector("#mce-MODEL").value=o.toUpperCase()}});for(n=0;n<e.length;n++)e[n].addEventListener("click",function(e){e.target.parentElement.parentElement.classList.add("modal--is-hidden"),document.body.classList.remove("modal--is-open")});document.addEventListener("keyup",function(e){if(27==e.keyCode){var t=document.querySelectorAll("div[data-modal]");document.body.classList.remove("modal--is-open");for(var n=0;n<t.length;n++)t[n].classList.add("modal--is-hidden")}})}}(),window.jQuery&&$("#mc-embedded-subscribe-form").on("submit",function(e){e.preventDefault();var t=$(this),n=t.find("#mce-EMAIL").val(),r=t.find("#mce-FNAME").val(),o=t.find("#mce-LNAME").val(),a=t.find("#mce-MODEL").val(),i=t.find("#mce-CURRENT_HR").val(),c=t.find("#mce-MOWING_TIM").val();c=c.split("(")[1].split(")")[0].toLowerCase(),$.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",error:function(e){},success:function(e){"success"!=e.result?$("#mc_embed_signup_scroll").prepend('<p style="border: 1px solid red; padding: 1rem;">'+e.msg+"</p>"):(t.hide(),$('div[data-modal="sign-up-form"] .modal-heading').text("Great "+r+"!").next().text("You will receive a confirmation email soon and we will keep you up to date on your needed parts.")),$.ajax({type:"POST",url:"https://api.flock.com/hooks/sendMessage/855832cd-bd79-436d-9f1f-dcf0020251dd",data:JSON.stringify({text:r+" "+o+" has a "+a+" with "+i+" hours and takes "+c+" to mow. Contact "+r+" at "+n}),dataType:"json",contentType:"application/json"})}})}),function(){var e=parseInt(window.getComputedStyle(document.querySelector("body")).getPropertyValue("font-size")),t=document.querySelector("#stickyNav");if(t){var n=window.scrollY,r=t.offsetTop,o=t.clientWidth;window.addEventListener("resize",function(){r=t.offsetTop,console.log(r)}),document.addEventListener("scroll",function(){n=window.scrollY,r-3*e<n?(t.classList.add("nav--is-sticky"),t.style.maxWidth=o+"px"):t.classList.remove("nav--is-sticky")})}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF0b21pYy5taW4uanMiLCJzaXRlLWhlYWRlci5qcyIsInNpbmdsZS1wb3N0LmpzIiwic2luZ2xlLWNvbW1lbnRzLmpzIiwicG9zdC1saXN0aW5nLmpzIiwiYWNjb3JkaWFuLmpzIiwidG9vbHRpcC5qcyIsIm1vZGFsLmpzIiwic2lnbi11cC1mb3JtLmpzIiwic3RpY2t5LW5hdmlnYXRpb24uanMiXSwibmFtZXMiOlsidCIsImUiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwid2luZG93IiwiYXRvbWljIiwiZ2xvYmFsIiwidGhpcyIsIm4iLCJtZXRob2QiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZGF0YSIsImhlYWRlcnMiLCJDb250ZW50LXR5cGUiLCJyZXNwb25zZVR5cGUiLCJ0aW1lb3V0Iiwid2l0aENyZWRlbnRpYWxzIiwiciIsImFyZ3VtZW50cyIsImxlbmd0aCIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiYSIsIlhNTEh0dHBSZXF1ZXN0IiwibyIsIlByb21pc2UiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJ4aHIiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJzIiwic3RhdHVzVGV4dCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwib250aW1lb3V0Iiwic2VuZCIsInRlc3QiLCJzdHJpbmdpZnkiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsImkiLCJjYW5jZWwiLCJhYm9ydCIsImlubmVyV2lkdGgiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTWVudSIsImhlYWRlckhlaWdudCIsIm9mZnNldEhlaWdodCIsInN0eWxlIiwidG9wIiwiaGVhZGVyVG9wQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXZMZXZlbE9uZSIsImNsYXNzTGlzdCIsImFkZCIsInByZXZlbnREZWZhdWx0Iiwic2VsZiIsInRhcmdldCIsImNoaWxkTWVudSIsIm5leHRFbGVtZW50U2libGluZyIsImNvbnRhaW5zIiwicmVtb3ZlIiwicGFyZW50RWxlbWVudCIsImFsbExldmVsT25lTGlua3MiLCJsaW5rcyIsImoiLCJib2R5IiwidG9nZ2xlIiwiYWxlcnRDYXJ0SXRlbVRlbXBsYXRlIiwiaW5uZXJIVE1MIiwiYWRkZWRQcm9kdWN0cyIsIm1vZGVsTW9kaWZlclNlbGVjdCIsImxvYyIsInZhbHVlIiwibG9jYXRpb24iLCJocmVmIiwiYWxsUm93cyIsImRhdGFzZXQiLCJwcm9kdWN0U29sZCIsImltZ0V4aXN0cyIsImltZ1BhdGgiLCJwcm9kdWN0SW1hZ2UiLCJwcm9kSW1nIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsInByb2RJbWdDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsImJ1aWxkQ2FydFN0cmluZyIsImluaXRVUkwiLCJhbGxBZGRlZFByb2R1Y3RzIiwiYWxsQWRkZWRJdGVtcyIsInByb2R1Y3RDb2RlIiwicHJvZHVjdGNvZGUiLCJwcm9kdWN0UXR5IiwiYWxlcnQiLCJwYXJ0VHlwZSIsImlubmVyVGV4dCIsInBhcnROdW1iZXIiLCJpbmNsdWRlcyIsImFkZEl0ZW0iLCJjb250YWluZXIiLCJjbGFzc2VzIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY29va2llIiwibWFpbnRlbmFuY2VLaXRDb250YWluZXIiLCJvbmxvYWQiLCJvZmZzZXRUb3AiLCJiYXNlRm9udFNpemUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZm9udFNpemUiLCJwYXJzZUludCIsInNwbGl0Iiwic2Nyb2xsWSIsIlN0cmluZyIsInNlYXJjaCIsInN0YXJ0IiwiRWxlbWVudCIsIkNoYXJhY3RlckRhdGEiLCJEb2N1bWVudFR5cGUiLCJmb3JFYWNoIiwiaXRlbSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiQXJyYXkiLCJzZWFyY2hFbGVtZW50IiwiZnJvbUluZGV4IiwiVHlwZUVycm9yIiwibGVuIiwieCIsInkiLCJrIiwiTWF0aCIsIm1heCIsImFicyIsImlzTmFOIiwiY29tbWVudHNDb250YWluZXIiLCJjb21tZW50c1JlcGx5IiwiYnV0dG9uIiwiaWQiLCJ2aXNpYmlsaXR5IiwibWF4SGVpZ2h0IiwicGFkZGluZyIsIm1hcmdpblRvcCIsIm9wYWNpdHkiLCJsb2FkUG9zdHMiLCJvZmZzZXQiLCJwb3N0TGlzdGluZyIsInVybCIsIm9yaWdpbiIsImNhdCIsImNvbnNvbGUiLCJsb2ciLCJkaXNhYmxlZCIsInRoZW4iLCJwb3N0T2JqIiwiZGF0ZSIsImF1dGhvciIsImNhdGVnb3J5IiwiY2F0ZWdvcmllcyIsInRpdGxlIiwicmVuZGVyZWQiLCJ0YWdzIiwibGluayIsImRlc2NyaXB0aW9uIiwiZXhjZXJwdCIsInNsaWNlIiwidGV4dENvbnRlbnQiLCJwb3N0VGltZSIsInBvc3RQcmV0dHlUaW1lIiwiRGF0ZSIsInRvRGF0ZVN0cmluZyIsInBvc3RUaXRsZSIsInBvc3RDYXRlZ29yeSIsInBvc3RMaW5rIiwicG9zdERlc2NyaXB0aW9uIiwiY2FyZCIsImNhdGNoIiwiZXJyb3IiLCJhY2NvcmRpYW5CdXR0b25zIiwiYWxsVG9vbFRpcHMiLCJjbG9zZU1vZGFsIiwibGF1bmNoTW9kYWwiLCJtb2RhbElEIiwibW9kYWxMYXVuY2giLCJwYWdlVGFncyIsImNvbnRlbnQiLCJtb2RlbCIsInRvVXBwZXJDYXNlIiwia2V5Q29kZSIsImpRdWVyeSIsIiQiLCJvbiIsIiR0aGlzIiwiZW1haWwiLCJmaW5kIiwidmFsIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJtb2RlbE51bWJlciIsImN1cnJlbnRIb3VycyIsIm1vd2luZ1RpbWUiLCJ0b0xvd2VyQ2FzZSIsImFqYXgiLCJ0eXBlIiwiYXR0ciIsInNlcmlhbGl6ZSIsImNhY2hlIiwiZGF0YVR5cGUiLCJjb250ZW50VHlwZSIsImVyciIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJwcmVwZW5kIiwibXNnIiwiaGlkZSIsInRleHQiLCJuZXh0IiwiZ2V0UHJvcGVydHlWYWx1ZSIsIm5hdiIsIm5hdk9mZnNldCIsIm5hdldpZHRoIiwiY2xpZW50V2lkdGgiLCJtYXhXaWR0aCJdLCJtYXBwaW5ncyI6IkNBQ0EsU0FBQUEsRUFBQUMsR0FBQSxtQkFBQUMsUUFBQUEsT0FBQUMsSUFBQUQsT0FBQSxHQUFBLFdBQUEsT0FBQUQsRUFBQUQsS0FBQSxpQkFBQUksUUFBQUMsT0FBQUQsUUFBQUgsRUFBQUQsR0FBQU0sT0FBQUMsT0FBQU4sRUFBQUQsR0FBQSxDQUFBLG9CQUFBUSxPQUFBQSxPQUFBLG9CQUFBRixPQUFBQSxPQUFBRyxLQUFBLFNBQUFULEdBQUEsYUFBQSxJQUFBQyxFQUFBUyxFQUFBLENBQUFDLE9BQUEsTUFBQUMsU0FBQSxLQUFBQyxTQUFBLEtBQUFDLEtBQUEsR0FBQUMsUUFBQSxDQUFBQyxlQUFBLHFDQUFBQyxhQUFBLE9BQUFDLFFBQUEsS0FBQUMsaUJBQUEsR0FBQUMsRUFBQSxXQUFBLElBQUEsSUFBQXBCLEVBQUEsR0FBQUMsRUFBQSxFQUFBQSxFQUFBb0IsVUFBQUMsT0FBQXJCLElBQUEsRUFBQSxTQUFBQSxHQUFBLElBQUEsSUFBQVMsS0FBQVQsRUFBQUEsRUFBQXNCLGVBQUFiLEtBQUEsb0JBQUFjLE9BQUFDLFVBQUFDLFNBQUFDLEtBQUExQixFQUFBUyxJQUFBVixFQUFBVSxHQUFBVSxFQUFBcEIsRUFBQVUsR0FBQVQsRUFBQVMsSUFBQVYsRUFBQVUsR0FBQVQsRUFBQVMsSUFBQSxDQUFBVyxVQUFBcEIsSUFBQSxPQUFBRCxHQUFBNEIsRUFBQSxTQUFBNUIsR0FBQSxJQUFBVSxFQUFBLElBQUFtQixlQUFBQyxFQUFBLElBQUFDLFFBQUEsU0FBQUQsRUFBQVYsR0FBQSxJQUFBLElBQUFRLEtBQUFsQixFQUFBc0IsbUJBQUEsV0FBQSxJQUFBdEIsRUFBQXVCLGFBQUEsS0FBQXZCLEVBQUF3QixRQUFBeEIsRUFBQXdCLE9B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ekcsRUFBQUcsU0FBQXZILE9BQUFxSCxpQkFBQXBFLFNBQUFDLGNBQUEsU0FBQW9MLGlCQUFBLGNBRUFDLEVBQUF0TCxTQUFBQyxjQUFBLGNBRUEsR0FBQXFMLEVBQUEsQ0FFQSxJQUFBOUcsRUFBQXpILE9BQUF5SCxRQUNBK0csRUFBQUQsRUFBQXBILFVBQ0FzSCxFQUFBRixFQUFBRyxZQUVBMU8sT0FBQW1ELGlCQUFBLFNBQUEsV0FDQXFMLEVBQUFELEVBQUFwSCxVQUNBZ0QsUUFBQUMsSUFBQW9FLEtBR0F2TCxTQUFBRSxpQkFBQSxTQUFBLFdBQ0FzRSxFQUFBekgsT0FBQXlILFFBQ0ErRyxFQUFBLEVBQUFwSCxFQUFBSyxHQUdBOEcsRUFBQTNLLFVBQUFDLElBQUEsa0JBQ0EwSyxFQUFBaEwsTUFBQW9MLFNBQUFGLEVBQUEsTUFFQUYsRUFBQTNLLFVBQUFRLE9BQUEscUJBekJBIiwiZmlsZSI6Imdsb2JhbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBhdG9taWMgdjQuMi4xIHwgKGMpIDIwMTggQ2hyaXMgRmVyZGluYW5kaSB8IE1JVCBMaWNlbnNlIHwgaHR0cHM6Ly9naXRodWIuY29tL2NmZXJkaW5hbmRpL2F0b21pYyAqL1xuIShmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sKGZ1bmN0aW9uKCl7cmV0dXJuIGUodCl9KSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSh0KTp3aW5kb3cuYXRvbWljPWUodCl9KShcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZSxuPXttZXRob2Q6XCJHRVRcIix1c2VybmFtZTpudWxsLHBhc3N3b3JkOm51bGwsZGF0YTp7fSxoZWFkZXJzOntcIkNvbnRlbnQtdHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LHJlc3BvbnNlVHlwZTpcInRleHRcIix0aW1lb3V0Om51bGwsd2l0aENyZWRlbnRpYWxzOiExfSxvPWZ1bmN0aW9uKCl7cmV0dXJuXCJYTUxIdHRwUmVxdWVzdFwiaW4gdCYmXCJKU09OXCJpbiB0JiZcIlByb21pc2VcImluIHR9LHI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTshKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJihcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVbbl0pP3Rbbl09cih0W25dLGVbbl0pOnRbbl09ZVtuXSl9KShuKX1yZXR1cm4gdH0scz1mdW5jdGlvbih0KXt2YXIgbjtpZihcInRleHRcIiE9PWUucmVzcG9uc2VUeXBlJiZcIlwiIT09ZS5yZXNwb25zZVR5cGUpcmV0dXJue2RhdGE6dC5yZXNwb25zZSx4aHI6dH07dHJ5e249SlNPTi5wYXJzZSh0LnJlc3BvbnNlVGV4dCl9Y2F0Y2goZSl7bj10LnJlc3BvbnNlVGV4dH1yZXR1cm57ZGF0YTpuLHhocjp0fX0saT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJbb2JqZWN0IEZvcm1EYXRhXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiB0O2lmKC9hcHBsaWNhdGlvblxcL2pzb24vaS50ZXN0KGUuaGVhZGVyc1tcIkNvbnRlbnQtdHlwZVwiXSl8fFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCk7dmFyIG49W107Zm9yKHZhciBvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmbi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChvKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodFtvXSkpO3JldHVybiBuLmpvaW4oXCImXCIpfSxhPWZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBYTUxIdHRwUmVxdWVzdCxvPW5ldyBQcm9taXNlKGZ1bmN0aW9uKG8scil7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09bi5yZWFkeVN0YXRlJiYobi5zdGF0dXM+PTIwMCYmbi5zdGF0dXM8MzAwP28ocyhuKSk6cih7c3RhdHVzOm4uc3RhdHVzLHN0YXR1c1RleHQ6bi5zdGF0dXNUZXh0fSkpfSxuLm9wZW4oZS5tZXRob2QsdCwhMCxlLnVzZXJuYW1lLGUucGFzc3dvcmQpLG4ucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlO2Zvcih2YXIgYSBpbiBlLmhlYWRlcnMpZS5oZWFkZXJzLmhhc093blByb3BlcnR5KGEpJiZuLnNldFJlcXVlc3RIZWFkZXIoYSxlLmhlYWRlcnNbYV0pO2UudGltZW91dCYmKG4udGltZW91dD1lLnRpbWVvdXQsbi5vbnRpbWVvdXQ9ZnVuY3Rpb24odCl7cih7c3RhdHVzOjQwOCxzdGF0dXNUZXh0OlwiUmVxdWVzdCB0aW1lb3V0XCJ9KX0pLGUud2l0aENyZWRlbnRpYWxzJiYobi53aXRoQ3JlZGVudGlhbHM9ITApLG4uc2VuZChpKGUuZGF0YSkpfSk7cmV0dXJuIG8uY2FuY2VsPWZ1bmN0aW9uKCl7bi5hYm9ydCgpfSxvfTtyZXR1cm4gZnVuY3Rpb24odCxzKXtpZighbygpKXRocm93XCJBdG9taWM6IFRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBtZXRob2RzIHVzZWQgaW4gdGhpcyBwbHVnaW4uXCI7cmV0dXJuIGU9cihuLHN8fHt9KSxhKHQpfX0pKTsiLCJpZiAod2luZG93LmlubmVyV2lkdGggPiAxMDgwKSB7XG4gICAgLy8gJCgnLm1lbnUtaXRlbS0tdG9wLWxldmVsIC5zdWItbWVudS0tbGV2ZWwtb25lID4gbGk6Zmlyc3QtY2hpbGQnKS5hZGRDbGFzcygnYWN0aXZlJykuZmluZCgnLnN1Yi1tZW51LS1sZXZlbC10d28nKS5hZGRDbGFzcygnYWNjb3JkaWFuLW9wZW4nKTtcbiAgICAvLyBhbGVydCgndGFkJyk7XG59XG5cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uI2hhbWJ1cmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICB0b2dnbGVNZW51KCk7XG4gIHZhciBoZWFkZXJIZWlnbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1oZWFkZXInKS5vZmZzZXRIZWlnaHQ7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLS1sZXZlbC16ZXJvJykuc3R5bGUudG9wID0gaGVhZGVySGVpZ250ICsgJ3B4Jztcbn0pO1xuXG52YXIgaGVhZGVyVG9wQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLS1idXR0b24nKTtcbnZhciBuYXZMZXZlbE9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLS1sZXZlbC1vbmUnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBuYXZMZXZlbE9uZS5sZW5ndGg7IGkrKykge1xuICBuYXZMZXZlbE9uZVtpXS5xdWVyeVNlbGVjdG9yKCdsaTpmaXJzdC1jaGlsZCBhJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVyVG9wQnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICBoZWFkZXJUb3BCdXR0b25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICB2YXIgY2hpbGRNZW51ID0gc2VsZi5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24tLWxldmVsLW9uZScpO1xuICAgIGlmIChjaGlsZE1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgY2hpbGRNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgc2VsZi5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHNlbGYubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgc2VsZi5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24tLWxldmVsLW9uZScpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZyhzZWxmLnBhcmVudEVsZW1lbnQpO1xuICAgIC8vIHNlbGYucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24tLWxldmVsLW9uZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9KTtcbn1cblxudmFyIGFsbExldmVsT25lTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lID4gbGkgPiBhJyk7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgYWxsTGV2ZWxPbmVMaW5rcy5sZW5ndGg7IGkrKykge1xuICBhbGxMZXZlbE9uZUxpbmtzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lID4gbGkgPiBhJyk7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5rcy5sZW5ndGg7IGorKykge1xuICAgICAgbGlua3Nbal0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICAgIC8vIGlmIChhbGxMZXZlbE9uZUxpbmtzLmNsYXNzTGlzdC5jb250YWlucygnJykpIHt9XG4gICAgLy8gYWxsTGV2ZWxPbmVMaW5rcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAvLyBjb25zb2xlLmxvZyhlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi0tbGV2ZWwtb25lID4gbGkgPiBhJykpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTWVudSgpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ21lbnUtb3BlbicpO1xuICAgIHZhciBtZW51QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hhbWJ1cmdlcicpO1xuICAgIG1lbnVCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG59IiwiKGZ1bmN0aW9uKCkge1xuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtaXRlbScpKSB7XG4gICAgdmFyIGFsZXJ0Q2FydEl0ZW1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1pdGVtJykuaW5uZXJIVE1MO1xuICB9XG4gIHZhciBhZGRlZFByb2R1Y3RzID0gW107XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1saXN0JykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNhcnQtbGlzdCcpLmlubmVySFRNTCA9ICcnO1xuICB9XG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIE1JTklaRVMgQUxFUlQgT04gUEFHRSBMT0FEIElGIENPT0tJRSBQUkVTRU5UXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICAvLyBpZiAoZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgLy8gICByZXR1cm4gaXRlbS5pbmRleE9mKCdjYXJ0VVJMPScpID49IDBcbiAgLy8gfSkubGVuZ3RoKSB7XG4gIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1hZGQtdG8tY2FydCcpLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKTtcbiAgLy8gfVxuXG4gIFxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBDSEFOR0UgUEFHRSBXSEVOIFNFTEVDVEVEIE1PREVMIE1PRElGSUVSXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIHZhciBtb2RlbE1vZGlmZXJTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kZWxNb2RpZmllcnMnKTtcbiAgdmFyIG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbl9jb250ZW50Jyk7XG5cbiAgaWYgKG1vZGVsTW9kaWZlclNlbGVjdCkge1xuICAgIG1vZGVsTW9kaWZlclNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgbG9jID0gZS50YXJnZXQudmFsdWU7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGxvYztcbiAgICB9KTtcbiAgfVxuXG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBTSE9XIFBST0RVQ1QgSU1BR0UgT04gSE9WRVJcbiAgQG5vdGUgPSBPbmx5IHJ1bnMgb24gc2NyZWVuIGxhcmdlciB0aGFuIDEwODBweFxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIHZhciBhbGxSb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGFibGUgdHInKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbFJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICBhbGxSb3dzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoKHdpbmRvdy5pbm5lcldpZHRoIDwgMTA4MCkgfHwgKGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJykuZGF0YXNldC5wcm9kdWN0U29sZCA9PT0gJ2ZhbHNlJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1nRXhpc3RzID0gZS50YXJnZXQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQgLnByb2R1Y3QtaW1hZ2UtY29udGFpbmVyJyk7XG4gICAgICBpZiAoaW1nRXhpc3RzKSB7XG4gICAgICAgIGltZ0V4aXN0cy5jbGFzc0xpc3QucmVtb3ZlKCdwcm9kdWN0LWltYWdlLS1pcy1oaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1nUGF0aCA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJykuZGF0YXNldC5wcm9kdWN0SW1hZ2U7XG4gICAgICB2YXIgcHJvZEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgcHJvZEltZy5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlJyk7XG4gICAgICBcbiAgICAgIGlmICh0eXBlb2YgaW1nUGF0aCA9PT0gJ3VuZGVmaW5lZCcpIHsgXG4gICAgICAgIHByb2RJbWcuc3JjID0gJ2h0dHBzOi8vY2RuMy52b2x1c2lvbi5jb20veXhoZmUuZGZxZXcvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1hZ2VzL25vcGhvdG8uZ2lmJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2RJbWcuc3JjID0gaW1nUGF0aDtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb2RJbWdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2RJbWdDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1pbWFnZS1jb250YWluZXInKTtcbiAgICAgIHByb2RJbWdDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZEltZyk7XG4gICAgICBcbiAgICAgIHZhciB0YWJsZUNlbGwgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCd0ZDpmaXJzdC1jaGlsZCcpLmFwcGVuZENoaWxkKHByb2RJbWdDb250YWluZXIpO1xuICAgICAgXG4gICAgfSk7XG5cbiAgICBhbGxSb3dzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCd0ZDpmaXJzdC1jaGlsZCAucHJvZHVjdC1pbWFnZS1jb250YWluZXInKS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlLS1pcy1oaWRkZW4nKTtcbiAgICB9KTtcbiAgfVxuXG5cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gIEFERElORyBQUk9EVUNUIFRPIENBUlRcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgIFxuICAgIGlmIChzZWxmLmNsYXNzTGlzdC5jb250YWlucygnYWRkLXRvLWNhcnQnKSkge1xuXG4gICAgICB2YXIgYWxlcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWFkZC10by1jYXJ0Jyk7XG4gICAgICB2YXIgcGFydFR5cGUgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQnKS5pbm5lclRleHQ7XG4gICAgICB2YXIgcGFydE51bWJlciA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCd0ZDpudGgtY2hpbGQoMiknKS5pbm5lclRleHQ7XG5cbiAgICAgIGlmIChhZGRlZFByb2R1Y3RzLmluY2x1ZGVzKHBhcnROdW1iZXIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYWRkZWRQcm9kdWN0cy5wdXNoKHBhcnROdW1iZXIpO1xuXG4gICAgICB2YXIgYWRkSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdsaScgKTtcbiAgICAgIGFkZEl0ZW0uY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWNhcnQtaXRlbScpO1xuICAgICAgYWRkSXRlbS5kYXRhc2V0LnByb2R1Y3Rjb2RlID0gcGFydE51bWJlcjtcbiAgICAgIGFkZEl0ZW0uaW5uZXJIVE1MID0gYWxlcnRDYXJ0SXRlbVRlbXBsYXRlO1xuXG4gICAgICBhZGRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1wYXJ0LW51bWJlcicpLmlubmVyVGV4dCA9IHBhcnROdW1iZXI7XG4gICAgICBhZGRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC0tY2FydC1wYXJ0LXR5cGUnKS5pbm5lclRleHQgPSBwYXJ0VHlwZTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1jYXJ0LWxpc3QnKS5hcHBlbmRDaGlsZChhZGRJdGVtKTtcbiAgICAgIFxuXG4gICAgICBhbGVydC5jbGFzc0xpc3QuYWRkKCdhbGVydC0taXMtYWN0aXZlJyk7XG5cbiAgICAgIGlmIChhbGVydC5jbGFzc0xpc3QuY29udGFpbnMoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKSkge1xuICAgICAgICBhbGVydC5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC0taXMtbWluaW1pemVkJylcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qXG4gID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgVE9HR0xFIENBUlQgQUxFUlRcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlQWxlcnQnKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbG9zZUFsZXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgICAgdmFyIGNvbnRhaW5lciA9IHNlbGYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgdmFyIGNsYXNzZXMgPSBjb250YWluZXIuY2xhc3NMaXN0LnRvU3RyaW5nKCk7XG5cbiAgICAgIGlmIChjbGFzc2VzLmluY2x1ZGVzKCdhbGVydC0taXMtbWluaW1pemVkJykgJiYgY2xhc3Nlcy5pbmNsdWRlcygnYWxlcnQtLWlzLWFjdGl2ZScpKSB7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC0taXMtbWluaW1pemVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLW1pbmltaXplZCcpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLWFjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFJFTU9WRSBJVEVNIEZST00gQ0FSVFxuICA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gICovXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgaWYgKHNlbGYuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbGVydC0tcmVtb3ZlLWl0ZW0nKSkge1xuICAgICAgdmFyIHByb2R1Y3RDb2RlID0gc2VsZi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZGF0YXNldC5wcm9kdWN0Y29kZTtcbiAgICAgIHZhciBpbmRleCA9IGFkZGVkUHJvZHVjdHMuaW5kZXhPZihwcm9kdWN0Q29kZSk7XG4gICAgICBhZGRlZFByb2R1Y3RzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBzZWxmLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTsgXG4gICAgfVxuICB9KTtcblxuXG5cbiAgZnVuY3Rpb24gYnVpbGRDYXJ0U3RyaW5nKCkge1xuICAgIHZhciBpbml0VVJMID0gJ2h0dHBzOi8vd3d3LmdyZWVuZmFybXBhcnRzLmNvbS9zaG9wcGluZ2NhcnQuYXNwPyc7XG4gICAgdmFyIGFsbEFkZGVkUHJvZHVjdHMgPSBbXTtcbiAgICB2YXIgYWxsQWRkZWRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbGVydC0tY2FydC1pdGVtJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEFkZGVkSXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwcm9kdWN0Q29kZSA9IGFsbEFkZGVkSXRlbXNbaV0uZGF0YXNldC5wcm9kdWN0Y29kZTtcbiAgICAgIHZhciBwcm9kdWN0UXR5ID0gYWxsQWRkZWRJdGVtc1tpXS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwicHJvZHVjdF9xdWFudGl0eVwiXScpLnZhbHVlO1xuICAgICAgYWxsQWRkZWRQcm9kdWN0cy5wdXNoKHtcbiAgICAgICAgcHJvZHVjdENvZGU6IHByb2R1Y3RDb2RlLFxuICAgICAgICBwcm9kdWN0UXR5OiBwcm9kdWN0UXR5XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEFkZGVkUHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpIDwgMSkge1xuICAgICAgICBpbml0VVJMID0gaW5pdFVSTCArICdwcm9kdWN0Y29kZT0nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0Q29kZSArICcmUVRZLicgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RDb2RlICsgJz0nICsgYWxsQWRkZWRQcm9kdWN0c1tpXS5wcm9kdWN0UXR5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdFVSTCA9IGluaXRVUkwgKyAnJnByb2R1Y3Rjb2RlPScgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RDb2RlICsgJyZRVFkuJyArIGFsbEFkZGVkUHJvZHVjdHNbaV0ucHJvZHVjdENvZGUgKyAnPScgKyBhbGxBZGRlZFByb2R1Y3RzW2ldLnByb2R1Y3RRdHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXRVUkw7XG4gIH1cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgQ0hFQ0tPVVQgLSBTZW5kIHByb2R1Y3RzIHRvIFZvbHVzaW9uXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1Ym1pdENoZWNrb3V0JykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VibWl0Q2hlY2tvdXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIGNhcnQgdXJsIHRlbXBsYXRlOiBodHRwczovL3d3dy5ncmVlbmZhcm1wYXJ0cy5jb20vc2hvcHBpbmdjYXJ0LmFzcD9wcm9kdWN0Y29kZT1qZHpnOTAwJlFUWS5qZHpnOTAwPTVcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYnVpbGRDYXJ0U3RyaW5nKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKlxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBTQVZFIEZPUiBMQVRFUiAtIFNlbmQgcHJvZHVjdHMgdG8gVm9sdXNpb24gYW5kIGNvb2tpZVxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqL1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmVGb3JMYXRlcicpKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmVGb3JMYXRlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZG9jdW1lbnQuY29va2llID0gJ2NhcnRVUkw9JyArIGJ1aWxkQ2FydFN0cmluZygpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1hZGQtdG8tY2FydCcpLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1taW5pbWl6ZWQnKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLypcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFNUSUNLWSBNQUlOVEVOQU5DRSBLSVQgQlVZIE5PV1xuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKi9cblxuICB2YXIgbWFpbnRlbmFuY2VLaXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbnRlbmFuY2Uta2l0LWNvbnRhaW5lcicpO1xuICBpZiAobWFpbnRlbmFuY2VLaXRDb250YWluZXIgJiYgd2luZG93LmlubmVyV2lkdGggPiAxMDgwKSB7XG4gICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9mZnNldFRvcCA9IG1haW50ZW5hbmNlS2l0Q29udGFpbmVyLm9mZnNldFRvcDtcbiAgICAgIHZhciBiYXNlRm9udFNpemUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5LCBudWxsKS5mb250U2l6ZTtcbiAgICAgIGJhc2VGb250U2l6ZSA9IHBhcnNlSW50KGJhc2VGb250U2l6ZS5zcGxpdCgncHgnKVswXSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh3aW5kb3cuc2Nyb2xsWSA+IChvZmZzZXRUb3AgLSAoYmFzZUZvbnRTaXplICogMykpKSB7XG4gICAgICAgICAgbWFpbnRlbmFuY2VLaXRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFpbnRlbmFuY2Uta2l0LWNvbnRhaW5lci0taXMtZml4ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93LnNjcm9sbFkgPCAob2Zmc2V0VG9wIC0gKGJhc2VGb250U2l6ZSAqIDMpKSkge1xuICAgICAgICAgIG1haW50ZW5hbmNlS2l0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21haW50ZW5hbmNlLWtpdC1jb250YWluZXItLWlzLWZpeGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICB9XG5cblxufSkoKTtcblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblBPTFlGSUxMIEZPUiBzdHIuaW5jbHVkZXMoKVxuQExJTksgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL2luY2x1ZGVzXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcykge1xuICBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24oc2VhcmNoLCBzdGFydCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBpZiAodHlwZW9mIHN0YXJ0ICE9PSAnbnVtYmVyJykge1xuICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc3RhcnQgKyBzZWFyY2gubGVuZ3RoID4gdGhpcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzZWFyY2gsIHN0YXJ0KSAhPT0gLTE7XG4gICAgfVxuICB9O1xufVxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblBPTFlGSUxMIEZPUiBub2RlLnJlbW92ZSgpXG5ATElOSyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2hpbGROb2RlL3JlbW92ZVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuKGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgncmVtb3ZlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0ZW0sICdyZW1vdmUnLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlICE9PSBudWxsKVxuICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KShbRWxlbWVudC5wcm90b3R5cGUsIENoYXJhY3RlckRhdGEucHJvdG90eXBlLCBEb2N1bWVudFR5cGUucHJvdG90eXBlXSk7XG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5QT0xZRklMTCBGT1IgYXJyYXkuaW5jbHVkZXNcbkBMSU5LIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luY2x1ZGVzXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAoIUFycmF5LnByb3RvdHlwZS5pbmNsdWRlcykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnaW5jbHVkZXMnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uKHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCkge1xuXG4gICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gMS4gTGV0IE8gYmUgPyBUb09iamVjdCh0aGlzIHZhbHVlKS5cbiAgICAgIHZhciBvID0gT2JqZWN0KHRoaXMpO1xuXG4gICAgICAvLyAyLiBMZXQgbGVuIGJlID8gVG9MZW5ndGgoPyBHZXQoTywgXCJsZW5ndGhcIikpLlxuICAgICAgdmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1xuXG4gICAgICAvLyAzLiBJZiBsZW4gaXMgMCwgcmV0dXJuIGZhbHNlLlxuICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIExldCBuIGJlID8gVG9JbnRlZ2VyKGZyb21JbmRleCkuXG4gICAgICAvLyAgICAoSWYgZnJvbUluZGV4IGlzIHVuZGVmaW5lZCwgdGhpcyBzdGVwIHByb2R1Y2VzIHRoZSB2YWx1ZSAwLilcbiAgICAgIHZhciBuID0gZnJvbUluZGV4IHwgMDtcblxuICAgICAgLy8gNS4gSWYgbiDiiaUgMCwgdGhlblxuICAgICAgLy8gIGEuIExldCBrIGJlIG4uXG4gICAgICAvLyA2LiBFbHNlIG4gPCAwLFxuICAgICAgLy8gIGEuIExldCBrIGJlIGxlbiArIG4uXG4gICAgICAvLyAgYi4gSWYgayA8IDAsIGxldCBrIGJlIDAuXG4gICAgICB2YXIgayA9IE1hdGgubWF4KG4gPj0gMCA/IG4gOiBsZW4gLSBNYXRoLmFicyhuKSwgMCk7XG5cbiAgICAgIGZ1bmN0aW9uIHNhbWVWYWx1ZVplcm8oeCwgeSkge1xuICAgICAgICByZXR1cm4geCA9PT0geSB8fCAodHlwZW9mIHggPT09ICdudW1iZXInICYmIHR5cGVvZiB5ID09PSAnbnVtYmVyJyAmJiBpc05hTih4KSAmJiBpc05hTih5KSk7XG4gICAgICB9XG5cbiAgICAgIC8vIDcuIFJlcGVhdCwgd2hpbGUgayA8IGxlblxuICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAgLy8gYS4gTGV0IGVsZW1lbnRLIGJlIHRoZSByZXN1bHQgb2YgPyBHZXQoTywgISBUb1N0cmluZyhrKSkuXG4gICAgICAgIC8vIGIuIElmIFNhbWVWYWx1ZVplcm8oc2VhcmNoRWxlbWVudCwgZWxlbWVudEspIGlzIHRydWUsIHJldHVybiB0cnVlLlxuICAgICAgICBpZiAoc2FtZVZhbHVlWmVybyhvW2tdLCBzZWFyY2hFbGVtZW50KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGMuIEluY3JlYXNlIGsgYnkgMS4gXG4gICAgICAgIGsrKztcbiAgICAgIH1cblxuICAgICAgLy8gOC4gUmV0dXJuIGZhbHNlXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn0iLCIoZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGNvbW1lbnRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpbmdsZS1jb21tZW50cycpO1xuICB2YXIgY29tbWVudHNSZXBseSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXNwb25kJyk7XG4gIHZhciBjb21tZW50Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb21tZW50Zm9ybScpO1xuXG5cbiAgaWYgKGNvbW1lbnRzUmVwbHkpIHtcbiAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBidXR0b24uaW5uZXJIVE1MID0gJ0FkZCBDb21tZW50JztcbiAgICBidXR0b24uaWQgPSAnYWRkQ29tbWVudCc7XG5cbiAgICBjb21tZW50c1JlcGx5LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBjb21tZW50c1JlcGx5LnN0eWxlLm1heEhlaWdodCA9ICcwcHgnO1xuICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUucGFkZGluZyA9ICcwcHgnO1xuICAgIGNvbW1lbnRzUmVwbHkuc3R5bGUubWFyZ2luVG9wID0gJzBweCc7XG5cbiAgICBjb21tZW50c0NvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZENvbW1lbnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgICBzZWxmLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICBjb21tZW50c1JlcGx5LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICBjb21tZW50c1JlcGx5LnN0eWxlLm1heEhlaWdodCA9ICcxMDAwcHgnO1xuICAgICAgY29tbWVudHNSZXBseS5zdHlsZS5wYWRkaW5nID0gJzFyZW0nO1xuICAgICAgY29tbWVudHNSZXBseS5zdHlsZS5tYXJnaW5Ub3AgPSAnM3JlbSc7XG4gICAgfSlcblxuICB9XG5cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGxvYWRQb3N0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2FkTW9yZVBvc3RzJyk7XG5cbiAgaWYgKGxvYWRQb3N0cykge1xuICAgICAgdmFyIG9mZnNldCA9IDE7XG4gICAgICB2YXIgcG9zdENvdW50ID0gMTA7XG4gICAgICB2YXIgcG9zdExpc3RpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9zdC1saXN0aW5nLS1saXN0Jyk7XG5cbiAgICAgIGxvYWRQb3N0cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvd3AtanNvbi93cC92Mi9wb3N0cz9vZmZzZXQ9JyArIChvZmZzZXQgKiBwb3N0Q291bnQpO1xuICAgICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnY2F0ZWdvcnknKSkge1xuICAgICAgICAgICAgdmFyIGNhdCA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0O1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2F0KTtcbiAgICAgICAgICAgIC8vIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL3dwLWpzb24vd3AvdjIvcG9zdHM/b2Zmc2V0PScgKyAob2Zmc2V0ICogcG9zdENvdW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsb2FkUG9zdHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGxvYWRQb3N0cy5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgICAgIFxuICAgICAgICAgIGF0b21pYyh1cmwpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgdmFyIHBvc3RPYmogPSBbXTtcbiAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBvc3RPYmoucHVzaCh7XG4gICAgICAgICAgICAgICAgICBkYXRlOiBkYXRhW2ldLmRhdGUsXG4gICAgICAgICAgICAgICAgICBhdXRob3I6IGRhdGFbaV0uYXV0aG9yLFxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGRhdGFbaV0uY2F0ZWdvcmllc1swXSxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhW2ldLnRpdGxlLnJlbmRlcmVkLFxuICAgICAgICAgICAgICAgICAgdGFnczogZGF0YVtpXS50YWdzLFxuICAgICAgICAgICAgICAgICAgbGluazogZGF0YVtpXS5saW5rLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGFbaV0uZXhjZXJwdC5yZW5kZXJlZC5zbGljZSgzLCAtNSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBsb2FkUG9zdHMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbG9hZFBvc3RzLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPCAxMCkge1xuICAgICAgICAgICAgICAgIGxvYWRQb3N0cy50ZXh0Q29udGVudCA9ICdBbGwgUG9zdHMgTG9hZGVkJztcbiAgICAgICAgICAgICAgICBsb2FkUG9zdHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxvYWRQb3N0cy5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHBvc3RPYmo7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihwb3N0T2JqKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zdE9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGFzc2lnbiBhbGwgZGF0YVxuICAgICAgICAgICAgICAgIHZhciBwb3N0VGltZSA9IHBvc3RPYmpbaV0uZGF0ZTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zdFByZXR0eVRpbWUgPSBuZXcgRGF0ZShwb3N0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgIHBvc3RQcmV0dHlUaW1lID0gcG9zdFByZXR0eVRpbWUudG9EYXRlU3RyaW5nKCkuc2xpY2UoMyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3RUaXRsZSA9IHBvc3RPYmpbaV0udGl0bGU7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3RDYXRlZ29yeSA9ICdVbmNhdGVnb3JpemVkJztcbiAgICAgICAgICAgICAgICB2YXIgcG9zdExpbmsgPSBwb3N0T2JqW2ldLmxpbms7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3REZXNjcmlwdGlvbiA9IHBvc3RPYmpbaV0uZGVzY3JpcHRpb247XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2gocG9zdE9ialtpXS5jYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICAgICAgcG9zdENhdGVnb3J5ID0gJ01haW50ZW5hbmNlIFJlbWluZGVyJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDYzOlxuICAgICAgICAgICAgICAgICAgICBwb3N0Q2F0ZWdvcnkgPSAnU2VydmljZSBJbnRlcnZhbHMnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgNjU6XG4gICAgICAgICAgICAgICAgICAgIHBvc3RDYXRlZ29yeSA9ICdUcm91Ymxlc2hvb3RpbmcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgcG9zdENhdGVnb3J5ID0gJ1RhbGsgV2l0aCBBIFRlY2gnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBjYXJkXG4gICAgICAgICAgICAgICAgdmFyIGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQnKTtcbiAgICAgICAgICAgICAgICBjYXJkLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCI+JyArIHBvc3RUaXRsZSArICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgIGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtY29udGVudCcpLmlubmVySFRNTCA9ICc8cCBjbGFzcz1cImNhcmQtY2F0ZWdvcnlcIj48YSBocmVmPVwiLz9jYXQ9JyArIHBvc3RPYmpbaV0uY2F0ZWdvcnkgKyAnXCI+JyArIHBvc3RDYXRlZ29yeSArICc8L2E+PC9wPjxoNCBjbGFzcz1cImNhcmQtdGl0bGVcIj48YSBocmVmPVwiJyArIHBvc3RMaW5rICsgJ1wiPicgKyBwb3N0VGl0bGUgKyAnPC9hPjwvaDQ+PHAgY2xhc3M9XCJjYXJkLWRlc2NyaXB0aW9uXCI+JyArIHBvc3REZXNjcmlwdGlvbiArICc8L3A+PHVsIGNsYXNzPVwic2luZ2xlLXRhZ3MtLWxpc3RcIj48L3VsPic7XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIGNhcmQgdG8gcmVzdWx0c1xuICAgICAgICAgICAgICAgIHBvc3RMaXN0aW5nLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgfSk7XG4gIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gIHZhciBhY2NvcmRpYW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlhbi0tdGl0bGUnKTtcbiAgaWYgKGFjY29yZGlhbkJ1dHRvbnMpIHtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWNjb3JkaWFuQnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgYWNjb3JkaWFuQnV0dG9uc1tpXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlhbi0taXMtY29sbGFwc2VkJyk7XG4gICAgICBhY2NvcmRpYW5CdXR0b25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgY29udGFpbmluZ0VsZW1lbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAoY29udGFpbmluZ0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpYW4tLWlzLWNvbGxhcHNlZCcpKSB7XG4gICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvcmRpYW4tLWlzLWNvbGxhcHNlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWNjb3JkaWFuLS1pcy1jb2xsYXBzZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgYWxsVG9vbFRpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9vbHRpcC0tdG9nZ2xlJyk7XG4gIGlmIChhbGxUb29sVGlwcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsVG9vbFRpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFsbFRvb2xUaXBzW2ldLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKCd0b29sdGlwLS1pcy1oaWRkZW4nKTtcblxuICAgICAgYWxsVG9vbFRpcHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCd0b29sdGlwLS1pcy1oaWRkZW4nKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjbG9zZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLS1jbG9zZScpO1xuICB2YXIgbGF1bmNoTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b25bZGF0YS1tb2RhbC1sYXVuY2hdJyk7XG5cbiAgaWYgKGNsb3NlTW9kYWwpIHtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF1bmNoTW9kYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxhdW5jaE1vZGFsW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgdmFyIG1vZGFsSUQgPSBlLnRhcmdldC5kYXRhc2V0Lm1vZGFsTGF1bmNoO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxbZGF0YS1tb2RhbD0nICsgbW9kYWxJRCArICddJykuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtLWlzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLS1pcy1vcGVuJyk7XG5cbiAgICAgICAgLy8gUG9wdWxhdGUgTW9kZWwgRmllbGQgd2l0aCBDdXJyZW50IE1vZGVsIFBhZ2VcbiAgICAgICAgaWYgKG1vZGFsSUQgPSAnc2lnbi11cC1mb3JtJykge1xuICAgICAgICAgIHZhciBwYWdlVGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ21ldGFbcHJvcGVydHk9XCJhcnRpY2xlOnRhZ1wiXScpO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZVRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgocGFnZVRhZ3NbaV0uY29udGVudC5pbmNsdWRlcygnSm9obiBEZWVyZScpKSAmJiAocGFnZVRhZ3NbaV0uY29udGVudCAhPT0gJ0pvaG4gRGVlcmUgTGF3biBUcmFjdG9yJykpIHtcbiAgICAgICAgICAgICAgdmFyIG1vZGVsID0gcGFnZVRhZ3NbaV0uY29udGVudC5zcGxpdCgnSm9obiBEZWVyZSAnKVsxXTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21jZS1NT0RFTCcpLnZhbHVlID0gbW9kZWwudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbG9zZU1vZGFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjbG9zZU1vZGFsW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbW9kYWwtLWlzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLS1pcy1vcGVuJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgIT0gMjcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGxhdW5jaE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2W2RhdGEtbW9kYWxdJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLS1pcy1vcGVuJyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhdW5jaE1vZGFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxhdW5jaE1vZGFsW2ldLmNsYXNzTGlzdC5hZGQoJ21vZGFsLS1pcy1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbn0pKCk7IiwiaWYgKHdpbmRvdy5qUXVlcnkpIHtcblxuICAoZnVuY3Rpb24oKSB7XG5cblxuICAgICQoJyNtYy1lbWJlZGRlZC1zdWJzY3JpYmUtZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gIFxuICAgICAgdmFyIGVtYWlsID0gJHRoaXMuZmluZCgnI21jZS1FTUFJTCcpLnZhbCgpO1xuICAgICAgdmFyIGZpcnN0TmFtZSA9ICR0aGlzLmZpbmQoJyNtY2UtRk5BTUUnKS52YWwoKTtcbiAgICAgIHZhciBsYXN0TmFtZSA9ICR0aGlzLmZpbmQoJyNtY2UtTE5BTUUnKS52YWwoKTtcbiAgICAgIHZhciBtb2RlbE51bWJlciA9ICR0aGlzLmZpbmQoJyNtY2UtTU9ERUwnKS52YWwoKTtcbiAgICAgIHZhciBjdXJyZW50SG91cnMgPSAkdGhpcy5maW5kKCcjbWNlLUNVUlJFTlRfSFInKS52YWwoKTtcbiAgICAgIHZhciBtb3dpbmdUaW1lID0gJHRoaXMuZmluZCgnI21jZS1NT1dJTkdfVElNJykudmFsKCk7XG4gICAgICBtb3dpbmdUaW1lID0gbW93aW5nVGltZS5zcGxpdCgnKCcpWzFdLnNwbGl0KCcpJylbMF0udG9Mb3dlckNhc2UoKTtcbiAgXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAkdGhpcy5hdHRyKCdtZXRob2QnKSxcbiAgICAgICAgdXJsOiAkdGhpcy5hdHRyKCdhY3Rpb24nKSxcbiAgICAgICAgZGF0YTogJHRoaXMuc2VyaWFsaXplKCksXG4gICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gIFxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgaWYgKGRhdGEucmVzdWx0ICE9ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgJCgnI21jX2VtYmVkX3NpZ251cF9zY3JvbGwnKS5wcmVwZW5kKCc8cCBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIHJlZDsgcGFkZGluZzogMXJlbTtcIj4nICsgZGF0YS5tc2cgKyAnPC9wPicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAkKCdkaXZbZGF0YS1tb2RhbD1cInNpZ24tdXAtZm9ybVwiXSAubW9kYWwtaGVhZGluZycpLnRleHQoJ0dyZWF0ICcgKyBmaXJzdE5hbWUgKyAnIScpLm5leHQoKS50ZXh0KCdZb3Ugd2lsbCByZWNlaXZlIGEgY29uZmlybWF0aW9uIGVtYWlsIHNvb24gYW5kIHdlIHdpbGwga2VlcCB5b3UgdXAgdG8gZGF0ZSBvbiB5b3VyIG5lZWRlZCBwYXJ0cy4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXBpLmZsb2NrLmNvbS9ob29rcy9zZW5kTWVzc2FnZS84NTU4MzJjZC1iZDc5LTQzNmQtOWYxZi1kY2YwMDIwMjUxZGQnLFxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBcInRleHRcIjogZmlyc3ROYW1lICsgXCIgXCIgKyBsYXN0TmFtZSArIFwiIGhhcyBhIFwiICsgbW9kZWxOdW1iZXIgKyBcIiB3aXRoIFwiICsgY3VycmVudEhvdXJzICsgXCIgaG91cnMgYW5kIHRha2VzIFwiICsgbW93aW5nVGltZSArIFwiIHRvIG1vdy4gQ29udGFjdCBcIiArIGZpcnN0TmFtZSArIFwiIGF0IFwiICsgZW1haWxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICBcbiAgICB9KTtcbiAgXG4gIH0pKCk7XG5cbn0iLCIoZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGJhc2VGb250U2l6ZSA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKSkuZ2V0UHJvcGVydHlWYWx1ZSgnZm9udC1zaXplJykpO1xuXG4gIHZhciBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RpY2t5TmF2Jyk7XG5cbiAgaWYgKG5hdikge1xuXG4gICAgdmFyIHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICB2YXIgbmF2T2Zmc2V0ID0gbmF2Lm9mZnNldFRvcDtcbiAgICB2YXIgbmF2V2lkdGggPSBuYXYuY2xpZW50V2lkdGg7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gICAgICBuYXZPZmZzZXQgPSBuYXYub2Zmc2V0VG9wO1xuICAgICAgY29uc29sZS5sb2cobmF2T2Zmc2V0KTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgdmFyIG1ha2VTdGlja3kgPSBzY3JvbGxZID4gKG5hdk9mZnNldCAtIChiYXNlRm9udFNpemUgKiAzKSk7XG5cbiAgICAgIGlmIChtYWtlU3RpY2t5KSB7XG4gICAgICAgIG5hdi5jbGFzc0xpc3QuYWRkKCduYXYtLWlzLXN0aWNreScpO1xuICAgICAgICBuYXYuc3R5bGUubWF4V2lkdGggPSBuYXZXaWR0aCArICdweCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LS1pcy1zdGlja3knKTtcbiAgICAgIH1cblxuXG4gICAgfSk7XG5cbiAgfVxuXG59KSgpOyAiXX0=
